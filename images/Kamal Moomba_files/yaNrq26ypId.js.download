if (self.CavalryLogger) { CavalryLogger.start_js(["BYhy4"]); }

__d("PagesIntegrityLoggingAdminDidNotSubmitAfterFakeNewsDialogShownAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingAdminDidNotSubmitAfterUnpublishedContentBankWarningDialogShownAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingAdminDidSubmitAfterFakeNewsDialogShownAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingAdminDidSubmitAfterUnpublishedContentBankWarningDialogShownAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingFakeNewsDialogShownAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"FAKE_NEWS_DIALOG_SHOWN");e.exports=a}),null);
__d("PagesIntegrityLoggingInitialLoadAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"INITIAL_LOAD");e.exports=a}),null);
__d("PagesIntegrityLoggingUnpublishedContentBankWarningDialogShownAction",["AdsDataAction"],(function(a,b,c,d,e,f){"use strict";a=b("AdsDataAction").create([],"UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN");e.exports=a}),null);
__d("OptimisticVideoPostUtils",["AsyncRequest"],(function(a,b,c,d,e,f){a={shouldShowOptimisticPost:function(a){return a.isScheduledPost||a.isHiddenFromTimeline||a.isSecret||!a.isPageToPage&&!a.isToUserProfile||a.isPremiere||a.isDraft?!1:!0},checkVideoStatus:function(a,c,d,e){new(b("AsyncRequest"))().setURI("/ajax/video/encode/feedback/ping/").setData({video_id:a}).setHandler(function(b){var f=b.getPayload();b.error||f.error?d(a,b):f.is_ready?c(a):e(a)}).send()}};e.exports=a}),null);
__d("SubscriptionLevels",[],(function(a,b,c,d,e,f){a=Object.freeze({ALL:"162318810514679",DEFAULT:"271670892858696",TOP:"266156873403755"});e.exports=a}),null);
__d("EditSubscriptions",["csx","cx","Arbiter","AsyncRequest","CSS","DOM","Event","FeedBlacklistButton","MenuDeprecated","Parent","SubscriptionLevels","ge","getOrCreateDOMID"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i=45,j=[b("SubscriptionLevels").ALL,b("SubscriptionLevels").DEFAULT,b("SubscriptionLevels").TOP],k={},l={},m={},n={},o={},p={},q={},r={},s={},t={},u={},v="/ajax/follow/follow_profile.php",w="/ajax/follow/unfollow_profile.php",x="/ajax/settings/notifications/notify_me.php",y={},z={},A={},B=null,C={};function D(a){return j.includes(a)}function E(a,c,d,e){__p&&__p();e=b("Parent").byClass(e,"uiMenuItem")||b("Parent").bySelector(e,"._54ni");var f=b("getOrCreateDOMID")(a);if(!e||!b("DOM").contains(a,e))return;else if(b("CSS").hasClass(e,"SubscribeMenuSubscribeCheckbox")){m[c]?J(f,c):I(f,c);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuUnsubscribe")){J(f,c);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuSettingsItem")){V(a,!0);return!1}else if(b("CSS").hasClass(e,"SubscriptionMenuGoBack")){V(a,!1);return!1}else if(b("CSS").hasClass(e,"SubscriptionMenuItem")){G(a,c,d,e);return!1}else if(b("CSS").hasClass(e,"SubscribeMenuNotifyMeCheckbox")){F(a,c);return!1}}function F(a,b){n[b]?Z(a,b):Y(a,b)}function G(a,c,d,e){if(b("CSS").hasClass(e,"SubscriptionMenuLevel")){if(b("MenuDeprecated").isItemChecked(e))return;T(a,c,M(e),!0,d)}else b("CSS").hasClass(e,"SubscriptionMenuCategory")?Q(c,e,!b("MenuDeprecated").isItemChecked(e),!0,d):b("CSS").hasClass(e,"SubscriptionAppStory")&&S(c,e,!b("MenuDeprecated").isItemChecked(e),d)}function H(a){return C[a]?C[a]:0}function I(a,c){var d={profile_id:c};b("Arbiter").inform("FollowingUser",d);b("Arbiter").inform(b("FeedBlacklistButton").UNBLACKLIST,d);new(b("AsyncRequest"))().setURI(v).setMethod("POST").setData({profile_id:c,location:H(a)}).setErrorHandler(b("Arbiter").inform.bind(null,"FollowUserFail",d)).send()}function J(a,c){var d={profile_id:c};b("Arbiter").inform("UnfollowingUser",d);b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,d);new(b("AsyncRequest"))().setURI(w).setMethod("POST").setData({profile_id:c,location:H(a)}).setErrorHandler(b("Arbiter").inform.bind(null,"UnfollowUserFail",d)).send()}function K(a,c,d){c={profile_id:a,level:r[a],custom_categories:s[a],location:d};new(b("AsyncRequest"))().setURI("/ajax/follow/manage_subscriptions.php").setData(c).send()}function L(a,c){__p&&__p();var d=s[c]||[],e=b("MenuDeprecated").getItems(a);e.forEach(function(a){if(b("CSS").hasClass(a,"SubscriptionMenuCategory")){var e=M(a);d.includes(e)?O(a):P(a)}else if(b("CSS").hasClass(a,"SubscriptionAppStory")){e=M(a);A[c]&&A[c][e]?O(a):P(a)}});T(a,c,r[c],!1)}function M(a){a=b("DOM").scry(a,"input")[0];return a&&a.value}function N(a){return b("DOM").find(a,"a.itemAnchor")}function O(a){b("CSS").addClass(a,"checked"),N(a).setAttribute("aria-checked",!0)}function P(a){b("CSS").removeClass(a,"checked"),N(a).setAttribute("aria-checked",!1)}function Q(a,b,c,d,e){__p&&__p();c?O(b):P(b);b=M(b);if(D(b))c&&R(a,b);else if(c)s[a].includes(b)||s[a].push(b);else{c=s[a].indexOf(b);c!==-1&&s[a].splice(c,1)}d&&K(a,b,e)}function R(a,c){r[a]=c,b("Arbiter").inform("SubscriptionLevelUpdated",{profile_id:a,level:c})}function S(a,c,d,e){e="/ajax/feed/filter_action/";var f=M(c),g={actor_id:a,app_id:f};d?(O(c),e+="resubscribe_user_app/",g.action="resubscribe_user_app",A[a]||(A[a]={}),A[a][f]=!0):(P(c),e+="unsubscribe_user_app_checkbox/",g.action="unsubscribe_user_app_checkbox",A[a]&&(A[a][f]=!1));new(b("AsyncRequest"))().setURI(e).setData(g).send()}function T(a,c,d,e,f){a=b("DOM").scry(a,".SubscriptionMenuLevel");var g=null;a.forEach(function(a){M(a)==d?g=a:b("MenuDeprecated").isItemChecked(a)&&Q(c,a,!1,!1)});g&&Q(c,g,!0,e,f)}function U(a,c,d){m[c]=d;b("CSS").conditionClass(a,"isUnsubscribed",!d);c=b("DOM").scry(a,"li.SubscribeMenuSubscribeCheckbox");if(c.length!==0){a=c[0];d?O(a):P(a)}}function V(a,c){b("CSS").conditionClass(a,"subscriptionMenuOpen",c)}function W(a,c,d){c=b("DOM").find(a,".FriendListSubscriptionsMenu");var e=b("DOM").find(c,".uiMenuInner");B!=null&&B.forEach(function(a){e.removeChild(a)});d.forEach(function(a){e.appendChild(a)});B=d}b("Arbiter").subscribe("UnfollowUser",function(a,b){t[b.profile_id]&&(R(b.profile_id,t[b.profile_id]),s[b.profile_id]=u[b.profile_id].slice())});b("Arbiter").subscribe("UpdateSubscriptionLevel",function(a,c){a=c.profile_id+"";c=c.level+"";R(a,c);var d;for(d in k)if(k[d]===a){var e=b("ge")(d);e&&T(e,a,c,!1)}});b("Arbiter").subscribe("listeditor/close_editor",function(){var a;for(a in k){var c=b("ge")(a);c&&V(c,!1)}});function X(a,c,d){__p&&__p();n[c]=d;c=z[c];if(c){d?c.select():c.deselect();return}c=b("DOM").scry(a,"li.SubscribeMenuNotifyMeCheckbox");if(c.length!==0){c=c[0];b("CSS").conditionShow(c,!0);a=b("DOM").scry(a,"li.SubscribeMenuNotifyMeCheckboxSeparator");a.length>0&&b("CSS").conditionShow(a[0],!0);d?O(c):P(c)}}function Y(a,c){a={profile_id:c};b("Arbiter").inform("EnableNotifsForUser",a);new(b("AsyncRequest"))().setURI(x).setMethod("POST").setData({notifier_id:c,enable:!0}).setErrorHandler(b("Arbiter").inform.bind(null,"EnableNotifsForUserFail",a)).send()}function Z(a,c){a={profile_id:c};b("Arbiter").inform("DisableNotifsForUser",a);new(b("AsyncRequest"))().setURI(x).setMethod("POST").setData({notifier_id:c,enable:!1}).setErrorHandler(b("Arbiter").inform.bind(null,"DisableNotifsForUserFail",a)).send()}c={init:function(a,c,d){__p&&__p();var e=b("getOrCreateDOMID")(a);C[e]=d;k[e]||b("Event").listen(a,"click",function(b){return E(a,k[e],d,b.getTarget())});d===i&&y[c].length&&W(a,c,y[c]);r[c]&&L(a,c);k[e]=c;b("CSS").conditionClass(a,"NonFriendSubscriptionMenu",!l[c]);b("CSS").conditionClass(a,"cannotSubscribe",!o[c]);b("CSS").conditionClass(a,"noSubscriptionLevels",p[c]&&!q[c]);b("CSS").conditionClass(a,"noSubscribeCheckbox",!l[c]&&!p[c]);U(a,c,m[c]);X(a,c,n[c]);b("Arbiter").subscribe(["FollowUser","FollowingUser","UnfollowUserFail"],function(b,d){d.profile_id==c&&U(a,c,!0)}.bind(this));b("Arbiter").subscribe(["UnfollowUser","UnfollowingUser","FollowUserFail"],function(d,e){e.profile_id==c&&(b("Arbiter").inform("SubMenu/Reset"),U(a,c,!1))}.bind(this));b("Arbiter").subscribe(["EnableNotifsForUser","DisableNotifsForUserFail"],function(b,d){d.profile_id==c&&X(a,c,!0)}.bind(this));b("Arbiter").subscribe(["DisableNotifsForUser","EnableNotifsForUserFail"],function(b,d){d.profile_id==c&&X(a,c,!1)}.bind(this));b("Arbiter").subscribe("listeditor/friend_lists_changed",function(b,c){if(c.notify_state){b=c.added_uid?c.added_uid:c.removed_uid;X(a,b,c.notify_state.is_notified)}}.bind(this))},getSubscriptions:function(a){return{level:r[a],custom_categories:s[a]}},registerTimelineNotifySelector:function(a,c){var d=a.getInitialMenu(),e=a.getContentRoot();d.forEachItem(function(a){var d=a.getRoot();b("CSS").hasClass(d,"SubscribeMenuNotifyMeCheckbox")&&(z[c]=a,X(e,c,n[c]))});d.subscribe("itemclick",function(a,b){b.item===z[c]&&F(e,c);return!0})},toggleNotificationsOnJoin:function(a,b){n[a]!==b&&F(null,a)},setSubscriptions:function(a,b,c,d,e,f,g,h,i,j,k,r){R(a,g+""),l[a]=b,m[a]=c,o[a]=d,p[a]=e,q[a]=f,t[a]=i+"",s[a]=h.map(String),u[a]=j.map(String),y[a]=r,n[a]=k}};e.exports=a.EditSubscriptions||c}),null);
__d("ConnectionsPYMLTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ConnectionsPYMLLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ConnectionsPYMLLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ConnectionsPYMLLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setLikeSource=function(a){this.$1.like_source=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={event:!0,like_source:!0,page_id:!0};e.exports=a}),null);
__d("PagesIntegrityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:PagesIntegrityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPageAdminNotified=function(a){this.$1.page_admin_notified=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setPageSurface=function(a){this.$1.page_surface=a;return this};a.prototype.setPostSessionUuid=function(a){this.$1.post_session_uuid=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};c={event:!0,page_admin_notified:!0,page_id:!0,page_surface:!0,post_session_uuid:!0,vc:!0};e.exports=a}),null);
__d("ProfileVideoWWWFrontendActionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ProfileVideoWWWFrontendActionLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setSessionID=function(a){this.$1.session_id=a;return this};a.prototype.setUploadError=function(a){this.$1.upload_error=a;return this};c={event:!0,session_id:!0,upload_error:!0};e.exports=a}),null);
__d("Tour",["Arbiter","LayerDestroyOnHide","LayerHideOnEscape","NavigationMessage","PageEvents"],(function(a,b,c,d,e,f){__p&&__p();function g(){"use strict";g._instance&&g._instance.setTourComplete(),g._instance=this}g.prototype.init=function(){"use strict";this._pageLeaveToken=b("Arbiter").subscribe(b("PageEvents").AJAXPIPE_ONUNLOAD,this.handleLeavePage.bind(this));this._navigationBeginToken=b("Arbiter").subscribe(b("NavigationMessage").NAVIGATION_BEGIN,this.handleTransition.bind(this));this.steps={};return this};g.prototype.registerStep=function(a,c){"use strict";a.disableBehavior(b("LayerDestroyOnHide")),a.disableBehavior(b("LayerHideOnEscape")),this.steps[c]=a,a.subscribe("show",function(){a.inform("tour-dialog-show",a)}),this.getTourStarted()||this.setTourStart()};g.prototype._unsubscribeSubscriptions=function(){"use strict";this._navigationBeginToken.unsubscribe(),this._pageLeaveToken.unsubscribe()};g.prototype.handleLeavePage=function(){"use strict";this._unsubscribeSubscriptions()};g.prototype.handleTransition=function(){"use strict";this._unsubscribeSubscriptions()};g.prototype.handleTourStart=function(){"use strict"};g.prototype.handleTourStop=function(){"use strict"};g.prototype.handleTourComplete=function(){"use strict"};g.prototype.showStep=function(a){"use strict";a=this.steps[a];this.openDialog==a||this.hideOpenDialog();if(!a)return;this.openDialog=a;a.show()};g.prototype.hideOpenDialog=function(){"use strict";this.openDialog&&(this.openDialog.hide(),this.openDialog=null)};g.prototype.getTourStarted=function(){"use strict";return this.tourStarted};g.prototype.setTourStart=function(){"use strict";this.tourStarted=!0,this.handleTourStart()};g.prototype.setTourStop=function(){"use strict";this.tourStarted=!1,this.hideOpenDialog(),this.handleTourStop()};g.prototype.setTourComplete=function(){"use strict";if(this.tourComplete)return;this.setTourStop();this.tourComplete=!0;this.handleTourComplete()};g.prototype.hideStep=function(a){"use strict";a=this.steps[a];a&&a.hide()};g.getInstance=function(){"use strict";return g._instance||(g._instance=new g())};Object.assign(g.prototype,{tourStarted:!1,tourComplete:!1,_navigationBeginToken:null,_pageLeaveToken:null,steps:{},openDialog:null});e.exports=g}),null);
__d("EgoActionType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({IMP:1,CLICK:2,CONVERSION:4,SUPPRESS:8,NEXT:16,ERROR:32,XOUT:24,NONE:0})}),null);
__d("EgoPageServiceConstants",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FAN:"fan",UNFAN:"unfan",PAGE_VIEW:"page_view",FRIEND_VIEW:"friend_view",SEE_ALL:"see_all",ADD_INTEREST:"add_interest",CONTEXT_ITEM:"tap_context_item",BOOST_POST:"tap_boost_post",WATCH_AS_PAGE:"watch_as_page",UNWATCH_AS_PAGE:"unwatch_as_page",SHOP_VIEW:"shop_view",MESSAGE:"message",FOLLOW:"follow",UNFOLLOW:"unfollow",SUBSCRIBE:"subscribe"})}),null);
__d("XPubcontentInteractionLoggingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pubcontent/suggestions/interaction_logging/",{})}),null);
__d("PageFanning",["ActorURI","Animation","AsyncRequest","ConnectionsPYMLTypedLogger","CSS","DOM","EgoActionType","EgoPageServiceConstants","Parent","URI","XPubcontentInteractionLoggingController","$","collectDataAttributes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={setFanStatus:function(a,c,d,e,f,i,j){__p&&__p();var k={ft:{}};a&&(k={ft:b("collectDataAttributes")(a,["ft"]).ft});var l=new(b("URI"))(window.location.href).getQueryData();d&&(l.ref==="pyml_feed"?new(b("ConnectionsPYMLTypedLogger"))().setEvent("like_page").setLikeSource("profile").setPageID(parseInt(c,10)).log():l.ref==="pyml_permalink"&&new(b("ConnectionsPYMLTypedLogger"))().setEvent("like_page").setLikeSource("post_permalink").setPageID(parseInt(c,10)).log());f=f||function(b){b=b.getPayload();if(!b||!a)return;b.reload?g.reloadOnFanStatusChanged():h(a,b)};l={fbpage_id:c,add:d,reload:e};j!=null&&Object.assign(l,j);Object.assign(l,k);c="/ajax/pages/fan_status.php";j!=null&&j.actor_id!=null&&(c=b("ActorURI").create(c,j.actor_id));e=new(b("AsyncRequest"))().setURI(c).setData(l).setNectarModuleDataSafe(a).setHandler(f);i&&e.setErrorHandler(i);e.send();if(j.fan_origin==="PSYM"&&d&&j.egodata!==null){k={q:j.egodata,action:b("EgoPageServiceConstants").FAN,action_type:b("EgoActionType").CONVERSION};new(b("AsyncRequest"))().setMethod("POST").setURI(b("XPubcontentInteractionLoggingController").getURIBuilder().getURI()).setData(k).send()}return!1},reloadOnFanStatusChanged:function(){var a=b("URI").getRequestURI();window.location.href=a},toggleLikeOnFanStatusChanged:function(a,c){var d=b("$")("liked_pages_like_action_"+a);a=b("$")("liked_pages_undo_action_"+a);b("CSS").conditionClass(d,"hidden_elem",c);b("CSS").conditionClass(a,"hidden_elem",!c)}};function h(a,c){var d=c.feedback;if(!d)return;b("Parent").byClass(a,"fbTimelineEscapeSectionItem")&&(a=b("Parent").byClass(a,"fan_status_inactive")||a);var e=b("DOM").create("span",{className:"fan_status_inactive"},d);a.parentNode.replaceChild(e,a);d=function(){c.can_repeat_action&&e.parentNode.replaceChild(a,e)};new(b("Animation"))(e).duration(3e3).checkpoint().to("backgroundColor","#FFFFFF").duration(1e3).ondone(d).go()}e.exports=g}),null);
__d("PagePostEngagementFictionDialogStrings",["FbtResult","immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Map();a={setStrings:function(a,b,c,d,e,f){g=g.set(a,{pageLikeHeader:b,pageLikeBody:c,pageReshareHeader:d,pageReshareBody:e,pageId:f})},getStrings:function(a){return g.get(a)}};e.exports=a}),null);
__d("PagePostEngagementFrictionEngagementType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({PAGE_LIKE:"page_like",RESHARE:"reshare"})}),null);
__d("PagePostEngagementFrictionDialog.react",["cx","fbt","FDSButton.react","FlexLayout.react","LeftRight.react","PagePostEngagementFictionDialogStrings","PagePostEngagementFrictionEngagementType","React","XUICloseButton.react","XUIDialog.react","XUIText.react","nullthrows"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=function(a){var c=b("nullthrows")(b("PagePostEngagementFictionDialogStrings").getStrings(a.fbid));c=a.engagementType===b("PagePostEngagementFrictionEngagementType").PAGE_LIKE?c.pageLikeHeader:c.pageReshareHeader;return b("React").createElement("div",{className:"_4mgg"},b("React").createElement(b("FlexLayout.react"),{align:"center",justify:"all"},b("React").createElement(b("XUIText.react"),{display:"inline",size:"header3",weight:"bold"},c),b("React").createElement(b("XUICloseButton.react"),{onClick:a.onXOut})))},k=function(a){var c=b("nullthrows")(b("PagePostEngagementFictionDialogStrings").getStrings(a.fbid));a=a.engagementType===b("PagePostEngagementFrictionEngagementType").PAGE_LIKE?c.pageLikeBody:c.pageReshareBody;return b("React").createElement("div",{className:"_4mgc"},b("React").createElement(b("XUIText.react"),{display:"block",size:"body1"},a))},l=h._("Cancel"),m=h._("Like Page"),n=h._("Share Post"),o=h._("Go to Page"),p=function(a){return b("React").createElement("div",{className:"_4mgh"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("FDSButton.react"),{label:o,onClick:a.onGoToPage,size:"medium"}),b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{label:m,onClick:a.onLikePage,size:"medium"}),b("React").createElement("div",{className:"_69nv"},b("React").createElement(b("FDSButton.react"),{label:l,onClick:a.onCancel,size:"medium",use:"primary"})))))},q=function(a){return b("React").createElement("div",{className:"_4mgh"},b("React").createElement(b("LeftRight.react"),null,b("React").createElement(b("FDSButton.react"),{label:o,onClick:a.onGoToPage,size:"medium"}),b("React").createElement("div",null,b("React").createElement(b("FDSButton.react"),{label:n,onClick:a.onSharePost,size:"medium"}),b("React").createElement("div",{className:"_69nv"},b("React").createElement(b("FDSButton.react"),{label:l,onClick:a.onCancel,size:"medium",use:"primary"})))))},r=function(a){return a.engagementType===b("PagePostEngagementFrictionEngagementType").PAGE_LIKE?b("React").createElement(p,{onCancel:a.onCancel,onGoToPage:a.onGoToPage,onLikePage:b("nullthrows")(a.onLikePage)}):b("React").createElement(q,{onCancel:b("nullthrows")(a.onCancel),onGoToPage:a.onGoToPage,onSharePost:b("nullthrows")(a.onSharePost)})};c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=i.constructor).call.apply(a,[this].concat(d)),this.state={requestedClose:!1},this.$2=function(){this.$1(this.props.onCancel)}.bind(this),this.$3=function(){this.$1(this.props.onLikePage)}.bind(this),this.$4=function(){this.$1(this.props.onSharePost)}.bind(this),this.$5=function(){this.$1(this.props.onGoToPage)}.bind(this),b}a.prototype.$1=function(a){this.setState({requestedClose:!0}),a&&a()};a.prototype.render=function(){var a=!this.state.requestedClose&&this.props.shown;return b("React").createElement(b("XUIDialog.react"),{hideOnEscape:!1,isStrictlyControlled:!0,label:"Dialog that shows up when a user likes a Page that is dubious or reshares a post from a dubious Page",layerHideOnBlur:!1,onHide:this.$2,shown:a,width:400},b("React").createElement(j,{engagementType:this.props.engagementType,fbid:this.props.fbid,onXOut:this.$2}),b("React").createElement(k,{engagementType:this.props.engagementType,fbid:this.props.fbid}),b("React").createElement(r,{engagementType:this.props.engagementType,onCancel:this.$2,onGoToPage:this.$5,onLikePage:this.$3,onSharePost:this.$4}))};e.exports=a}),null);
__d("PagePostEngagementFrictionActions",["DOM","PagePostEngagementFrictionDialog.react","PagePostEngagementFrictionEngagementType","React","ReactDOM","XVanityURLController","goURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("DOM").create("div"),h=function(a,c,d,e,f,h){b("ReactDOM").unmountComponentAtNode(g),b("ReactDOM").render(b("React").createElement(b("PagePostEngagementFrictionDialog.react"),{engagementType:h,fbid:a,onCancel:c,onGoToPage:d,onLikePage:e,onSharePost:f,shown:!0}),g)};a=function(a){a=b("XVanityURLController").getURIBuilder().setString("vanity",a).getURI();b("goURI")(a)};c=function(a,c,d,e){h(a,d,e,c,null,b("PagePostEngagementFrictionEngagementType").PAGE_LIKE)};d=function(a,c,d,e){h(a,d,e,null,c,b("PagePostEngagementFrictionEngagementType").RESHARE)};e.exports={goToPage:a,showPageLikeEngagementFrictionDialog:c,showReshareEngagementFrictionDialog:d}}),null);
__d("PagePostEngagementFrictionStore",["immutable"],(function(a,b,c,d,e,f){"use strict";var g=b("immutable").Set();a={add:function(a){g=g.add(a)},contains:function(a){a=g.get(a);return a!==null&&a!==undefined}};e.exports=a}),null);
__d("PagesLikeFollowNotifActions",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({INIT_DATA:"init_data",LIKE:"like",UNLIKE:"unlike",FOLLOW_CHANGED:"follow_changed",SNOOZE_CHANGED:"snooze_changed",NOTIF_CHANGE:"notif_change",NOTIF_ALL_ON:"notif_all_on",NOTIF_ALL_OFF:"notif_all_off",NEWS_FEED_CHANGE:"news_feed_change"})}),null);
__d("PagesLikeFollowNotifDispatcher",["Arbiter","ExplicitRegistrationReactDispatcher","PageLikeConstants","PagesLikeFollowNotifActions","SubscriptionsHandler"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("ExplicitRegistrationReactDispatcher"));g=c&&c.prototype;function a(a){g.constructor.call(this,a);a=new(b("SubscriptionsHandler"))();a.addSubscriptions(b("Arbiter").subscribe(b("PageLikeConstants").LIKED,function(a,b){return this.dispatchLike(b.profile_id)}.bind(this)),b("Arbiter").subscribe(b("PageLikeConstants").UNLIKED,function(a,b){return this.dispatchUnlike(b.profile_id)}.bind(this)))}a.prototype.dispatchLike=function(a){this.dispatch({type:b("PagesLikeFollowNotifActions").LIKE,data:{pageID:a,likeStatus:!0}})};a.prototype.dispatchUnlike=function(a){this.dispatch({type:b("PagesLikeFollowNotifActions").UNLIKE,data:{pageID:a,likeStatus:!1}})};e.exports=new a({strict:!0})}),null);
__d("PagesFollowStore",["FluxReduceStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("FluxReduceStore"));g&&g.prototype;a.prototype.getInitialState=function(){return{}};a.prototype.reduce=function(a,c){var d=babelHelpers["extends"]({},a);switch(c.type){case b("PagesLikeFollowNotifActions").INIT_DATA:if(c.data.pageID in a)return a;d[c.data.pageID]=c.data.followStatus;return d;case b("PagesLikeFollowNotifActions").FOLLOW_CHANGED:d[c.data.pageID]=c.data.followStatus;return d}return a};function a(){g.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("PagesLikeFollowNotifDispatcher"))}),null);
__d("XPagesLikeCountController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/x/updateLikeCountDomString/",{page_id:{type:"Int",required:!0},like_id:{type:"String",required:!0}})}),null);
__d("PageLikeButton",["Promise","Arbiter","AsyncRequest","AsyncResponse","DOM","EditSubscriptions","Event","FeedBlacklistButton","PageFanning","PageLikeConstants","PagePostEngagementFrictionActions","PagePostEngagementFrictionStore","PagesFollowStore","PagesLikeFollowNotifActions","PagesLikeFollowNotifDispatcher","ProfileSubFollowStatus","SocialGoodCharityActionsLoggerUtils","Tour","XPagesLikeCountController","XVanityURLController","promiseDone"],(function(a,b,c,d,e,f){__p&&__p();var g=b("PagePostEngagementFrictionActions").goToPage,h=b("PagePostEngagementFrictionActions").showPageLikeEngagementFrictionDialog,i={init:function(a,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();i=this._getOption(m,"isLazy");this._subscribe(b("PageLikeConstants").LIKED,i,function(c,f){this._shouldUpdateButton(e,m,f)&&(a.swap(),j||d.suppressNextMouseEnter&&d.suppressNextMouseEnter(),this._getOption(m,"is_fundraiser")&&b("EditSubscriptions").toggleNotificationsOnJoin(e,!0))}.bind(this));this._subscribe(b("PageLikeConstants").UNLIKED,i,function(c,f){this._shouldUpdateButton(e,m,f)&&(a.unswap(),d.hideFlyout&&d.hideFlyout(),this._getOption(m,"is_fundraiser")&&b("EditSubscriptions").toggleNotificationsOnJoin(e,!1))}.bind(this));l&&this._subscribe(b("PageLikeConstants").SPM_CALLOUT,i,function(a,c){this._shouldUpdateButton(e,m,c)&&(l.show(),b("Arbiter")._releaseAllEvents(b("PageLikeConstants").SPM_CALLOUT))}.bind(this));var n=function(event){var b=a.getCurrentButton();this._likeButtonAction(e,f,g,h,b,event,m,a)}.bind(this);b("Event").listen(c,"click",n);i&&b("Arbiter").subscribe(b("PageLikeConstants").LAZY_CLICK,function(a,b){var event=b.event;a=b.node;if(a!==c)return;n(event)})},_subscribe:function(event,a,c){a=a?[event,event+".lazy"]:[event];b("Arbiter").subscribe(a,c)},initCallout:function(a,c){var d=document.getElementById("pageActionLikeCalloutButton");b("Event").listen(d,"click",this._likeButtonAction(a,c,null,null,null,null))},initUnlike:function(a,c,d,e){var f=this._getOption(e,"actor_id");b("Event").listen(a,"click",function(event){this.doUnlikeAction(event,c,d,f,e)}.bind(this))},initUnlikeAndHide:function(a,c,d,e){var f=this._getOption(e,"actor_id");b("Event").listen(a,"click",function(event){this.doUnlikeAction(event,c,d,f,e),b("DOM").remove(a)}.bind(this))},doUnlikeAction:function(event,a,c,d,e){this._saveLike(event.target,a,!1,function(c){b("Arbiter").inform(b("PageLikeConstants").LIKED,{profile_id:a,actor_id:d}),b("AsyncResponse").defaultErrorHandler(c)},c,null,null,e),this.informUnlike(a,d)},doLikeAction:function(a,c,d,e){var f=this._interceptLikeIfNecessary(c).then(function(f){if(f){f={actor_id:e};this._saveLike(a,c,!0,function(a){a.getError()!==1431019&&b("Arbiter").inform(b("PageLikeConstants").UNLIKED,{profile_id:c,actor_id:e}),b("AsyncResponse").defaultErrorHandler(a)},d,null,null,f);i.informLike(c,a,d,f)}}.bind(this),function(a){throw a});b("promiseDone")(f)},informLike:function(a,c,d,e){e=this._getOption(e,"actor_id");e={profile_id:a,actor_id:e,target:c,origin:d};b("Arbiter").inform(b("PageLikeConstants").LIKED,e);e.connected=!0;c=b("PagesFollowStore").getState();(!(a in c)||!c[a]||c[a]!==b("ProfileSubFollowStatus").SEE_FIRST)&&b("PagesLikeFollowNotifDispatcher").dispatch({type:b("PagesLikeFollowNotifActions").FOLLOW_CHANGED,data:{pageID:e.profile_id,followStatus:!0}});b("Arbiter").inform(b("FeedBlacklistButton").UNBLACKLIST,e)},informLikeSuccess:function(a){a={profile_id:a};b("Arbiter").inform(b("PageLikeConstants").LIKED_SUCCESS,a);b("Arbiter").inform(b("PageLikeConstants").SPM_CALLOUT,a)},informUnlike:function(a,c){var d={profile_id:a,actor_id:c};setTimeout(b("Arbiter").inform.bind(b("Arbiter"),b("PageLikeConstants").UNLIKED,d),0);d.connected=!1;setTimeout(function(){return b("PagesLikeFollowNotifDispatcher").dispatch({type:b("PagesLikeFollowNotifActions").FOLLOW_CHANGED,data:{pageID:d.profile_id,followStatus:!1}})},0);b("Arbiter").inform(b("FeedBlacklistButton").BLACKLIST,d)},updateLikeCount:function(a,c){b("Arbiter").subscribe(b("PageLikeConstants").LIKED_SUCCESS,function(d,e){d=e.profile_id;if(c==d){e=b("XPagesLikeCountController").getURIBuilder().setInt("page_id",c).setString("like_id",a).getURI();new(b("AsyncRequest"))().setURI(e).send()}})},_saveLike:function(a,c,d,e,f,g,h,j){var k=this._getOption(j,"actor_id"),l=this._getOption(j,"egodata");b("Tour").getInstance().hideStep("low_page_likes");this._getOption(j,"is_fundraiser")&&this._getOption(j,"logging_info")&&b("SocialGoodCharityActionsLoggerUtils").logJoinActionClick(d,this._getOption(j,"logging_info"));b("PageFanning").setFanStatus(a,c,d,!1,function(){i.informLikeSuccess(c),(!d&&this._getOption(j,"reload_on_unlike")||d&&this._getOption(j,"reload_on_like"))&&location.reload()}.bind(this),e,{fan_origin:f,fan_source:g,cat:h,actor_id:k,egodata:l})},_likeButtonAction:function(a,c,d,e,f,event,g,h){var i=this._interceptLikeIfNecessary(a).then(function(b){b?this._continueProcessingLikeAfterIntercept(a,c,d,e,f,event,g):h!==null&&h!==undefined&&h.unswap!==null&&h.unswap!==undefined&&h.unswap()}.bind(this),function(a){throw a});b("promiseDone")(i)},_continueProcessingLikeAfterIntercept:function(a,c,d,e,f,event,g){var h=this._getOption(g,"actor_id");this._saveLike(event.getTarget(),a,!0,function(c){b("Arbiter").inform(b("PageLikeConstants").UNLIKED,{profile_id:a,actor_id:h}),b("AsyncResponse").defaultErrorHandler(c)},c,d,e,g);i.informLike(a,f,c,g)},_interceptLikeIfNecessary:function(a){return new(b("Promise"))(function(c,d){d=b("PagePostEngagementFrictionStore").contains(a);d?h(a,function(){return c(!0)},function(){return c(!1)},function(){c(!1),g(a)}):c(!0)})},_shouldUpdateButton:function(a,b,c){b=this._getOption(b,"actor_id");if(a===c.profile_id){if(b===null)return!0;if(c.actor_id!==null&&b===c.actor_id)return!0}return!1},_getOption:function(a,b){return a&&b in a?a[b]:null}};e.exports=i;a.PageLikeButton=i}),null);
__d("PagesIntegrityLoggingActionType",["keyMirror"],(function(a,b,c,d,e,f){"use strict";e.exports=b("keyMirror")({INITIAL_LOAD:null,FAKE_NEWS_DIALOG_SHOWN:null,ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:null,ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:null,UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null,ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null,ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:null})}),null);
__d("PagesIntegrityLoggingActions",["PagesIntegrityLoggingAdminDidNotSubmitAfterFakeNewsDialogShownAction","PagesIntegrityLoggingAdminDidNotSubmitAfterUnpublishedContentBankWarningDialogShownAction","PagesIntegrityLoggingAdminDidSubmitAfterFakeNewsDialogShownAction","PagesIntegrityLoggingAdminDidSubmitAfterUnpublishedContentBankWarningDialogShownAction","PagesIntegrityLoggingFakeNewsDialogShownAction","PagesIntegrityLoggingInitialLoadAction","PagesIntegrityLoggingUnpublishedContentBankWarningDialogShownAction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(a){b("PagesIntegrityLoggingInitialLoadAction").dispatch({pageID:a})};c=function(){b("PagesIntegrityLoggingAdminDidNotSubmitAfterFakeNewsDialogShownAction").dispatch({})};d=function(){b("PagesIntegrityLoggingAdminDidSubmitAfterFakeNewsDialogShownAction").dispatch({})};f=function(){b("PagesIntegrityLoggingFakeNewsDialogShownAction").dispatch({})};var g=function(){b("PagesIntegrityLoggingAdminDidNotSubmitAfterUnpublishedContentBankWarningDialogShownAction").dispatch({})},h=function(){b("PagesIntegrityLoggingAdminDidSubmitAfterUnpublishedContentBankWarningDialogShownAction").dispatch({})},i=function(){b("PagesIntegrityLoggingUnpublishedContentBankWarningDialogShownAction").dispatch({})};e.exports={initializeLoggingStore:a,logFakeNewsDialogShown:f,logFakeNewsSubmitted:d,logFakeNewsNotSubmitted:c,logUnpublishedContentBankMatchNotSubmitted:g,logUnpublishedContentBankMatchSubmitted:h,logUnpublishedContentWarningDialogShown:i}}),null);
__d("PagesIntegrityLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN:"FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN",FAKE_NEWS_LINK_SHARED_BY_ADMIN:"FAKE_NEWS_LINK_SHARED_BY_ADMIN",FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN:"FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN",FAKE_NEWS_LINK_SHARE_NOTIFICATION_SENT_TO_ADMIN:"FAKE_NEWS_LINK_SHARE_NOTIFICATION_SENT_TO_ADMIN",FAKE_NEWS_LINK_URI_TO_PAGE_NOTIFICATION_SENT_TO_ADMIN:"FAKE_NEWS_LINK_URI_TO_PAGE_NOTIFICATION_SENT_TO_ADMIN",UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:"UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN",UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN:"UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN",UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN:"UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN",CONTEXT_EVERYWHERE_SHOWN_ON_DYNAMIC_HOVERCARD:"CONTEXT_EVERYWHERE_SHOWN_ON_DYNAMIC_HOVERCARD",USER_VIEWED_PAGE_TRANSPARENCY_UNIT:"USER_VIEWED_PAGE_TRANSPARENCY_UNIT"})}),null);
__d("PagesIntegrityLoggerSurfaces",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({COMPOSER:"COMPOSER"})}),null);
__d("PagesIntegrityLoggingStore",["AdsDataAtom","FluxReduceStore","immutable","PagesIntegrityLoggerEvent","PagesIntegrityLoggerSurfaces","PagesIntegrityLoggingActionType","PagesIntegrityTypedLogger","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h;g=babelHelpers.inherits(i,b("immutable").Record({composerPostSessionUUID:null,pageID:null}));g&&g.prototype;function i(){g.apply(this,arguments)}h=babelHelpers.inherits(a,b("FluxReduceStore"));h&&h.prototype;a.prototype.getInitialState=function(){return new i()};a.prototype.reduce=function(a,c){__p&&__p();c=c.action;switch(c.type){case b("PagesIntegrityLoggingActionType").INITIAL_LOAD:c=c.pageID;return a.set("composerPostSessionUUID",b("uuid")()).set("pageID",c);case b("PagesIntegrityLoggingActionType").FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_SHARE_WARNING_DIALOG_SHOWN,a,!1);case b("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_NOT_SHARED_BY_ADMIN,a,!0);case b("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_FAKE_NEWS_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").FAKE_NEWS_LINK_SHARED_BY_ADMIN,a,!0);case b("PagesIntegrityLoggingActionType").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN,a,!1);case b("PagesIntegrityLoggingActionType").ADMIN_DID_NOT_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_MATCH_NOT_POSTED_BY_ADMIN,a,!0);case b("PagesIntegrityLoggingActionType").ADMIN_DID_SUBMIT_AFTER_UNPUBLISHED_CONTENT_BANK_WARNING_DIALOG_SHOWN:return this.$PagesIntegrityLoggingStore1(b("PagesIntegrityLoggerEvent").UNPUBLISHED_CONTENT_BANK_MATCH_POSTED_BY_ADMIN,a,!0);default:return a}};a.prototype.$PagesIntegrityLoggingStore1=function(event,a,c){new(b("PagesIntegrityTypedLogger"))().setEvent(event).setPageID(a.get("pageID")).setPostSessionUuid(a.get("composerPostSessionUUID")).setPageSurface(b("PagesIntegrityLoggerSurfaces").COMPOSER).log();return c?a.set("composerPostSessionUUID",b("uuid")()):a};function a(){h.apply(this,arguments)}a.__moduleID=e.id;e.exports=new a(b("AdsDataAtom"))}),null);
__d("XAfterPartyWWWController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ads/afterparty/www/",{page_id:{type:"Int",required:!0},scrolling_offset:{type:"Int",defaultValue:0}})}),null);
__d("XUnpublishedPostSuccessController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/unpublished_posts/post_success/",{type:{type:"String",required:!0}})}),null);
__d("PagesComposer",["csx","ActorURI","AdsDataAtom","Arbiter","AsyncRequest","Bootloader","ComposerXMarauderLogger","ComposerXStore","DOM","PagesComposerUnpublishedPostsStore","PagesIntegrityLoggingActions","PagesIntegrityLoggingStore","Parent","ReactComposerFocusStore","ReactPagesComposerGlobalFlags","ReloadPage","Run","XAfterPartyWWWController","XUnpublishedPostSuccessController","$","getObjectValues","goURI","ifRequired"],(function(a,b,c,d,e,f,g){__p&&__p();var h=500,i=20,j=58,k=void 0,l=void 0;function m(){b("ComposerXMarauderLogger").logCompleted(k.id)}function n(a){__p&&__p();if(a.hidePost){var c=b("ComposerXStore").getAllForComposer(a.composer_id);if(!b("getObjectValues")(c).length){c=null;b("PagesComposerUnpublishedPostsStore").getIsDraft(a.composer_id)&&(c="draft");b("PagesComposerUnpublishedPostsStore").getScheduledPublishTime(a.composer_id)&&(c="scheduled");if(c){c=b("XUnpublishedPostSuccessController").getURIBuilder().setString("type",c).getURI();c=b("ActorURI").create(c,l);new(b("AsyncRequest"))().setURI(c).send()}}m();return}if(a.redirect){c=b("ComposerXStore").getAllForComposer(a.composer_id);b("getObjectValues")(c).forEach(function(a){a.reset&&a.reset(a)});b("goURI")(a.redirect);m();return}if(!a.streamStory){c=p();if(c||a.shouldNotReload)return;b("ReloadPage").now();return}if(a.backdatedTime){b("Bootloader").loadModules(["PagesStoryPublisher"],function(b){b.publish(a)},"PagesComposer");m();return}c=q.renderStory(k,a.streamStory);b("Arbiter").inform("TimelineComposer/on_after_publish",c,b("Arbiter").BEHAVIOR_PERSISTENT);if(l){c=b("XAfterPartyWWWController").getURIBuilder().setInt("page_id",l);o(c,0)}m()}function o(a,c){!b("ReactComposerFocusStore").isComposerFocused(k.id)?(c>0&&a.setInt("scrolling_offset",j),new(b("AsyncRequest"))().setURI(a.getURI()).send()):c<i&&setTimeout(o.bind(this,a,c+1),h)}function p(){var a=!1;b("Bootloader").loadModules(["ReactComposerTaggerStore","ReactComposerTaggerType"],function(b,c){var d=b.getTaggerData(k.id,c.SPONSOR);b=b.getTaggersConfig(k.id,c.SPONSOR);d&&d.sponsors&&d.sponsors.length>0&&b&&b.showBCMPPostPostModal&&(a=!0)},"PagesComposer");b("ifRequired")("AdsUEditorAdgroupPagePostField.react",function(){a=!0});return a}var q={init:function(a,c){__p&&__p();k=b("$")(a);l=c;var d=b("Arbiter").subscribe("composer/publish",function(event,a){n(a)}),e=b("Arbiter").subscribe("LitestandComposer/publishTemp",function(b,c){n({composer_id:a,streamStory:c.markup})});b("Run").onLeave(d.unsubscribe.bind(d));b("Run").onLeave(e.unsubscribe.bind(e));b("ReactPagesComposerGlobalFlags").setIsPagesComposer(!0);b("AdsDataAtom").explicitlyRegisterStore(b("PagesIntegrityLoggingStore"));b("PagesIntegrityLoggingActions").initializeLoggingStore(c)},renderStoryInCreatorStudio:function(a,c){a=b("Parent").bySelector(a,"._67kj");if(!a)return;a=b("DOM").scry(a,"._1zoz")[0];var d=b("DOM").prependContent(a,c)[0];b("Bootloader").loadModules(["Animation"],function(a){new a(d).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(a.ease.both).go()},"PagesComposer")},renderStory:function(a,c){__p&&__p();b("ifRequired")("MediaManagerHomeTab.react",function(){q.renderStoryInCreatorStudio(a,c);return});var d=b("Parent").bySelector(a,"#pagelet_timeline_main_column");if(!d)return;d=b("DOM").scry(d,"._5sem")[0];var e=b("DOM").insertAfter(d,c)[0];b("Bootloader").loadModules(["Animation"],function(a){new a(e).from("backgroundColor","#fff8dd").to("backgroundColor","#fff").duration(2e3).ease(a.ease.both).go()},"PagesComposer")},replaceByID:function(a,c){b("DOM").replace(b("$")(a),c)}};e.exports=a.PagesComposer||q}),null);
__d("StoryProfile.react",["cx","BackgroundImage.react","FBProfilePhotoShadow.react","Image.react","ImageBlock.react","InlineBlock.react","Link.react","PrivacyConst","React","XUIGrayText.react","XUIText.react","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){var a=null;if(this.props.privacyIndicator)a=this.props.privacyIndicator;else if(this.props.privacySetting){var c=this.props.privacySetting==b("PrivacyConst").BaseValue.EVERYONE,d=this.props.privacySetting==b("PrivacyConst").BaseValue.ALL_FRIENDS;a=b("React").createElement(b("BackgroundImage.react"),{width:13,height:12,"data-hover":"tooltip","data-tooltip-content":this.props.privacyTooltip,className:"_14g-"+(c?" _14g_":"")+(d?" _5qhp":"")+(!d&&!c?" _14h0":"")})}return!a?null:b("React").createElement("span",null,b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},"\xa0\xb7\xa0"),a)}.bind(this),this.$2=function(){__p&&__p();var a,c;if(this.props.profileURL){var d;this.props.openProfileURLInNewPage&&(d="_blank");c="bold";a=b("React").createElement(b("Link.react"),{href:this.props.profileURL,target:d},this.props.username)}else a=this.props.username;if(this.props.description)return b("React").createElement("div",null,b("React").createElement(b("XUIText.react"),{className:"_14gz",size:"header4",weight:c},a)," ",this.props.description);else return b("React").createElement(b("XUIText.react"),{className:"_14gz",size:"header4",weight:c,display:"block"},a)}.bind(this),this.$3=function(){return this.props.additionalLinks?b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},this.props.additionalLinks.map(function(a,c){return b("React").createElement("span",{key:c},"\xa0\xb7\xa0",b("React").createElement(b("Link.react"),{href:a.URL,target:"_blank"},a.text))})):null}.bind(this),c}a.prototype.render=function(){"use strict";return b("React").createElement(b("ImageBlock.react"),{spacing:"medium",className:b("joinClasses")(this.props.className,"_56-3")},this.props.profilePicture?b("React").createElement(b("FBProfilePhotoShadow.react"),null,b("React").createElement(b("Image.react"),{className:"_56-4",src:this.props.profilePicture})):b("React").createElement("span",null),b("React").createElement(b("InlineBlock.react"),{alignv:"middle",height:40,fullWidth:!0},this.$2(),b("React").createElement("div",null,b("React").createElement(b("XUIGrayText.react"),{shade:"light",size:"meta1",display:"inline"},this.props.uploadTime),this.$1(),this.$3())))};a.propTypes={privacySetting:c.number,privacyIndicator:c.object,profilePicture:c.string,privacyTooltip:c.node,username:c.string.isRequired,uploadTime:c.node.isRequired,profileURL:c.string,openProfileURLInNewPage:c.bool,additionalLinks:c.arrayOf(c.shape({URL:c.string,text:c.node})),description:c.node};a.defaultProps={openProfileURLInNewPage:!1};e.exports=a}),null);
__d("VideoUploadProgressUtils",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=99.8;a={isEncodingFinished:function(a){return a==="finish"},getOptimizedProgress:function(a,b,c,d,e){__p&&__p();if(!e)return{progress:Math.max(b,a.progress),progressWithoutFake:a.progressWithoutFake};e={progress:b,progressWithoutFake:a.progressWithoutFake};var f=a.progress+b;if(!(b>0)||d>0&&f>d){e.progress=-1;return e}f=Number(f.toFixed(1));c==="finish"||c==="notify"?f=100:f>=100&&(f=a.progress<100?a.progress:g);e.progress=f;e.progressWithoutFake=f;return e},getUpdatedProgress:function(a,b){var c={progress:b.progress,progressWithoutFake:b.progressWithoutFake};a.obj.cached_progress&&b.progress<a.obj.cached_progress&&(c={progress:a.obj.cached_progress,progressWithoutFake:a.obj.cached_progress});b=this.getOptimizedProgress(c,a.obj.progress,a.obj.stage,a.obj.max_percent?a.obj.max_percent:0,a.obj.sve_report);b.progress!==-1&&(c.progress=b.progress);c.progressWithoutFake=b.progressWithoutFake;return c}};e.exports=a}),null);
__d("glyph",[],(function(a,b,c,d,e,f){e.exports=function(a){throw new Error("glyph: Unexpected glyph call.")}}),null);
__d("XVideoGenerateStoryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/generate_story/",{video_id:{type:"Int"},feed_location:{type:"Enum",enumType:0},timeline_identifier:{type:"String"}})}),null);