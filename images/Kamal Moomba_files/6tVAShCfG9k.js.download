if (self.CavalryLogger) { CavalryLogger.start_js(["QqfDH"]); }

/**
 * License: https://www.facebook.com/legal/license/Klf2Q7t3ozr/
 */
__d("jsdiff",[],(function(a,b,c,d,e,f){__p&&__p();function g(a){a=a;a=a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");a=a.replace(/"/g,"&quot;");return a}function a(a,b){__p&&__p();a=a.replace(/\s+$/,"");b=b.replace(/\s+$/,"");var c=h(a==""?[]:a.split(/\s+/),b==""?[]:b.split(/\s+/)),d="";a=a.match(/\s+/g);a==null?a=["\n"]:a.push("\n");var e=b.match(/\s+/g);e==null?e=["\n"]:e.push("\n");if(c.n.length==0)for(var f=0;f<c.o.length;f++)d+="<del>"+g(c.o[f])+a[f]+"</del>";else{if(c.n[0].text==null)for(b=0;b<c.o.length&&c.o[b].text==null;b++)d+="<del>"+g(c.o[b])+a[b]+"</del>";for(var f=0;f<c.n.length;f++)if(c.n[f].text==null)d+="<ins>"+g(c.n[f])+e[f]+"</ins>";else{var i="";for(b=c.n[f].row+1;b<c.o.length&&c.o[b].text==null;b++)i+="<del>"+g(c.o[b])+a[b]+"</del>";d+=" "+c.n[f].text+e[f]+i}}return d}function h(a,b){__p&&__p();var c={},d={};for(var e=0;e<b.length;e++)c[b[e]]==null&&(c[b[e]]={rows:[],o:null}),c[b[e]].rows.push(e);for(var e=0;e<a.length;e++)d[a[e]]==null&&(d[a[e]]={rows:[],n:null}),d[a[e]].rows.push(e);for(var e in c)c[e].rows.length==1&&typeof d[e]!="undefined"&&d[e].rows.length==1&&(b[c[e].rows[0]]={text:b[c[e].rows[0]],row:d[e].rows[0]},a[d[e].rows[0]]={text:a[d[e].rows[0]],row:c[e].rows[0]});for(var e=0;e<b.length-1;e++)b[e].text!=null&&b[e+1].text==null&&b[e].row+1<a.length&&a[b[e].row+1].text==null&&b[e+1]==a[b[e].row+1]&&(b[e+1]={text:b[e+1],row:b[e].row+1},a[b[e].row+1]={text:a[b[e].row+1],row:e+1});for(var e=b.length-1;e>0;e--)b[e].text!=null&&b[e-1].text==null&&b[e].row>0&&a[b[e].row-1].text==null&&b[e-1]==a[b[e].row-1]&&(b[e-1]={text:b[e-1],row:b[e].row-1},a[b[e].row-1]={text:a[b[e].row-1],row:e-1});return{o:a,n:b}}e.exports=a}),null);