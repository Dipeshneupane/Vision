if (self.CavalryLogger) { CavalryLogger.start_js(["JuSUX"]); }

__d("HiddenPromoteButton.react",["AdsLWIDialogUtils","AdsLWIInstanceType","AdsLWIProductUtils","BoostedComponentRef","PageTransitions","React","URI","adsLWICurrentDialogStateSelector","createCancelableFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("AdsLWIDialogUtils").openLWIDialog;c=b("AdsLWIInstanceType").createRandomInstanceID;var i=b("AdsLWIProductUtils").convertProductToAppID;function j(){var a=new(b("URI"))(window.location.href).getQueryData(),c=a.boosted_auto_open;c=i(c);if(!c)return null;var d=a.notif_t||a.ref||b("BoostedComponentRef").AUTO_OPEN_UNKNOWN_SOURCE,e=a.boost_id?String(a.boost_id):"";a=a.target_id?String(a.target_id):null;return{appID:c,boostID:e,placement:d,targetID:a}}var k=c();d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.maybeAutoOpenDialog=b("createCancelableFunction")(function(){var a=j();a&&!b("adsLWICurrentDialogStateSelector")().dialogState.instanceID&&h(k,this.props.pageID,a.placement,a.appID,a.boostID,a.targetID);b("PageTransitions").registerCompletionCallback(this.maybeAutoOpenDialog)}.bind(this)),c}a.prototype.componentDidMount=function(){b("PageTransitions").registerCompletionCallback(this.maybeAutoOpenDialog)};a.prototype.componentWillUnmount=function(){this.maybeAutoOpenDialog.cancel()};a.prototype.render=function(){return null};e.exports=a}),null);
__d("ChatTabViewEvents",["Arbiter"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Arbiter"))()}),null);
__d("XPagesPresenceController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/pages/presence/",{})}),null);
__d("PagePresencePoller",["ActorURI","AsyncRequest","UserActivity","XPagesPresenceController"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=9e4,h=0,i=function(a){h=Date.now();var c=b("XPagesPresenceController").getURIBuilder().getURI();c=b("ActorURI").create(c,a);new(b("AsyncRequest"))().setURI(c).send()};a={init:function(a){b("UserActivity").subscribe(function(){Date.now()-h>g&&i(a)}),setInterval(function(){b("UserActivity").isActive()&&i(a)},g)}};e.exports=a}),null);
__d("PageTimelineChainingTypeConstants",[],(function(a,b,c,d,e,f){e.exports={FANNING:"fanning",FOLLOW:"follow",SHOW_FOLLOW:"show_follow"}}),null);
__d("PagesTimelineChaining",["Arbiter","Banzai","ChatTabViewEvents","CSS","Event","PageLikeConstants","PagesFollowStore","PageTimelineChainingTypeConstants","Run","Style","SubscriptionsHandler","UIPagelet"],(function(a,b,c,d,e,f){__p&&__p();var g=0;a={_recentlyLikedPageIDs:{},_recentlyMessagedPageIDs:{},container:null,_subscriptions:[],_chatSubscriptions:[],_followSubscription:null,_isFollow:!1,_shouldShowRelatedPagesOnBounce:!1,init:function(a,c){this.container=a,this._followSubscription=new(b("SubscriptionsHandler"))(),this._isFollow=c.isFollow,this._shouldShowRelatedPagesOnBounce=c.shouldShowRelatedPagesOnBounce,b("Run").onLeave(function(){return this._unsubscribe()}.bind(this)),this._showChainSuggestions(c.pageID,!1)||(this._subscriptions=[b("Arbiter").subscribe(b("PageLikeConstants").LIKED,this.onLike.bind(this,c.pageID))],c.canFollow&&this._followSubscription.addSubscriptions(b("PagesFollowStore").addListener(function(){var a=b("PagesFollowStore").getState();if(!(c.pageID in a))return;a[c.pageID]&&!this._isFollow&&this._onFollow(c.pageID);this._isFollow=a[c.pageID]}.bind(this))),c.enableLikeCheckup&&this._subscriptions.push(b("Arbiter").subscribe(b("PageLikeConstants").UNLIKED,this.onUnlike.bind(this))),c.onMessageEnabled&&this._chatSubscriptions.push(b("ChatTabViewEvents").subscribe("chat-send-to-page",this.onMessage.bind(this,c.pageID))),c.shouldShowRelatedPagesOnBounce&&window.addEventListener("scroll",this.onScroll.bind(this,c.pageID),!1))},onScroll:function(a){if(document.documentElement){var b=window.pageYOffset||document.documentElement.scrollTop;b<=g&&(this._showChainSuggestions(a,!0),this._unsubscribe());g=b}},onLike:function(a,b,c){c.profile_id===a&&c.target&&(this._recentlyLikedPageIDs[a]=!0,this._showChainSuggestions(a,!1),this._unsubscribe())},_onFollow:function(a){this._showChainFollowSuggestions(a),this._unsubscribe()},onMessage:function(a,b,c){c&&c.pageID===a&&(this._recentlyMessagedPageIDs[a]=!0,this._showMessageSuggestions(a),this._unsubscribe())},onUnlike:function(a,c){b("UIPagelet").loadFromEndpoint("PagesLikeCheckupPagelet",this.container,{},{displayCallback:this.displayCallback.bind(this)}),this._unsubscribe()},displayCallback:function(a){a&&a();a=this.container.firstChild;a&&b("Style").set(this.container,"height",a.offsetHeight+"px")},_showChainSuggestions:function(a,c){if(!(a in this._recentlyLikedPageIDs)&&!(this._shouldShowRelatedPagesOnBounce&&c))return!1;c=b("PageTimelineChainingTypeConstants").FANNING;b("UIPagelet").loadFromEndpoint("PagesTimelineChainingPagelet",this.container,{pageID:a,type:c},{displayCallback:this.displayCallback.bind(this)});return!0},_showChainFollowSuggestions:function(a){var c=b("PageTimelineChainingTypeConstants").FOLLOW;b("UIPagelet").loadFromEndpoint("PagesTimelineChainingPagelet",this.container,{pageID:a,type:c},{displayCallback:this.displayCallback.bind(this)});return!0},_showMessageSuggestions:function(a){if(!(a in this._recentlyMessagedPageIDs))return!1;b("UIPagelet").loadFromEndpoint("PagesMessageChainingPagelet",this.container,{pageID:a},{displayCallback:this.displayCallback.bind(this)});return!0},dismissCallback:function(a,c,d){b("CSS").hide(this.container);delete this._recentlyLikedPageIDs[c];this._unsubscribe();if(d==="friend_inviter_chaining"){a="pages_growth_general_analytical_logger";d={id:c,event:"dismiss_carousel",event_target:"friend_inviter_chaining",feature_name:"friend_inviter_chaining_investigate"};b("Banzai").post(a,d)}},attachDismissCallback:function(a,c,d,e){b("Event").listen(a,"click",this.dismissCallback.bind(this,c,d,e))},_unsubscribe:function(){this._subscriptions.length&&(this._subscriptions.forEach(function(a){return b("Arbiter").unsubscribe(a)}),this._subscriptions=[]),this._chatSubscriptions.length&&(this._chatSubscriptions.forEach(function(a){return b("ChatTabViewEvents").unsubscribe(a)}),this._chatSubscriptions=[]),this._followSubscription&&this._followSubscription.release()}};e.exports=a}),null);
__d("PagesManagerUserMessagePrompt",["ChatAppStore","ChatOpenTabEventLogger","ChatVisibility","FantaTabActions","MercuryIDs","MessengerDiscoveryEntryPoint","PagesLogger","PagesLoggerEventEnum","PagesLoggerEventTargetEnum","setImmediate"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=2e3,h={openTab:function(a){var c=arguments.length<=1||arguments[1]===undefined?b("MessengerDiscoveryEntryPoint").FB_PAGE_USER_MESSAGE_PROMPT:arguments[1],d=arguments.length<=2||arguments[2]===undefined?g:arguments[2];if(!b("ChatVisibility").isOnline())return;setTimeout(function(){b("ChatAppStore").getState().isInitialized?h._openTabAndLog(a,c):(function(){var d=b("ChatAppStore").addListener(function(){b("ChatAppStore").getState().isInitialized&&(b("setImmediate")(function(){h._openTabAndLog(a,c)}),d.remove())})})()},d)},_openTabAndLog:function(a,c){var d=b("MercuryIDs").getThreadIDFromUserID(a);b("FantaTabActions").openTab(d,[c]);b("ChatOpenTabEventLogger").logUserAutoOpen(c,a);b("PagesLogger").log(a,b("PagesLoggerEventEnum").IMPRESSION,b("PagesLoggerEventTargetEnum").PAGE_MESSAGE_PROMPT,null,["pages_growth"],{})}};e.exports=h}),null);