if (self.CavalryLogger) { CavalryLogger.start_js(["LHRUb"]); }

__d("AppUseTrackerLogger",["AsyncRequest","PageTransitions","Run","isInIframe","pageID"],(function(a,b,c,d,e,f){__p&&__p();function g(){g.instance||(g.instance=this);return g.instance}Object.assign(g,{setup:function(a,b,c,d,e,f){new g().init(a,b,c,d,e,f)}});Object.assign(g.prototype,{instance:null,endpoint:"/ajax/apps/usage_update.php",heartbeat_endpoint:"/ajax/apps/heartbeat.php",INITIAL_PING:0,ONGOING_PING:1,DISCOVERY_PING:2,ENDING_PING:3,_application_id:0,_is_game:0,_createRequest:function(a){return new(b("AsyncRequest"))().setURI(this.endpoint).setMethod("POST").setData({app:this._application_id,is_game:this._is_game,type:a,condition:this._signal_on_page_transition})},_createHeartbeatRequest:function(){return new(b("AsyncRequest"))().setURI(this.heartbeat_endpoint).setMethod("POST").setData({app:this._application_id,page_id:b("pageID")})},init:function(a,c,d,e,f,g){__p&&__p();if(b("isInIframe")())return;this.cleanup();b("PageTransitions").registerHandler(this.catchPageTransition.bind(this));this._application_id=a;this._is_game=c;if(g){a=function(){return this._createHeartbeatRequest().send()}.bind(this);a();this._timers.push(setInterval(a,g))}this._timers.push(setTimeout(function(){this._createRequest(this.INITIAL_PING).send();var a=this._createRequest(this.ONGOING_PING);this._timers.push(setInterval(a.send.bind(a),e))}.bind(this),d));f&&this._timers.push(setTimeout(function(){this._createRequest(this.DISCOVERY_PING).send()}.bind(this),f));b("Run").onBeforeUnload(this.onBeforeUnload.bind(this))},catchPageTransition:function(a){this._createRequest(this.ENDING_PING).send(),this.cleanup()},onBeforeUnload:function(){this._createRequest(this.ENDING_PING).send(),this.cleanup()},cleanup:function(){if(this._timers)for(var a=0;a<this._timers.length;a++)clearInterval(this._timers[a]);this._timers=[]}});e.exports=g}),null);
__d("CanvasRHCHeightController.react",["DOMQuery","React"],(function(a,b,c,d,e,f){__p&&__p();var g;c=b("React").PropTypes;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){"use strict";var a=b("DOMQuery").find(document,"#contentArea"),c=0;this.props.rhc.scrollHeight<a.scrollHeight&&(c=a.scrollHeight-this.props.rhc.scrollHeight);a={height:c+"px"};return b("React").createElement("div",{style:a})};function a(){"use strict";g.apply(this,arguments)}a.propTypes={rhc:c.object};e.exports=a}),null);
__d("NotificationTracking",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h={};a={getEncodedTrackingData:function(a,b){return this._getTrackingInfo(a,b).encoded},getTrackingString:function(a,b){return this._getTrackingInfo(a,b).raw},_getTrackingInfo:function(a,b){var c=""+a.alert_id,d=h[c];if(d&&d.row===b)return d;d=this._getEncodedTrackingDataWithRow(a,b);h[c]={row:b,encoded:d,raw:JSON.stringify(d)};return h[c]},_getTrackingAsObject:function(a){var b=null,c=null;if(a.tracking)try{b=JSON.parse(a.tracking)}catch(a){c=a}(b===null||c!==null||typeof b!=="object")&&g(0);return b},_getEncodedTrackingDataWithRow:function(a,b){a=this._getTrackingAsObject(a);return b!="undefined"&&typeof b==="number"?babelHelpers["extends"]({},a,{row:b}):a}};e.exports=a}),null);
__d("InternalNotificationOptionHandler",["invariant","AsyncDialog","URI","idx"],(function(a,b,c,d,e,f,g){__p&&__p();function a(a,c,d){__p&&__p();var e;e=(e=c)!=null?(e=e.client_info)!=null?e.action_type:e:e;if(e==="REPORT_BUG"){d=new(b("URI"))("/ajax/bugs/employee_report").setQueryData({client_notifs:JSON.stringify(d()),notif_alert_id:a});b("AsyncDialog").bootstrap(d.toString(),null,"dialog");return!0}else if(e==="OPEN_IN_INSPECTOR"){d=(a=c)!=null?(a=a.option_display)!=null?(a=a.subtext)!=null?a.text:a:a:a;d!=null||g(0);window.open(d,"_blank");return!0}return!1}e.exports={tryHandle:a}}),null);
__d("NotificationAttachment.react",["cx","Image.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.props.image;return!a?b("React").createElement("span",null):b("React").createElement(b("Image.react"),{src:a.uri,className:"_42td","aria-hidden":!0})};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("NotificationFooter.react",["cx","BizSiteIdentifier.brands","Image.react","ImageBlock.react","React","Timestamp.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("BizSiteIdentifier.brands").isBizSite();h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){__p&&__p();var a=this.props,c=a.icon,d=a.metadata,e=a.shortenTimestamp;a=a.timestamp;var f="_33f"+(i?" _2g48":"");c=c?b("React").createElement(b("Image.react"),{className:"_10cu",src:c.uri}):null;e=b("React").createElement(b("Timestamp.react"),babelHelpers["extends"]({className:"_33g",shorten:e},a));if(d)if(c)return b("React").createElement(b("ImageBlock.react"),{className:f},c,b("React").createElement(b("React").Fragment,null,d," \xb7 ",e));else return b("React").createElement("div",{className:f},d," \xb7 ",e);else if(c)return b("React").createElement(b("ImageBlock.react"),{className:f},c,e);else return b("React").createElement("div",{className:f},e)};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("NotificationListItemChevron.react",["cx","AbstractPopoverButton.react","Banzai","BanzaiLogger","NotificationTokens","NotifTestIDs","PopoverMenu.react","QE2Logger","React","ReactXUIMenu","idx","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("ReactXUIMenu").Item;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=function(){this.props.onHide&&this.props.onHide(),this.$2("close")}.bind(this),this.$3=function(){this.props.onShow&&this.props.onShow();this.props.logMenuExposure&&b("QE2Logger").logExposureForUser("pages_growth_optout_button");this.$2("open");var a={notif_type:this.props.notif_type};b("Banzai").post("notif_chevron_on_click",a)}.bind(this),c}a.prototype.$2=function(a){a={event:a,notif_type:this.props.notif_type,notif_id:parseInt(b("NotificationTokens").untokenizeIDs([this.props.alert_id])[0],10)};b("BanzaiLogger").log("NotifJewelMenuLoggerConfig",a)};a.prototype.$4=function(){__p&&__p();var a=this.props.notificationOptions;a=a&&a.map(function(a){var c,d;c=(c=a)!=null?(c=c.option_display)!=null?(c=c.text)!=null?c.text:c:c:c;if(c==null)return null;var e=a.server_action||"";d=((d=a)!=null?(d=d.client_info)!=null?d.action_type:d:d)||"";return b("React").createElement(i,{onclick:function(){return this.props.onMenuOptionClick(a)}.bind(this),key:d+":"+e},b("React").createElement("div",{className:"_18qh"},c))}.bind(this)).filter(function(a){return a!=null});return a==null||a.length===0?null:b("React").createElement(b("ReactXUIMenu"),null,a)};a.prototype.render=function(){var a=this.$4();if(!a)return null;var c={button:b("React").createElement("a",{href:"#","aria-label":"Notification options",className:"_1_0d"})};a=b("React").createElement(b("PopoverMenu.react"),{"data-testid":b("NotifTestIDs").CHEVRON,alignh:"right",menu:a,className:b("joinClasses")(this.props.className,"_1_0c"),disableArrowKeyActivation:!0,onShow:this.$3,onHide:this.$1},b("React").createElement(b("AbstractPopoverButton.react"),{config:c,haschevron:!1,image:null,label:null}));return a};e.exports=a}),null);
__d("FlexibleBlock.react",["cx","invariant","LeftRight.react","React","keyMirror"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i,j=b("keyMirror")({left:!0,right:!0});function k(a){a.flex&&a.flex in l.FLEX||h(0),a.children&&a.children.length===2||h(0)}i=babelHelpers.inherits(l,b("React").Component);i&&i.prototype;l.prototype.render=function(){"use strict";k(this.props);var a,c=this.props,d=c.flex;c=babelHelpers.objectWithoutProperties(c,["flex"]);var e=this.props.children[0],f=this.props.children[1];d=d==j.left;d?(e=e,a=b("LeftRight.react").DIRECTION.right):(e=f,a=b("LeftRight.react").DIRECTION.left);f=b("React").createElement("div",{className:"_42ef"},e);return b("React").createElement(b("LeftRight.react"),babelHelpers["extends"]({},c,{direction:a}),d?f:this.props.children[0],d?this.props.children[1]:f)};function l(){"use strict";i.apply(this,arguments)}l.FLEX=j;e.exports=l}),null);
__d("NotificationThumbnail.react",["React","RoundImage.react"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement(b("RoundImage.react"),a)}e.exports=a}),null);
__d("NotificationListItemContents.react",["cx","ix","BizSiteIdentifier.brands","FlexibleBlock.react","ImageBlock.react","NotificationAttachment.react","NotificationFooter.react","NotificationInterpolator","NotificationThumbnail.react","React","TextWithEntities.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;b("BizSiteIdentifier.brands").isBizSite();var j=h("97000");i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.$1=function(){var a=this.props.notification.title;return!a?null:b("React").createElement(b("TextWithEntities.react"),babelHelpers["extends"]({interpolator:b("NotificationInterpolator")},a,{renderEmoji:!0,renderEmoticons:!0}))};a.prototype.render=function(){var a=this.$1(),c=this.props,d=c.hideIcon,e=c.isNotifsPage,f=c.noPhotoPreviews,g=c.shortenTimestamp;c=c.notification;var h=c.icon,i=c.previewImage,k=c.thumbnail;c=c.timestamp;d=b("React").createElement(b("NotificationFooter.react"),{icon:d?null:h,shortenTimestamp:g,timestamp:c});return b("React").createElement(b("ImageBlock.react"),null,b("React").createElement(b("NotificationThumbnail.react"),{alt:"",className:(e?"":"_62bh")+(e?" _62bi":""),src:k&&k.uri||j}),b("React").createElement(b("FlexibleBlock.react"),{flex:b("FlexibleBlock.react").FLEX.left},b("React").createElement("div",{className:"_4l_v"},a,d),f?null:b("React").createElement(b("NotificationAttachment.react"),{image:i})))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("NotificationListItemOptionConfirmation.react",["cx","fbt","List.react","NotificationInterpolator","React","TextWithEntities.react","idx"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.notificationOptions,d=a.undoText,e=a.undoToken;return b("React").createElement(b("React").Fragment,null,d!=null||e!=null?b("React").createElement("div",{className:"_4ai"},d!=null?b("React").createElement(b("TextWithEntities.react"),{interpolator:b("NotificationInterpolator"),ranges:d.ranges,aggregatedranges:d.aggregated_ranges,text:d.text}):null,e!=null?b("React").createElement("a",{href:"#",onClick:function(){return a.onUndoClick()},className:"mls"},h._("Undo")):null):null,b("React").createElement(b("List.react"),{border:"none",className:"_1v4c",spacing:"small"},c?c.map(function(c){var d,e;d=(d=c)!=null?(d=d.option_display)!=null?(d=d.text)!=null?d.text:d:d:d;if(d==null)return null;var f=c.server_action||"";e=((e=c)!=null?(e=e.client_info)!=null?e.action_type:e:e)||"";return b("React").createElement("li",{key:e+":"+f},b("React").createElement("a",{className:"mls",href:"#",onClick:function(){return a.onMenuOptionClick(c)}},d))}):null))}e.exports=a}),null);
__d("NotificationListItemReadToggle.react",["cx","fbt","React","ReadToggle.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=a.className,d=a.isRead,e=a.canMarkUnread;a=a.onToggleClick;return b("React").createElement(b("ReadToggle.react"),{className:c,isRead:d,onClick:a,readLabel:e?h._("Mark as Unread"):h._("Read"),unreadLabel:h._("Mark as Read")})}e.exports=a}),null);
__d("NotificationListItemBase.react",["csx","cx","invariant","AsyncDialog","AsyncResponse","BizSiteIdentifier.brands","Bootloader","InternalNotificationOptionHandler","LogicalGridCell.react","LogicalGridRow.react","NotificationConstants","NotificationListConfig","NotificationListItemChevron.react","NotificationListItemContents.react","NotificationListItemOptionConfirmation.react","NotificationListItemReadToggle.react","NotificationTracking","NotificationUpdates","NotificationUserActions","NotifTestIDs","Parent","React","ReactDOM","Style","TrackingNodes","URI","compactArray","createObjectFrom","idx","promiseDone"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b("BizSiteIdentifier.brands").isBizSite();-1;function k(a){__p&&__p();if(a.length===0)return;a=a[0];var c=a.description,d=a.is_silent,e=a.is_transient;a=a.message;var f=new(b("AsyncResponse"))();f.errorSummary=c;f.errorDescription=a;f.silentError=d;f.transientError=e;b("AsyncResponse").defaultErrorHandler(f)}c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.prefetched=!1,this.isLiveVideo=null,this.$1=!1,this.state={actionsTaken:[],sendingFeedback:!1},this.$4=function(){b("NotificationUserActions").setNextIsFromReadButton(!0),this.props.isRead?this.props.canMarkUnread&&(this.props.onMarkItemUnread&&this.props.onMarkItemUnread()):this.props.onMarkItemRead&&this.props.onMarkItemRead()}.bind(this),this.$7=function(a){__p&&__p();var c,d=(c=a)!=null?(c=c.client_info)!=null?c.action_type:c:c;if(d==null)return;if(b("InternalNotificationOptionHandler").tryHandle(this.$3(),a,this.props.getDebugData))return;var e=a.server_action;if(e==null)return;this.setState({sendingFeedback:!0});b("promiseDone")(b("NotificationUserActions").sendNotifOption(e),function(c){__p&&__p();if(this.$1)return;this.setState(function(f){var g;g=(g=c)!=null?(g=g.notif_option_action)!=null?(g=g.notification)!=null?(g=g.notif_option_sets)!=null?(g=g.edges)!=null?(g=g[0])!=null?(g=g.node)!=null?(g=g.notif_options)!=null?g.edges:g:g:g:g:g:g:g:g;f=babelHelpers["extends"]({},f,{actionsTaken:f.actionsTaken.concat([{actionToken:e,type:d,nextNotificationOptions:g&&b("compactArray")(g.map(function(a){a=a.node;return a})),undoText:(f=a)!=null?(f=f.option_display)!=null?f.undo_text:f:f,undoToken:(g=a)!=null?(g=g.client_info)!=null?g.undo_server_action:g:g}]),sendingFeedback:!1});b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.USER_ACTION,{hiddenState:b("createObjectFrom")([this.$3()],this.$10(f))});return f}.bind(this))}.bind(this),this.$12)}.bind(this),this.$13=function(){__p&&__p();var a=this.$3();this.setState({sendingFeedback:!0});var c=this.state.actionsTaken[this.state.actionsTaken.length-1];c&&c.undoToken!=null&&b("promiseDone")(b("NotificationUserActions").sendNotifOption(c.undoToken),function(c){if(this.$1)return;this.setState(function(c){c=babelHelpers["extends"]({},c,{actionsTaken:c.actionsTaken.slice(0,this.state.actionsTaken.length-1),sendingFeedback:!1});b("NotificationUpdates").handleUpdate(b("NotificationConstants").PayloadSourceType.USER_ACTION,{hiddenState:b("createObjectFrom")([a],this.$10(c))});return c}.bind(this))}.bind(this),this.$12)}.bind(this),this.$12=function(a){a=a.errors;if(this.$1)return;k(a);this.setState({sendingFeedback:!1})}.bind(this),c}a.prototype.$3=function(){"use strict";return this.props.notification.alert_id};a.prototype.$5=function(){"use strict";var a=this.props,c=a.canMarkUnread;a=a.isRead;return b("React").createElement(b("NotificationListItemReadToggle.react"),{className:"_55m9 _55ma",canMarkUnread:c,isRead:!!a,onToggleClick:this.$4})};a.prototype.$6=function(){__p&&__p();var a=this.props,c=a.onChevronHide,d=a.onChevronShow;a=a.notification;var e=a.alert_id,f=a.notif_option_sets,g=a.notif_type;a=a.renderer_data;var h=!1;a&&(a.__typename==="FallbackNotificationRendererData"||a.__typename==="LiveVideoNotificationRendererData")&&a.should_log_menu_exposure!=null&&(h=a.should_log_menu_exposure);f=(a=f)!=null?(a=a.edges)!=null?(a=a[0])!=null?(a=a.node)!=null?(a=a.notif_options)!=null?a.edges:a:a:a:a:a;return b("React").createElement(b("NotificationListItemChevron.react"),{alert_id:e,className:"_55m9",notif_type:g,notificationOptions:f&&b("compactArray")(f.map(function(a){a=a.node;return a})),onHide:c,onMenuOptionClick:this.$7,onShow:d,logMenuExposure:h})};a.prototype.shouldComponentUpdate=function(a,b){"use strict";b=this.props.visible!==a.visible||this.props.isRead!==a.isRead||this.props.isSelected!==a.isSelected||this.props.notification.timestamp!==a.notification.timestamp||this.state.actionsTaken.length!==b.actionsTaken.length||this.state.sendingFeedback!==b.sendingFeedback;return b||!!this.props.hasCustomForeground&&this.props.paused!==a.paused};a.prototype.UNSAFE_componentWillUpdate=function(a){"use strict";if(!this.$2||!a.isSelected||this.props.isSelected)return;a=b("ReactDOM").findDOMNode(this.$2);a&&a.scrollIntoViewIfNeeded&&a.scrollIntoViewIfNeeded(!1)};a.prototype.UNSAFE_componentWillReceiveProps=function(a){"use strict";this.props.paused&&!a.paused&&!this.props.visible&&this.state.actionsTaken.length>0&&this.setState({actionsTaken:[]})};a.prototype.componentDidMount=function(){"use strict";this.$8()&&b("Bootloader").loadModules(["VideoPlayerMetaData"],function(a){a.genVideoData(this.$9()).done()}.bind(this),"NotificationListItemBase.react")};a.prototype.componentDidUpdate=function(){"use strict";if(this.props.enableHubView&&this.props.isSelected&&this.$2){var a=b("ReactDOM").findDOMNode(this.$2);a&&typeof a.focus==="function"&&a.focus()}};a.prototype.$10=function(){var a=arguments.length<=0||arguments[0]===undefined?this.state:arguments[0];return a.actionsTaken.some(function(a){return a.type==="HIDE"})};a.prototype.$11=function(){"use strict";var a=b("ReactDOM").findDOMNode(this);if(!a)return!1;a=b("Parent").bySelector(a,".__tw");a=a?a.parentNode:null;return a?b("Style").get(a,"display")!=="none":!1};a.prototype.$14=function(a){"use strict";if(this.state.actionsTaken.length>=2)return null;var b={};this.state.actionsTaken.forEach(function(a){b[a.actionToken]=!0});return a.filter(function(a){a=a.server_action;return a==null||b[a]!==!0})};a.prototype.$9=function(){"use strict";var a=b("NotificationTracking").getEncodedTrackingData(this.props.notification,this.props.row);return a.content_id||null};a.prototype.$8=function(){"use strict";if(this.isLiveVideo===null){var a=b("NotificationTracking").getTrackingString(this.props.notification,this.props.row);this.isLiveVideo=a.indexOf("live_video")!==-1}return!!this.isLiveVideo};a.prototype.render=function(){"use strict";__p&&__p();if(!this.props.visible&&!this.$10())return b("React").createElement("li",{className:"_4_62"});var a="_33c"+(b("NotificationListConfig").isWork?" _1rqj":"")+(this.props.isRead?"":" jewelItemNew")+(this.state.sendingFeedback?" _4m8s":"")+(this.props.hasCustomForeground?" _3u5n":"")+(this.props.isSelected?" _u-o":""),c=b("NotificationTracking").getTrackingString(this.props.notification,this.props.row),d=this.props.rowIndex;if(this.state.actionsTaken.length>0){var e=this.state.actionsTaken[this.state.actionsTaken.length-1];return b("React").createElement("li",{className:a,"data-gt":c,"data-testid":b("NotifTestIDs").NOTIF_LIST_ITEM},b("React").createElement(b("LogicalGridRow.react"),{className:"_dre",rowIndex:d,component:b("React").createElement("div",null)},b("React").createElement(b("LogicalGridCell.react"),{columnIndex:0,component:b("React").createElement("div",null)},b("React").createElement(b("NotificationListItemOptionConfirmation.react"),{notificationOptions:e.nextNotificationOptions?this.$14(e.nextNotificationOptions):null,onUndoClick:this.$13,onMenuOptionClick:this.$7,undoText:e.undoText,undoToken:e.undoToken}))))}e=b("React").createElement(b("NotificationListItemContents.react"),this.props);e=this.props.renderLink(e);return b("React").createElement("li",{className:a,"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.NOTIFICATION_ITEM,this.props.row),"data-gt":c,"data-alert-id":this.$3(),"data-testid":b("NotifTestIDs").NOTIF_LIST_ITEM},b("React").createElement(b("LogicalGridRow.react"),{className:"_dre anchorContainer",rowIndex:d,component:b("React").createElement("div",null)},b("React").createElement(b("LogicalGridCell.react"),{columnIndex:0,component:b("React").createElement("div",null)},e),b("React").createElement("ul",{className:"_55mc"},b("React").createElement(b("LogicalGridCell.react"),{columnIndex:1,component:b("React").createElement("li",{className:"_h_c"})},this.$5()),b("React").createElement(b("LogicalGridCell.react"),{columnIndex:2,component:b("React").createElement("li",{className:"_h_d"}),disableFocusRecovery:!0},this.$6()))))};e.exports=a}),null);
__d("getNormalizedClientRect",["getDocumentScrollElement"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.getBoundingClientRect(),d=0,e=0;a=b("getDocumentScrollElement")(a.ownerDocument);var f=a.getBoundingClientRect();if(f.left>0)d=-f.left;else{a=a.scrollWidth+f.left;var g=f.width;g>a&&(d=g-a)}f.top>0&&(e=-f.top);return{bottom:c.bottom+e,height:c.height,left:c.left+d,right:c.right+d,top:c.top+e,width:c.width}}e.exports=a}),null);
__d("StickyArea",["cx","CSS","DOM","DOMQuery","Event","Run","Style","ViewportBounds","getNormalizedClientRect","getOverlayZIndex","getStyleProperty","removeFromArray","throttle"],(function(a,b,c,d,e,f,g){__p&&__p();var h=[],i=null,j=null,k=b("throttle").acrossTransitions(n,1e3),l="$$StickyArea_scrollListener",m="$$StickyArea_scrollListenerCount";function n(){h.sort(function(a,b){a=a.getNode();b=b.getNode();if(a.compareDocumentPosition)return 3-(a.compareDocumentPosition(b)&6);else return a.sourceIndex-b.sourceIndex})}function o(a,c,d){var e=a.getPlaceholder(),f=a.getNode(),g=b("Style").get(f,"float");a=a.getData();(a.placeholderWidth!==c||a.placeholderHeight!==d||a.placeholderFloat!==g)&&(b("Style").apply(e,{"float":g,height:d+"px",width:c+"px"}),a.placeholderHeight=d,a.placeholderWidth=c);f.nextSibling!==e&&b("DOM").insertAfter(f,e)}function p(a,c){var d=a.getData();d.fixed!==c&&(b("Style").apply(a.getNode(),d.styles),b("CSS").conditionShow(a.getPlaceholder(),c),b("CSS").conditionClass(a.getNode(),"_1a1e",c),b("Event").fire(a.getNode(),"change"),d.fixed=c)}function q(a,b){if(!a)return 0;else if(b.right<=a.rect.left||b.left>=a.rect.right)return q(a.prev,b);else return a.bottom}function r(){__p&&__p();var a=0,c=h.length,d=100,e=null;function f(g,i){__p&&__p();var j=d;while(a<c){var k=h[a],l=k.getNode(),m=k._scrollTarget;if(i&&!b("DOMQuery").contains(i,l))break;d=Math.max(j,k.getZIndex());var n=k.getData(),r=l.parentNode,s=n.styles;if(r==null){a++;continue}for(var t in s)s[t]="";p(k,!1);var u=l.offsetHeight,v=parseFloat(b("getStyleProperty")(l,"width"))||l.offsetWidth,w=m!==window?m.getBoundingClientRect().top:0,x=b("getNormalizedClientRect")(l);m=q(g||(m===window?e:null),x)+k.getOffset();var y=x.top-w;if(y<=m){s.width=v+"px";y=parseInt(b("Style").get(r,"padding-bottom"),10);var z=b("getNormalizedClientRect")(r);if(z.bottom-y>m+u||!k.getIsBoundToContainer()){var A=parseInt(b("Style").get(l,"margin-left"),10);s.position="fixed";s.bottom="auto";s.top=m+w+"px";s.left=x.left-A+"px"}else{(!n.parent||r!==n.parent)&&(b("Style").get(r,"position")==="static"&&b("Style").set(r,"position","relative"),n.parent=r);s.position="absolute";s.top="auto";s.bottom=y+"px";w=parseInt(b("Style").get(r,"border-left-width"),10);s.left=x.left-z.left-w+"px"}o(k,v,u);p(k,!0)}a++;A={bottom:m+u,prev:g,rect:x};n=0;k.getIsBoundToContainer()||(e=A,n=100);f(A,r);y=k.getZIndexOverride()||d+++n;b("Style").set(l,"z-index",y)}}f(null,null)}function s(a,c,d){__p&&__p();var e=arguments.length<=3||arguments[3]===undefined?{}:arguments[3];this._isDestroyed=!1;this._node=a;this._data={fixed:!1,placeholderFloat:null,placeholderHeight:null,placeholderWidth:null,styles:{}};this._offset=d;this._boundToContainer=e.boundToContainer!==!1;e.stickTo===s.stickTo.SCROLL_PARENT?this._scrollTarget=b("Style").getScrollParent(a.parentNode)||window:this._scrollTarget=window;this._zIndexOverride=e.zIndexOverride;b("CSS").addClass(a,"_k");c||b("Run").onLeave(this.destroy.bind(this));!this._scrollTarget[l]?(this._scrollTarget[l]=b("Event").listen(this._scrollTarget,"scroll",function(){k(),r()}),this._scrollTarget[m]=1):this._scrollTarget[m]++;h.length||(i=b("Event").listen(window,"resize",function(){k(),r()}),j=b("ViewportBounds").subscribe("change",function(){k(),r()}));h.push(this);s.reflow()}s.prototype.destroy=function(){"use strict";__p&&__p();if(this._isDestroyed)return;b("removeFromArray")(h,this);this._scrollTarget[m]--;this._scrollTarget[m]===0&&(this._scrollTarget[l].remove(),this._scrollTarget[l]=null);h.length||(i.remove(),i=null,j.unsubscribe(),j=null);this._placeholder&&b("DOM").remove(this._placeholder);var a=0;for(var c in this._data.styles)this._data.styles[c]="",a++;a&&b("Style").apply(this._node,this._data.styles);this._isDestroyed=!0};s.prototype.getData=function(){"use strict";return this._data};s.prototype.getNode=function(){"use strict";return this._node};s.prototype.getOffset=function(){"use strict";return this._offset||0};s.prototype.getPlaceholder=function(){"use strict";this._placeholder||(this._placeholder=b("DOM").create("div"));return this._placeholder};s.prototype.getIsBoundToContainer=function(){"use strict";return this._boundToContainer};s.prototype.getZIndexOverride=function(){"use strict";return this._zIndexOverride};s.prototype.getZIndex=function(){"use strict";this._zIndex||(this._zIndex=b("getOverlayZIndex")(this._node));return this._zIndex};s.prototype.setOffset=function(a){"use strict";this._offset=a};s.reflow=b("throttle").acrossTransitions(function(){n(),r()},100);s.stickTo={SCROLL_PARENT:"SCROLL_PARENT",WINDOW:"WINDOW"};e.exports=s}),null);
__d("StickyArea.react",["cx","React","ReactDOM","StickyArea","joinClasses"],(function(a,b,c,d,e,f,g){__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.componentDidMount=function(){"use strict";this.$1=new(b("StickyArea"))(b("ReactDOM").findDOMNode(this),!0,this.props.offset||0,{boundToContainer:this.props.boundToContainer,stickTo:this.props.stickTo,zIndexOverride:this.props.zIndexOverride})};a.prototype.componentDidUpdate=function(a){"use strict";this.props.offset!==a.offset&&this.$1.setOffset(this.props.offset),b("StickyArea").reflow()};a.prototype.componentWillUnmount=function(){"use strict";this.$1.destroy(),this.$1=null};a.prototype.setOffset=function(a){"use strict";this.$1.setOffset(a)};a.prototype.render=function(){"use strict";return b("React").createElement("div",babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,"_k"),ref:"root"}),this.props.children)};function a(){"use strict";h.apply(this,arguments)}a.propTypes={boundToContainer:c.bool,stickTo:c.oneOf([b("StickyArea").stickTo.SCROLL_PARENT,b("StickyArea").stickTo.WINDOW]).isRequired,zIndexOverride:c.oneOfType([c.number,c.oneOf(["auto","initial","inherit"])])};a.defaultProps={boundToContainer:!0,stickTo:b("StickyArea").stickTo.WINDOW};e.exports=a}),null);
__d("GiftCredits",["AsyncRequest","Dialog","URI"],(function(a,b,c,d,e,f){__p&&__p();var g={dialog:null,callback:null,purchaseLock:!1,purchaseLockExpiryThreshold:5e3,purchaseLockTimeoutId:null,getPurchaseCreditPrompt:function(a,b,c,d){g.main(a,null,null,null,c,null,null,null,"BuyCredits",{},d)},redeemGiftcard:function(a,c,d){var e=new(b("URI"))(document.location).setPath("/giftcards").toString();g.main(a,null,null,e,null,null,null,null,c,{},d)},getPrompt:function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){g.main(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y)},main:function(a,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){if(g.isPurchaseLocked())return!1;g.setPurchaseLock(!0);h={_path:"pay",method:"pay",display:"async",app_id:a,receiver:c,api_key:i,credits_purchase:p,action:k,next:e,dev_purchase_params:JSON.stringify(l),additional_params:JSON.stringify(m),order_info:JSON.stringify(d),product:n,package_id:o,request_id:q,sdk:r,quantity:s,quantity_min:t,quantity_max:u,test_currency:v,pricepoint_id:w,user:x,user_hash:y,ingame_gift_data:z};j=new(b("AsyncRequest"))().setURI("/fbml/ajax/dialog/").setData(h).setMethod("GET").setReadOnly(!0).setStatusElement("commerce_get_more_loading");g.callback=f;g.dialog=new(b("Dialog"))().setAsync(j).setModal(!0).setCloseHandler(function(a){g.setPurchaseLock(!1),f(a)}).show()},isPurchaseLocked:function(){return g.purchaseLock},setPurchaseLock:function(a){g.purchaseLock=a;a?g.purchaseLockTimeoutId=setTimeout(function(){g.setPurchaseLock(!1)},g.purchaseLockExpiryThreshold):clearTimeout(g.purchaseLockTimeoutId);return!0}};e.exports=g}),null);
__d("legacy:giftcredits",["GiftCredits"],(function(a,b,c,d,e,f){a.GiftCredits=b("GiftCredits")}),3);
__d("TimePlayingEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FIVE_SECONDS:"five_seconds",TEN_SECONDS:"ten_seconds",THIRTY_SECONDS:"thirty_seconds",ONE_MINUTE:"one_minute",TWO_MINUTES:"two_minutes",FIVE_MINUTES:"five_minutes"})}),null);
__d("CanvasActivityLogger",["Banzai","Event","ScriptPath","TimePlayingEnum","Visibility","$","clickRefAction","getActiveElement","setIntervalAcrossTransitions"],(function(a,b,c,d,e,f){__p&&__p();var g=1e3,h=!1,i=!1,j=!1,k=!1,l=null,m=null,n=null,o=0,p=0,q=0,r={5:b("TimePlayingEnum").FIVE_SECONDS,10:b("TimePlayingEnum").TEN_SECONDS,30:b("TimePlayingEnum").THIRTY_SECONDS,60:b("TimePlayingEnum").ONE_MINUTE,120:b("TimePlayingEnum").TWO_MINUTES,300:b("TimePlayingEnum").FIVE_MINUTES},s={CANVAS_ACTIVE:"active",CANVAS_INACTIVE:"inactive"},t=s.CANVAS_INACTIVE;function u(){return k&&j&&(h||i)}function v(){__p&&__p();if(t==s.CANVAS_ACTIVE&&!u()){t=s.CANVAS_INACTIVE;var a=Date.now()-m;b("ScriptPath").closeOverlayView("canvas",m?{ms_since_open:a}:null);p+=a;for(var c in r)if(Object.prototype.hasOwnProperty.call(r,c)&&p>c*g){var d=r[c];b("Banzai").post("canvas_playing_game",{played:d,app_id:q});delete r[c]}if(Date.now()-n>60*g){d=a+o;b("Banzai").post("canvas_time_spent",[d,q]);n=Date.now();o=0}else o=m?a+o:o}else t==s.CANVAS_INACTIVE&&u()&&(t=s.CANVAS_ACTIVE,m=Date.now(),n||(n=Date.now()),b("ScriptPath").openOverlayView("canvas"))}b("Banzai").subscribe(b("Banzai").SHUTDOWN,function(){u()&&b("ScriptPath").closeOverlayView("canvas",m?{ms_since_open:Date.now()-m}:null)});function w(a){__p&&__p();b("clickRefAction")("canvas",l,a,"FORCE").set_namespace("canvas");switch(a.type){case"beforeunload":k=!1;h=!1;i=!1;break;case"visible":k=!0;break;case"hidden":k=!1;break;case"mouseover":i=!0;break;case"mouseout":i=!1;break;case"focus":case"blur":h=b("getActiveElement")()==document.getElementById("iframe_canvas");break;default:break}v()}function x(a){var b=document.createEvent("FocusEvent");b.initEvent(a,!0,!0);return b}a={trackState:function(a,c){q=c,k=!b("Visibility").isHidden(),j=document.hasFocus(),h=b("getActiveElement")()==document.getElementById("iframe_canvas"),i=a.querySelector(":hover")!==null,v(),b("Event").listen(a,"mouseover",w),b("Event").listen(a,"mouseout",w),b("Event").listen(window,"blur",w),b("Event").listen(window,"focus",w),b("Event").listen(window,"beforeunload",w),b("Visibility").addListener("hidden",function(){return w(x("hidden"))}),b("Visibility").addListener("visible",function(){return w(x("visible"))}),b("setIntervalAcrossTransitions")(function(){j=document.hasFocus(),v()},g)}};e.exports=a}),null);
__d("CanvasResizer",["CSS","DOMEventListener","Vector","createArrayFromMixed"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(){__p&&__p();var a,c=document.documentElement;window.innerHeight?a=window.innerHeight:c&&c.clientHeight?a=c.clientHeight:a=document.body.clientHeight;for(var c=0;c<g.length;c++){var d=g[c];if(!b("CSS").hasClass(d,"noresize")){var e=b("Vector").getElementPosition(d,"document").y;e=a-e;d.style.height=e/(g.length-c)+"px"}}}b("DOMEventListener").add(window,"resize",h);a={smartSizingFrameAdded:function(){g=[];var a=b("createArrayFromMixed")(document.getElementsByTagName("iframe"));a.forEach(function(a){b("CSS").hasClass(a,"smart_sizing_iframe")&&!b("CSS").hasClass(a,"noresize")&&(b("CSS").removeClass(a,"canvas_iframe_util"),g.push(a))});h()}};e.exports=a}),null);