if (self.CavalryLogger) { CavalryLogger.start_js(["K8+xf"]); }

__d("ReviewConsumptionTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ReviewConsumptionLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ReviewConsumptionLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ReviewConsumptionLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setElement=function(a){this.$1.element=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setPageID=function(a){this.$1.page_id=a;return this};a.prototype.setReviewID=function(a){this.$1.review_id=a;return this};a.prototype.setSurface=function(a){this.$1.surface=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={element:!0,event:!0,page_id:!0,review_id:!0,surface:!0,vc:!0};e.exports=a}),null);
__d("ReviewPagingNotifier",["Arbiter"],(function(a,b,c,d,e,f){var g={PAGING_STATE:"paging_state",PAGING_FINISHED:"paging_finished",send_state:function(a,c){a={context:a,state:c};b("Arbiter").inform(g.PAGING_STATE,a,b("Arbiter").BEHAVIOR_STATE)},paging_finished:function(a){g.send_state(a,g.PAGING_FINISHED)}};e.exports=g}),null);
__d("ReviewRatingHistogram",["csx","Arbiter","CSS"],(function(a,b,c,d,e,f,g){function h(a,c){"use strict";for(var d=1;d<=5;++d)b("CSS").matchesSelector(c[d],"._5h2r")||(a[d].onclick=this.$1.bind(this,d),c[d].onclick=this.$1.bind(this,d))}h.prototype.$1=function(a){"use strict";b("Arbiter").inform(h.RATING_CLICK,a)};h.RATING_CLICK="onRatingClick";e.exports=h}),null);
__d("SpotlightSnippetLink",["Arbiter","Event"],(function(a,b,c,d,e,f){function g(a,c){"use strict";b("Event").listen(a,"click",function(){b("Arbiter").inform(g.SNIPPET_CLICK,c)})}g.init=function(a,b){"use strict";return new g(a,b)};g.SNIPPET_CLICK="snippet_click";e.exports=g}),null);
__d("SpotlightSnippetXOutButton",["Arbiter","Event"],(function(a,b,c,d,e,f){function g(a){"use strict";b("Event").listen(a,"click",function(){b("Arbiter").inform(g.XOUT)})}g.init=function(a){"use strict";return new g(a)};g.XOUT="snippet_xout";e.exports=g}),null);
__d("SpotlightReviewsTabbingController",["cx","invariant","Arbiter","CSS","DOM","DOMScroll","ReviewConsumptionTypedLogger","ReviewPagingNotifier","ReviewRatingHistogram","Run","SpotlightSnippetLink","SpotlightSnippetXOutButton","Style","SubscriptionsHandler","TabBar","ge"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a,c,d,e,f,g,h,i){"use strict";__p&&__p();this.$9=a;this.$8=c;this.$11=d;this.$6=e;this.$7=f;this.$10=g;this.$3=h;this.$1=!1;this.$8=c;this.$2={defaultTab:!0};this.$4=null;this.$5=null;var j=new(b("SubscriptionsHandler"))();j.addSubscriptions(a.subscribe(b("TabBar").TAB_CLICK,function(a,c){new(b("ReviewConsumptionTypedLogger"))().setEvent("switched_review_filter").setPageID(this.$3).setSurface("reviews_tab").addToExtraData("filter_type",c).addToExtraData("previous_filter_Type",this.$8).log(),this.$12(c)}.bind(this)),b("Arbiter").subscribe(b("SpotlightSnippetLink").SNIPPET_CLICK,function(a,c){new(b("ReviewConsumptionTypedLogger"))().setEvent("spotlight_snippet_tap").setPageID(this.$3).setSurface("reviews_tab").addToExtraData("snippet_text",c).log(),this.$13(c)}.bind(this)),b("Arbiter").subscribe(b("SpotlightSnippetXOutButton").XOUT,function(){new(b("ReviewConsumptionTypedLogger"))().setEvent("spotlight_snippet_xout_click").setPageID(this.$3).setSurface("reviews_tab").addToExtraData("snippet_text",this.$8).log(),this.$14()}.bind(this)),b("Arbiter").subscribe(b("ReviewPagingNotifier").PAGING_STATE,function(a,c){if(c.state===b("ReviewPagingNotifier").PAGING_FINISHED){b("Style").apply(this.$6[c.context],{"min-height":0});this.$2[c.context]=!0;if(c.context==="star_rating"&&this.$4){a=b("ge")(this.$4+"_star_reviews");a&&(b("DOMScroll").scrollTo(a),this.$4=null)}}return!1}.bind(this)),b("Arbiter").subscribe(b("ReviewRatingHistogram").RATING_CLICK,function(a,c){new(b("ReviewConsumptionTypedLogger"))().setEvent("rating_histogram_click").setPageID(this.$3).setSurface("reviews_tab").addToExtraData("rating",c).log(),this.$1&&this.$14(),this.$15(this.$8),this.$16("star_rating"),this.$12("star_rating"),this.$2.star_rating?b("DOMScroll").scrollTo(b("ge")(c+"_star_reviews")):this.$4=c}.bind(this)));b("Run").onLeave(function(){return j.release()});i&&this.$13(i)}a.prototype.$15=function(a){"use strict";b("CSS").removeClass(this.$11[a].parentNode.parentNode.parentNode,"_1hqh")};a.prototype.$14=function(){"use strict";b("CSS").show(this.$10),b("CSS").hide(this.$7),this.$1=!1,this.$5||h(0),this.$12(this.$5)};a.prototype.$13=function(a){"use strict";b("CSS").hide(this.$10);b("CSS").show(this.$7);var c=b("ge")("selected_snippet_text");b("DOM").setContent(c,a);this.$15(this.$8);this.$5=this.$8;this.$12(a);this.$1=!0};a.prototype.$16=function(a){"use strict";b("CSS").addClass(this.$11[a].parentNode.parentNode.parentNode,"_1hqh")};a.prototype.$12=function(a){"use strict";__p&&__p();this.$4=null;a!=="star_rating"&&this.$15("star_rating");a in this.$11&&this.$16(a);var c=this.$6[this.$8],d=this.$6[a];if(!(a in this.$2)){c=b("Style").get(c,"height");b("Style").apply(d,{"min-height":c})}b("CSS").removeClass(this.$6[this.$8],"_2fg3");b("CSS").addClass(this.$6[a],"_2fg3");this.$8=a};e.exports=a}),null);