if (self.CavalryLogger) { CavalryLogger.start_js(["h\/t6L"]); }

__d("FBRTCCallConstants",[],(function(a,b,c,d,e,f){e.exports={FBRTCCallConnectionType:{MISSED_CALL:4,CONNECTED_CALL:5},FBRTCCallType:{VOICE_CALL:1,VIDEO_CALL:2,COLLAB_VIDEO_CALL:3,COLLAB_SCREEN_SHARE_CALL:4}}}),null);
__d("XVideoCallAdminMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videocall/admin_msg/",{})}),null);
__d("FBRTCAdminMessage",["FBRTCCallConstants","FBRTCConstants","FBRTCLogger","FBRTCUtils","XVideoCallAdminMessageController","emptyFunction","performanceNow"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){"use strict";this.$1=a,this.$2=b,this.$3=Date.now(),this.$4=null,this.$5=null}a.prototype.onCallConnected=function(){"use strict";this.$4||(this.$4=b("performanceNow")())};a.prototype.onCallEnded=function(){"use strict";this.$5||(this.$5=b("performanceNow")())};a.prototype.submit=function(a,c){"use strict";this.$5||this.onCallEnded();var d=0,e=b("FBRTCCallConstants").FBRTCCallConnectionType.MISSED_CALL;this.$4&&this.$5&&(d=Math.ceil(this.$5-this.$4),e=b("FBRTCCallConstants").FBRTCCallConnectionType.CONNECTED_CALL);c=e===b("FBRTCCallConstants").FBRTCCallConnectionType.CONNECTED_CALL||c===b("FBRTCConstants").CallEndReason.IGNORE_CALL;this.$6({peer_id:this.$1,call_id:this.$2,start_time:this.$3,call_duration:d,message_type:e,call_category:a,call_acknowledged:c})};a.prototype.$6=function(a){"use strict";var c=b("XVideoCallAdminMessageController").getURIBuilder().getURI();b("FBRTCUtils").sendServerRequest(c,b("emptyFunction"),this.$7.bind(this,a.peer_id,a.call_id),!1,undefined,a)};a.prototype.$7=function(a,c,d){"use strict";var e=void 0;d?e="Fail to log admin message, error "+d.error:e="Server timed out on logging admin message";b("FBRTCLogger").getInstance().logError(a,c,e)};e.exports=a}),null);
__d("FBRTCIceCache",[],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1={}}a.prototype.reset=function(a,b){"use strict";this.$1[a]||(this.$1[a]={}),this.$1[a][b]=[]};a.prototype.cacheCandidate=function(a,b,c){"use strict";this.$1[a]||(this.$1[a]={}),this.$1[a][b]||(this.$1[a][b]=[]),this.$1[a][b].unshift(c)};a.prototype.drainCandidates=function(a,b,c){"use strict";if(this.$1[a]&&this.$1[a][b]){var d;void 0;while(this.$1[a][b].length>0)d=this.$1[a][b].pop(),c(d)}};e.exports=a}),null);
__d("FBRTCMessageDedup",[],(function(a,b,c,d,e,f){var g={};a={check:function(a,b,c){g[a]||(g[a]={});g[a][b]||(g[a][b]={});if(g[a][b][c])return!1;g[a][b][c]=!0;return!0}};e.exports=a}),null);
__d("SamplingPolicyBase",[],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";throw new Error("Tried to instantiate SamplingPolicyBase")}a.prototype.getName=function(){"use strict";return this.name};a.prototype.isSampled=function(){"use strict";typeof this.sampled==="undefined"&&(this.sampled=this.decideIfSampled());return this.sampled};e.exports=a}),null);
__d("FbtraceForcedByServerPolicy",["FbtraceForcedByServer","SamplingPolicyBase"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=void 0;function h(){this.name="FbtraceForcedByServerPolicy"}h.get=function(){typeof g==="undefined"&&(g=new h());return g};function a(){return b("FbtraceForcedByServer").forced}Object.assign(h.prototype,b("SamplingPolicyBase").prototype,{decideIfSampled:a});e.exports=h}),null);
__d("guardFunction",[],(function(a,b,c,d,e,f){function a(a,b,c){return function(){a.apply(c||this,arguments)&&b.apply(c||this,arguments)}}e.exports=a}),null);
__d("Fbtrace",["Arbiter","ArtilleryTraceIDUtils","BanzaiScribe","FbtraceForcedByServer","FbtraceForcedByServerPolicy","SiteData","guardFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function g(){Object.assign(this,g)}Object.assign(g,{isOn:function(){return!1},replySend:function(a,b){},requestSend:function(a,b,c){l(a,b);return{metadata:function(){return undefined},replyReceive:function(a){}}}});var h=new g();function i(a,c,d){__p&&__p();if(!a)throw{name:"ArgumentError",message:"no valid service name specified"};if(!c)throw{name:"ArgumentError",message:"no valid version specified"};var e=b("BanzaiScribe"),f=0,g=b("ArtilleryTraceIDUtils").newTraceId(),h=b("ArtilleryTraceIDUtils").newObjectId(),j=b("ArtilleryTraceIDUtils").traceIdToBucket(g),k={service:a,version:c},m=function a(b){if(typeof b==="undefined")return"undefined";typeof b!=="string"&&(b=a(JSON.stringify(b)));return b},n=function(a){var b="";for(var c in a)b.length>0&&(b+="\x02"),b+=m(c)+"\x03"+m(a[c]);return b},o=function(c,b,event,a,d){f++;return[d,f,g,c,b,m(event),n(a)].join("\x01")},p=function(c,b,event,a,d){!d&&typeof d==="undefined"&&(d=Date.now()*1e3);c=o(c,b,event,a,d);e.log("fbtrace",c,j)},q=function(){return h};p(b("ArtilleryTraceIDUtils").getDummyId(),h,"#rqrecv",Object.assign(d||{},k));Object.assign(this,i,{replySend:function(c,a){a=babelHelpers["extends"]({},a,k,{success:c?"true":"false"}),p(b("ArtilleryTraceIDUtils").getDummyId(),h,"#rpsend",a)},requestSend:function(d,e,a){l(d,e);var f=q(),c=b("ArtilleryTraceIDUtils").newObjectId();a=babelHelpers["extends"]({},a,k,{op:d,"remote:service":e});p(f,c,"#rqsend",a);return{metadata:function(){return g+c},replyReceive:function(a){p(f,c,"#rprecv",Object.assign(a||{},k))},parentNode:this}}})}Object.assign(i,{isOn:function(){return!0}});function j(){return h}function k(a,c,d){d=d||{};d.init=!0;var e=b("FbtraceForcedByServerPolicy").get();if(e.isSampled())return new i(a,c,d);else return new g()}function l(a,b){if(!a)throw{name:"ArgumentError",message:"no valid operation specified"};if(!b)throw{name:"ArgumentError",message:"no valid remote:service specified"}}function a(a,b){var c=h,d=void 0;h=a;try{d=b()}finally{h=c}return d}c=function(a,c){__p&&__p();a=j();c=c.request;var d=!1;!a.isOn()&&b("FbtraceForcedByServer").forced&&/\/upload\/(?:composer|photos)\/|\/ajax\/composerx\/attachment\/media\//.test(c.uri.toString())&&(a=k("photo_upload_kludge",String(b("SiteData").client_revision||"dev"),{policy:"PhotoUpload"}),d=!0);if(a.isOn()){d=d?{policy:"PhotoUpload"}:{};c.userActionId&&(d.user_action_id=c.userActionId);a=a.requestSend(c.uri.toString(),"www",d);c.fbtraceRemoteNode=a;c.transport.setRequestHeader("X-Fbtrace-Meta",a.metadata())}};d=function(a,b){b.request.fbtraceRemoteNode.replyReceive({is_last:b.response.is_last,success:!0}),setTimeout(function(){b.request.fbtraceRemoteNode.parentNode.replySend(!0,{})},0)};f=function(a,b){b.request.fbtraceRemoteNode.replyReceive({is_last:b.response.is_last,success:!1,error_code:b.response.error,error_summary:b.response.errorSummary,error_description:b.response.errorDescription}),setTimeout(function(){b.request.fbtraceRemoteNode.parentNode.replySend(!1,{})},0)};var m=function(a,b){return b.request.fbtraceRemoteNode};b("Arbiter").subscribe("AsyncRequest/will_send",c);b("Arbiter").subscribe("AsyncRequest/response",b("guardFunction")(m,d));b("Arbiter").subscribe("AsyncRequest/error",b("guardFunction")(m,f));e.exports={defaultNode:j,requestReceive:k,withDefaultNode:a}}),null);
__d("RTWebClientFeatureGating",["gkx"],(function(a,b,c,d,e,f){"use strict";a={shouldUseRealMultiwayAppID:function(){return b("gkx")("AT6iNStHonlQ3Fxd6uDFsCdh9nK1aEQGITRpY8VW6YV7oDxq_dR3HvFer90h-mdnCx3qFFu4PhZAPIrHV8gyw531")}};e.exports=a}),null);
__d("RTCAppData",["FacebookAppIDs","RTWebClientFeatureGating","URI","WorkplaceChatHelper","isBonfireURI","isFacebookURI","isMessengerDotComURI"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={getAppID:function(){return b("WorkplaceChatHelper").isDesktopChatApp()?b("WorkplaceChatHelper").getAppID()||b("FacebookAppIDs").WORKPLACE_DESKTOP:b("FacebookAppIDs").WWW},getChannelManagerAppName:function(){switch(g.getMWAppID()){case b("FacebookAppIDs").MESSENGERDOTCOM.toString():return"messenger_dot_com";case b("FacebookAppIDs").WWW.toString():return"www";case b("FacebookAppIDs").BONFIRE_FOR_WWW.toString():return"bonfire_for_www";default:return"desktop"}},getMWAppID:function(){__p&&__p();if(!b("RTWebClientFeatureGating").shouldUseRealMultiwayAppID())return b("FacebookAppIDs").CHATPROXY_WEB.toString();var a=new(b("URI"))(window.location.href),c=new(b("URI"))(window.location.href).domain;if(!c)return b("FacebookAppIDs").CHATPROXY_WEB.toString();if(b("isFacebookURI")(a)&&(c.startsWith("www")||c.startsWith("m")))return b("FacebookAppIDs").WWW.toString();else if(b("isBonfireURI")(a))return b("FacebookAppIDs").BONFIRE_FOR_WWW.toString();else if(b("isMessengerDotComURI")(a))return b("FacebookAppIDs").MESSENGERDOTCOM.toString();else return b("FacebookAppIDs").CHATPROXY_WEB.toString()}};e.exports=g}),null);
__d("XCollabCallSendMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/collab/sendmessage/",{recipient_id:{type:"Int",required:!0},msg_id:{type:"Int",required:!0},message_info:{type:"String",required:!0},webrtc_fbtrace:{type:"Int"}})}),null);
__d("XVideoCallSendMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videocall/sendmessage/",{recipient_id:{type:"Int",required:!0},msg_id:{type:"Int",required:!0},message_info:{type:"String",required:!0},webrtc_fbtrace:{type:"Int"}})}),null);
__d("FBRTCMessageSender",["errorCode","CurrentUser","FBRTCConfig","FBRTCConstants","FBRTCLocalUploadLogLevel","FBRTCLogger","FBRTCSupport","FBRTCUtils","Fbtrace","RTCAppData","SiteData","XCollabCallSendMessageController","XVideoCallSendMessageController"],(function(a,b,c,d,e,f,g){__p&&__p();var h=0;function a(){"use strict";this.onSendFailure=null,this.$1=b("FBRTCLogger").getInstance()}a.prototype.sendOffer=function(a,c,d,e,f,g){"use strict";return this.$2(b("FBRTCConstants").PayloadType.OFFER,a,c,d,e,f,null,g)};a.prototype.sendAnswer=function(a,c,d,e,f,g){"use strict";return this.$2(b("FBRTCConstants").PayloadType.ANSWER,a,c,d,e,f,g)};a.prototype.sendPCRestartOffer=function(a,c,d,e,f){"use strict";return this.$2(b("FBRTCConstants").PayloadType.PCRESTART_OFFER,a,c,d,e,f)};a.prototype.sendSdpUpdate=function(a,c,d,e,f){"use strict";return this.$2(b("FBRTCConstants").PayloadType.SDP_UPDATE,a,c,d,e,f)};a.prototype.resendSdpMessage=function(a,b){"use strict";b.flag=1,this.$3(a,b)};a.prototype.resendPayload=function(a,b){"use strict";b.flag=1,this.$4(a,b)};a.prototype.$2=function(a,c,d,e,f,g,h,i){"use strict";__p&&__p();d=this.$5(d,a);d.sdp=e;a===b("FBRTCConstants").PayloadType.OFFER&&(d.browser_supports_escalation=b("FBRTCSupport").isGroupCallWebtrcSupported(),d.handlescollision=!0,d.pranswer=!1,i&&(d.call_trigger=i));a===b("FBRTCConstants").PayloadType.ANSWER&&h&&(d.escalation_conference_name=h.escalationConferenceName,d.negotiated_escalation_support=h.negotiatedEscalationSupport);(a===b("FBRTCConstants").PayloadType.OFFER||a===b("FBRTCConstants").PayloadType.ANSWER)&&(d.icerestart=!1,d.experiments=b("FBRTCConfig").supportedSignalingExperiments());d.videoon=f;d.attributes=g;d.ull=b("FBRTCConstants").convertFromUploadLogLevel(b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel());this.$3(c,d);return d};a.prototype.sendIceCandidate=function(a,c,d){"use strict";c=this.$5(c,b("FBRTCConstants").PayloadType.ICE_CANDIDATE);c.sdp_mid=d.sdpMid;c.label=d.sdpMLineIndex;c.sdp=d.candidate;this.$4(a,c)};a.prototype.sendHangup=function(a,c,d,e,f){"use strict";c=this.$5(c,b("FBRTCConstants").PayloadType.HANGUP);c.reason=b("FBRTCConstants").callEndReasonString(d);c.subreason=f||"";this.$4(a,c,e,!0)};a.prototype.sendOtherDismiss=function(a){"use strict";a=this.$5(a,b("FBRTCConstants").PayloadType.OTHER_DISMISS);this.$4(b("CurrentUser").getID(),a)};a.prototype.sendOfferAck=function(a,c,d){var e=arguments.length<=3||arguments[3]===undefined?new Map():arguments[3];this.$6(a,c,d,b("FBRTCConstants").PayloadType.OFFER_ACK,e)};a.prototype.sendOfferNack=function(a,c,d){"use strict";this.$6(a,c,d,b("FBRTCConstants").PayloadType.OFFER_NACK,new Map([["error_code",1356043]]))};a.prototype.sendAnswerAck=function(a,c,d){"use strict";this.$6(a,c,d,b("FBRTCConstants").PayloadType.ANSWER_ACK)};a.prototype.sendAck=function(a,c,d){"use strict";this.$6(a,c,d,b("FBRTCConstants").PayloadType.ACK,new Map([["ack_type",d.type]]))};a.prototype.sendMuteStateUpdate=function(a,c,d){"use strict";c=this.$5(c,b("FBRTCConstants").PayloadType.SET_VIDEO);c.videoon=d;this.$4(a,c)};a.prototype.sendVideoEscalationRequest=function(a,b,c){"use strict";return this.sendVideoRequestResponse(a,b,0,c)};a.prototype.sendVideoRequestResponse=function(a,c,d,e){"use strict";c=this.$5(c,b("FBRTCConstants").PayloadType.VIDEO_REQUEST);c.ack_id=d;c.videoon=e;c.capability=b("FBRTCSupport").getCapabilities();this.$4(a,c);return c};a.prototype.sendMsgAck=function(){"use strict"};a.prototype.sendOk=function(){"use strict"};a.prototype.sendPranswer=function(){"use strict"};a.prototype.sendIcerestartAnswer=function(){"use strict"};a.prototype.$5=function(a,c){"use strict";var d=b("FBRTCUtils").generateRandomInt();a={version:h,type:c,call_id:a,msg_id:d};this.$7(c)&&(a.supports_video_interop=!0);return a};a.prototype.$7=function(a){"use strict";return a===b("FBRTCConstants").PayloadType.OFFER||a===b("FBRTCConstants").PayloadType.ANSWER||a===b("FBRTCConstants").PayloadType.PRANSWER||a===b("FBRTCConstants").PayloadType.ICERESTART_OFFER||a===b("FBRTCConstants").PayloadType.ICERESTART_ANSWER||a===b("FBRTCConstants").PayloadType.PCRESTART_OFFER||a===b("FBRTCConstants").PayloadType.PCRESTART_ANSWER||a===b("FBRTCConstants").PayloadType.SDP_UPDATE||a===b("FBRTCConstants").PayloadType.SET_VIDEO||a===b("FBRTCConstants").PayloadType.VIDEO_REQUEST};a.prototype.$3=function(a,b){"use strict";this.$4(a,b,!1,!0,!0)};a.prototype.$6=function(a,c,d,e){"use strict";var f=(arguments.length<=4?undefined:arguments[4])||new Map(),g=this.$5(c,e);g.ack_id=d.msg_id;d.flag===1&&(g.flag=1);g.ull=b("FBRTCConstants").convertFromUploadLogLevel(b("FBRTCLocalUploadLogLevel").getLocalUploadLogLevel());f.forEach(function(a,b,c){g[b]=a});this.$4(a,g)};a.prototype.$4=function(a,c,d,e,f){"use strict";__p&&__p();var g=c.msg_id,h={peer_id:a,call_id:c.call_id,msg_id:g,msg_type:c.type},i={call_id:c.call_id,msg_id:g,user_id:b("CurrentUser").getID(),recipient_id:a,msg_type:c.type,app_id:b("RTCAppData").getAppID(),app_version:String(b("SiteData").client_revision||"dev"),op:"sendServerRequest:"+c.type,policy:"WebRTC"};i=b("Fbtrace").requestReceive("browser",String(b("SiteData").client_revision||"dev"),i);var j=(b("FBRTCUtils").isPeerVCEndpoint(a)?b("XCollabCallSendMessageController"):b("XVideoCallSendMessageController")).getURIBuilder().setInt("recipient_id",a).setInt("msg_id",g).setString("message_info",JSON.stringify(c)).setInt("webrtc_fbtrace",i.isOn()?1:0).getURI();g=null;e&&(g=this.$4.bind(this,a,c,d,!1,f));var k=this.$8.bind(this,h),l=this.$9.bind(this,h,g,f);b("Fbtrace").withDefaultNode(i,function(){b("FBRTCUtils").sendServerRequest(j,k,l,d)});this.onMessageSent&&this.onMessageSent(a,c);this.$1.logSentMessage(a,c.call_id,c)};a.prototype.$8=function(a){"use strict";this.$1.logSentMessageSuccess(a.peer_id,a.call_id,a.msg_type,a.msg_id)};a.prototype.$9=function(a,c,d,e){"use strict";__p&&__p();var f="UNKNOWN_ERROR";e&&(f=e.getError?e.getError():e);this.$1.logSentMessageFailure(a.peer_id,a.call_id,a.msg_type,a.msg_id,f);e=null;f===1356001||f===1356049?e=b("FBRTCConstants").CallEndReason.NO_PERMISSION:f===1356046||f===1356045?e=b("FBRTCConstants").CallEndReason.CALLER_NOT_VISIBLE:(f===1356003||f===1356002||f===1356044)&&(e=b("FBRTCConstants").CallEndReason.OTHER_NOT_CAPABLE);if(!e&&c){c();return}d&&this.onSendFailure&&(e||(e=b("FBRTCConstants").CallEndReason.SIGNALING_MESSAGE_FAILED),this.onSendFailure(e,f,a.msg_type))};e.exports=a}),null);
__d("FBRTCPCConfig",["FBRTCConfig","FBRTCVersionDetection"],(function(a,b,c,d,e,f){__p&&__p();var g="stun:stun.fbsbx.com:3478";function h(a,c,d){if(b("FBRTCVersionDetection").isChrome()&&b("FBRTCVersionDetection").webrtcVersion()>=34){var e={urls:a};c!==undefined&&d!==undefined&&(e.username=c,e.credential=d);return[e]}e=[];for(var f=0;f<a.length;f++)c!==undefined&&d!==undefined?e.push({url:a[f],username:c,credential:d}):e.push({url:a[f]});return e}function a(){"use strict";this.sslPort="",this.tcpPort="",this.turnIP="",this.turnPassword="",this.turnUsername="",this.udpPort=""}a.prototype.setTurnCredentials=function(a){"use strict";this.turnIP=a.ip,this.udpPort=a.udp_port,this.tcpPort=a.tcp_port,this.sslPort=a.ssl_tcp_port,this.turnUsername=a.username,this.turnPassword=a.password};a.prototype.getConfig=function(){"use strict";if(b("FBRTCConfig").isVCEndpointCall())return{iceServers:[]};var a=h([g]).concat(h(this.$1(),this.turnUsername,this.turnPassword));return{iceServers:a}};a.prototype.getConstraints=function(){var a=arguments.length<=0||arguments[0]===undefined?!1:arguments[0],c=!0;b("FBRTCVersionDetection").isChromium()&&b("FBRTCVersionDetection").webrtcVersion()<57&&a&&(c=!1);return{mandatory:{},optional:[{DtlsSrtpKeyAgreement:c},{googHighBitrate:!0},{googVeryHighBitrate:!0}]}};a.prototype.$1=function(){"use strict";if(b("FBRTCVersionDetection").isFirefox()&&b("FBRTCVersionDetection").webrtcVersion()<27)return["turn:"+this.turnIP+":"+this.udpPort];else return["turn:"+this.turnIP+":"+this.udpPort+"?transport=udp","turn:"+this.turnIP+":"+this.tcpPort+"?transport=tcp","turn:"+this.turnIP+":"+this.sslPort+"?transport=tcp"]};e.exports=new a()}),null);
__d("FBRTCRetriableMessage",["FBRTCConstants","mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g=1e4,h=7e3,i=1;function a(a){"use strict";this.$1=a,this.$2=g,this.$3=i,this.$4=null,this.$5=null,this.$6=null}a.prototype.sendMessage=function(a,c,d,e,f,g,i,j){"use strict";__p&&__p();this.$4=c;switch(a){case b("FBRTCConstants").PayloadType.PCRESTART_OFFER:this.$5=this.$1.sendPCRestartOffer(c,d,e,f,g);break;case b("FBRTCConstants").PayloadType.OFFER:this.$5=this.$1.sendOffer(c,d,e,f,g,j);break;case b("FBRTCConstants").PayloadType.ANSWER:this.$2=h;this.$5=this.$1.sendAnswer(c,d,e,f,g,i);break}this.$7()};a.prototype.isAckMsg=function(a){"use strict";return this.$5&&this.$5.msg_id===a.ack_id};a.prototype.stopRetrying=function(){"use strict";this.$6&&(clearTimeout(this.$6),this.$4=null,this.$5=null,this.$6=null)};a.prototype.$7=function(){"use strict";this.$6=setTimeout(this.$8.bind(this),this.$2)};a.prototype.$8=function(){"use strict";this.$3<1?this.emit("timeoutFailure"):(this.emit("sendingRetry"),this.$1.resendSdpMessage(this.$4,this.$5),this.$7(),this.$3-=1)};b("mixInEventEmitter")(a,{sendingRetry:!0,timeoutFailure:!0});e.exports=a}),null);
__d("FBRTCStreamWrapper",["FBRTCUtils","mixInEventEmitter"],(function(a,b,c,d,e,f){__p&&__p();var g=100,h=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,i=void 0;function j(){"use strict";this.$1=!0,this.$2=!0,this.$3=null,this.$4=null,this.aspectRatio=j.aspectRatios.other,this.videoWidth=0,this.videoHeight=0}j.prototype.setStream=function(a){var b=arguments.length<=1||arguments[1]===undefined?!0:arguments[1],c=this.hasStream();this.stop();this.$3=a;this.$5();this.$6();b&&(this.$3.onaddtrack=this.$7.bind(this),this.$3.onremovetrack=this.$7.bind(this),this.$3.onended=this.$8.bind(this),c&&this.emit("tracksChanged"))};j.prototype.getStreamId=function(){"use strict";return this.$3&&this.$3.id};j.prototype.getStream=function(){"use strict";return this.$3};j.prototype.hasStream=function(){"use strict";return!!this.$3};j.prototype.stop=function(){"use strict";this.$3&&(j.stopStream(this.$3),this.$3=null)};j.prototype.hasVideoTracks=function(){"use strict";return this.$3&&this.$3.getVideoTracks?this.$3.getVideoTracks().length>0:!0};j.prototype.hasVideo=function(){"use strict";return this.$2&&this.hasVideoTracks()};j.prototype.hasAudioTracks=function(){"use strict";return this.$3&&this.$3.getAudioTracks?this.$3.getAudioTracks().length>0:!0};j.prototype.hasAudio=function(){"use strict";return this.$1&&this.hasAudioTracks()};j.prototype.attachToVideoTag=function(a){"use strict";this.$3&&(this.$4=a,b("FBRTCUtils").attachMediaStream(a,this.$3),this.$9(a))};j.prototype.getAudioAnalyser=function(){"use strict";if(this.$3){var a=this.$10(),b=a.createMediaStreamSource(this.$3);a=a.createAnalyser();a.fftSize=2048;b.connect(a);return a}};j.prototype.$10=function(){"use strict";i||(i=new h());return i};j.prototype.toggleMuteAudio=function(){"use strict";if(!this.hasAudioTracks())return;this.$1=!this.$1;this.$5()};j.prototype.$5=function(){"use strict";if(this.$3){var a=this.$3.getAudioTracks();for(var b=0;b<a.length;b++)a[b].enabled=this.$1}};j.prototype.toggleMuteVideo=function(){"use strict";this.$2=!this.$2,this.$2?this.$6():setTimeout(this.$6.bind(this),500),this.$7()};j.prototype.$6=function(){"use strict";if(this.$3){var a=this.$3.getVideoTracks();for(var b=0;b<a.length;b++)a[b].enabled=this.$2}};j.prototype.setVideoEnabled=function(a){"use strict";this.$2=a,this.$6(),this.$7()};j.prototype.$9=function(a){"use strict";!this.hasVideo()||a.currentTime>0?this.$11(a):setTimeout(this.$9.bind(this,a),g)};j.prototype.$12=function(a){"use strict";this.videoWidth=a.videoWidth;this.videoHeight=a.videoHeight;a=a.videoWidth/a.videoHeight;if(b("FBRTCUtils").aboutEqual(a,16/9))return j.aspectRatios["16:9"];return b("FBRTCUtils").aboutEqual(a,4/3)?j.aspectRatios["4:3"]:j.aspectRatios.other};j.prototype.$11=function(a){"use strict";this.hasVideo()?this.aspectRatio=this.$12(a):this.aspectRatio=j.aspectRatios.other,this.emit("streamStarted")};j.prototype.$8=function(){"use strict";this.emit("streamEnded")};j.prototype.$7=function(event){"use strict";this.$13(event)&&this.attachToVideoTag(this.$4),this.emit("tracksChanged")};j.prototype.$13=function(a){"use strict";return this.$4&&a&&a.type==="addtrack"&&a.track.kind==="video"};j.aspectRatios={"16:9":1,"4:3":2,other:3};b("mixInEventEmitter")(j,{streamStarted:!0,streamEnded:!0,tracksChanged:!0});j.stopStream=function(a){"active"in a?a.active&&a.getTracks().forEach(function(a){a.stop()}):"stop"in a&&a.stop()};e.exports=j}),null);
__d("XVideoCallTurnDiscoveryController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videocall/turndiscovery/",{version:{type:"Int",required:!0}})}),null);
__d("FBRTCTurnDiscovery",["Promise","FBRTCLogger","FBRTCUtils","XVideoCallTurnDiscoveryController"],(function(a,b,c,d,e,f){__p&&__p();var g=3,h=null;a={requestTurnCreds:function(a,c){__p&&__p();var d=arguments.length<=2||arguments[2]===undefined?g:arguments[2];if(h)return h;var e=1,f=b("XVideoCallTurnDiscoveryController").getURIBuilder().setInt("version",e).getURI();h=new(b("Promise"))(function(e,g){h(d);function h(d){b("FBRTCUtils").sendServerRequest(f,function(a){a=a.payload;return e(a)},function(){d>0?(b("FBRTCLogger").getInstance().logError(c,a,"Failed turn; going to retry"),h(d-1)):g(new Error("failed"))})}});return h}};e.exports=a}),null);
__d("XGroupCallController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groupcall/{?call_context}/",{call_context:{type:"String",required:!0},call_id:{type:"Int"},users_to_ring:{type:"FBIDSet",defaultValue:[]},has_video:{type:"Bool",defaultValue:!0},server_info_data:{type:"String"},nonce:{type:"String"}})}),null);
__d("XGroupCallSigningController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/groupcall/init/",{call_context:{type:"String",required:!0},call_id:{type:"Int"},users_to_ring:{type:"FBIDSet",defaultValue:[]},has_video:{type:"Bool",defaultValue:!1},server_info_data:{type:"String"},nonce:{type:"String"}})}),null);
__d("XVideoCallController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videocall/incall/",{peer_id:{type:"FBID",required:!0},call_id:{type:"Int"},is_caller:{type:"Bool",defaultValue:!1},audio_only:{type:"Bool",defaultValue:!1},nonce:{type:"String"}})}),null);
__d("XWirelessScreenSharingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/screen_sharing/{?session_id}/",{nonce:{type:"String"},peer_id:{type:"FBID",required:!0},session_id:{type:"Int"}})}),null);
__d("FBRTCUrlManager",["regeneratorRuntime","Promise","CurrentUser","FBRTCConfig","FBRTCLogger","FBRTCUtils","MessengerRTCFunnelLogger","URI","XGroupCallController","XGroupCallSigningController","XVideoCallController","XWirelessScreenSharingController"],(function(a,b,c,d,e,f){__p&&__p();var g=3,h=function(a,c,d,e){b("FBRTCLogger").getInstance().logCallAction(a,c,b("FBRTCLogger").CallAction.OLD_URI);return b("XVideoCallController").getURIBuilder().setFBID("peer_id",a).setInt("call_id",c).setBool("is_caller",d).setBool("audio_only",e).getURI()};function i(a){if(b("CurrentUser").isEmployee()){a=a.setSubdomain(b("CurrentUser").hasWorkUser()||b("CurrentUser").isWorkUser()?"fb":"www");var c="/intern/";return b("URI").getRequestURI().getPath().substr(0,c.length)!==c?a:a.setDomain(a.getDomain().toString().replace(/\.(intern|internmc|cstools)\./,"."))}return a}function j(a){__p&&__p();var c=a.callContext,d=a.callID,e=a.usersToRing,f=a.hasVideo,g=a.nonce,h=a.serverInfoData,i;return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:i=b("XGroupCallSigningController").getURIBuilder().setString("call_context",c).setInt("call_id",d).setFBIDSet("users_to_ring",e).setBool("has_video",f).setString("server_info_data",h).setString("nonce",g).getURI();return a.abrupt("return",new(b("Promise"))(function(a,c){b("FBRTCUtils").sendServerRequest(i,function(c){b("MessengerRTCFunnelLogger").appendAction("got_server_call_uri"),a(c.payload.uri)},function(a){c(a)})}));case 2:case"end":return a.stop()}},null,this)}(function a(c,d,e,f,h,i,j){(j===undefined||j===null)&&(j=g);var k=b("XGroupCallSigningController").getURIBuilder().setFBID("call_id",c).setBool("is_caller",e).setBool("audio_only",f).setFBIDSet("users_to_ring",d).getURI();b("FBRTCUtils").sendServerRequest(k,function(a){h(a.payload.uri)},function(g){if(j>0)a(c,d,e,f,h,i,j-1);else{g=b("XGroupCallController").getURIBuilder().setFBID("call_id",c).setBool("is_caller",e).setBool("audio_only",f).setFBIDSet("users_to_ring",d).getURI();h(g)}})});var k=function(a){if(b("FBRTCConfig").disableURLManager())return;window.history.replaceState({},"",a)};a={init:function(a){this._peerID=a},onCallStarted:function(){k(h(this._peerID))},getGroupCallUri:function(a,c,d,e,f,g){__p&&__p();var h;return b("regeneratorRuntime").async(function(i){__p&&__p();while(1)switch(i.prev=i.next){case 0:h=0;case 1:if(!(h<3)){i.next=14;break}i.prev=2;i.next=5;return b("regeneratorRuntime").awrap(j({callContext:a,callID:c,usersToRing:d,hasVideo:e,nonce:f,serverInfoData:g}));case 5:return i.abrupt("return",i.sent);case 8:i.prev=8,i.t0=i["catch"](2),b("FBRTCLogger").getInstance().logToConsole(i.t0);case 11:h++;i.next=1;break;case 14:b("MessengerRTCFunnelLogger").appendAction("use_local_call_uri");return i.abrupt("return",b("XGroupCallController").getURIBuilder().setString("call_context",a).setInt("call_id",c).setFBIDSet("users_to_ring",d).setBool("has_video",e).setString("server_info_data",g).setString("nonce",f).getURI());case 16:case"end":return i.stop()}},null,this,[[2,8]])},getNonceUri:function(a,c,d,e,f){var g=arguments.length<=5||arguments[5]===undefined?"":arguments[5],h=b("XVideoCallController").getURIBuilder().setFBID("peer_id",a).setInt("call_id",c).setBool("is_caller",d).setBool("audio_only",e).setString("nonce",f).getURI();return b("FBRTCUtils").isPeerVCEndpoint(a)||b("FBRTCUtils").isCollabTrigger(g)?i(h):h},getWirelessScreenSharingUri:function(a,c,d){c=b("XWirelessScreenSharingController").getURIBuilder().setFBID("peer_id",c).setInt("session_id",d).setString("nonce",a).getURI();return i(c)}};e.exports=a}),null);
__d("FBRTCUserSettings",["Promise","FBRTCConfig","RTCMediaDevices","mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={audioInput:"",audioOutput:"default",videoInput:"",remoteStream:null,_audioInputLabel:null,_videoInputLabel:null,isEnabled:function(){return Boolean(b("RTCMediaDevices").isSupported("enumerateDevices")&&b("FBRTCConfig").settingsEnabled())},selectAudioInputByLabel:function(a){this.audioInput||(this.audioInput=this._selectByLabel(a,this._audioInputLabel));return this.audioInput},selectVideoInputByLabel:function(a){this.videoInput||(this.videoInput=this._selectByLabel(a,this._videoInputLabel));return this.videoInput},_selectByLabel:function(a,b){__p&&__p();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;if(b&&b===e.label)return e.deviceId}return null},previewStart:function(){this.emit("previewStarted")},previewEnd:function(){this.emit("previewEnded")},save:function(a){var c=a.audioInput,d=a.audioOutput,e=a.videoInput;return new(b("Promise"))(function(a){var b=!!(c&&this.audioInput!==c||e&&this.videoInput!==e);this.audioInput=c;this.audioOutput=d;this.videoInput=e;this.emit("saved",b);a(b)}.bind(this))},updateForLocalStream:function(a){__p&&__p();if(a.videoMediaSourceId)this.videoInput=a.videoMediaSourceId;else{var b=a.getVideoTracks();b=b[0];b&&(this._videoInputLabel=b.label)}if(a.audioMediaSourceId)this.audioInput=a.audioMediaSourceId;else{b=a.getAudioTracks();a=b[0];a&&(this._audioInputLabel=a.label)}},updateForRemoteStream:function(a){this.remoteStream=a,this.emit("remoteStreamChanged")},addListener:function(){},emit:function(){}};b("mixInEventEmitter")(a,{previewStarted:!0,previewEnded:!0,remoteStreamChanged:!0,saved:!0});e.exports=a}),null);
__d("FBRTCCallControlPopover.react",["fbt","LayerFadeOnHide","LayerFadeOnShow","React","XUIContextualDialog.react","XUIContextualDialogBody.react","XUIContextualDialogTitle.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;var i=Object.freeze({NONE:0,REMOTE_VIDEO_UNSUPPORTED:1,NO_VIDEO_TRACKS:2,VIDEO_AUTO_DISABLED:3,SCREENSHARING_UNAVAILABLE:4,PEER_IS_SHARING_SCREEN:5,IS_AUDIO_CALL:6});h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){var a=this.$1();return a?b("React").createElement(b("XUIContextualDialog.react"),babelHelpers["extends"]({label:g._("Video Error Status")},this.$2()),a,this.$3()):b("React").createElement(b("XUIContextualDialog.react"),babelHelpers["extends"]({label:g._("Video Error Status")},this.$2()),this.$3())};a.prototype.$1=function(){return this.props.reason===i.NO_VIDEO_TRACKS?b("React").createElement(b("XUIContextualDialogTitle.react"),{className:this.props.className},g._("Can't find camera")):null};a.prototype.$3=function(){__p&&__p();var a=null;switch(this.props.reason){case i.NONE:break;case i.REMOTE_VIDEO_UNSUPPORTED:a=g._("Video is disabled for this call because {name}'s device does not support video.",[g._param("name",this.props.peerName)]);break;case i.NO_VIDEO_TRACKS:a=g._("Connect your camera and refresh the page to turn on video. If your camera is already connected, try restarting your browser.");break;case i.VIDEO_AUTO_DISABLED:a=g._("Video is paused because the connection is slow.");break;case i.SCREENSHARING_UNAVAILABLE:a=this.props.isVCEndpointCall?g._("Screen sharing is not currently available for Messenger to room calls."):g._("Screen sharing is disabled for this call because {name}'s device does not support receiving screen sharing.",[g._param("name",this.props.peerName)]);break;case i.PEER_IS_SHARING_SCREEN:a=g._("{name} is already sharing their screen. You can share your screen as soon as they stop sharing.",[g._param("name",this.props.peerName)]);break;case i.IS_AUDIO_CALL:a=g._("Screen sharing is only available for video calls.");break}return b("React").createElement(b("XUIContextualDialogBody.react"),{className:this.props.className},a)};a.prototype.$2=function(){var a={alignment:"left",behaviors:{LayerFadeOnHide:b("LayerFadeOnHide"),LayerFadeOnShow:b("LayerFadeOnShow")},contextRef:function(){return this.props.reference}.bind(this),hideOnBlur:this.props.hideOnBlur,hoverContextRef:function(){return this.props.reference}.bind(this),position:"above",shown:!1,width:this.props.width};return a};function a(){h.apply(this,arguments)}a.Types=i;a.propTypes={reason:c.number.isRequired,peerName:c.string.isRequired,isVCEndpointCall:c.bool,reference:c.object.isRequired,width:c.number.isRequired};e.exports=a}),null);
__d("FBRTCCallTimer.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("React").PureComponent;d=babelHelpers.inherits(a,c);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={secondsElapsed:Math.floor(Date.now()/1e3)-this.props.start},this.$2=function(){this.setState({secondsElapsed:Math.floor(Date.now()/1e3)-this.props.start})}.bind(this),b}a.prototype.componentDidMount=function(){this.$1=setInterval(this.$2,1e3)};a.prototype.componentWillUnmount=function(){clearInterval(this.$1)};a.prototype.render=function(){var a=this.state.secondsElapsed;return b("React").createElement("span",null,a>=3600?("0"+Math.floor(a/3600)).slice(-2)+":":"",("0"+Math.floor(a%3600/60)).slice(-2),":",("0"+a%60).slice(-2))};e.exports=a}),null);
__d("FBRTCVideo.react",["cx","FBRTCStreamWrapper","FBRTCUtils","React","ReactDOM","joinClasses","shallowEqual"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;d=b("React").Component;f=babelHelpers.inherits(a,d);h=f&&f.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={currentStream:null},this.streamListener=null,b}a.prototype.UNSAFE_componentWillReceiveProps=function(a){a=a.stream;a!==this.props.stream&&(this.streamListener&&this.streamListener.remove(),this.streamListener=a?a.addListener("streamStarted",function(){return this.$1()}.bind(this)):null)};a.prototype.shouldComponentUpdate=function(a){return!b("shallowEqual")(this.props,a)||this.$2(a)};a.prototype.$2=function(a){a=a.stream;a=a?a.getStream():null;return a!==this.state.currentStream};a.prototype.render=function(){return b("React").createElement("video",{autoPlay:!0,className:b("joinClasses")(this.props.className,"_1yvx"),"data-testid":this.props["data-testid"],muted:this.props.muted,onContextMenu:function(a){return a.preventDefault()},onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onTouchEnd:this.props.onTouchEnd,onTouchMove:this.props.onTouchMove,onTouchStart:this.props.onTouchStart})};a.prototype.componentDidMount=function(){this.$3(),this.$1()};a.prototype.componentDidUpdate=function(a){(this.$2(a)||a.mediaStream!==this.props.mediaStream)&&this.$3(),a.audioSinkID!==this.props.audioSinkID&&this.$1()};a.prototype.$3=function(){var a=this.props,c=a.stream;a=a.mediaStream;var d=b("ReactDOM").findDOMNode(this);d&&(c?(c.attachToVideoTag(d),this.setState({currentStream:c.getStream()})):a&&b("FBRTCUtils").attachMediaStream(d,a))};a.prototype.$1=function(){var a=this.props.audioSinkID,c=b("ReactDOM").findDOMNode(this);a&&c&&typeof c.setSinkId==="function"&&c.setSinkId(a)};a.defaultProps={muted:!1};a.propTypes={audioSinkID:c.string,className:c.string,mediaStream:c.any,muted:c.bool,stream:c.instanceOf(b("FBRTCStreamWrapper"))};e.exports=a}),null);
__d("RTCCallActions",["RTCAppDispatcher","RTCCallActionTypes","RTCGroupCallEscalationActionTypes","RTCUtils","emptyFunction","mixInEventEmitter"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={addListener:b("emptyFunction"),emit:b("emptyFunction"),initialize:function(a,c,d,e,f){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").INIT,conferenceName:c,callID:e,serverInfoData:d,protocol:a,callTrigger:f})},reset:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").RESET,conferenceName:a})},setCallSummary:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").SET_CALL_SUMMARY,callSummary:a})},call:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").CALL,usersToRing:a,peerConnection:c})},callSuccess:function(){var a=arguments.length<=0||arguments[0]===undefined?!1:arguments[0];b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").CALL_SUCCESS,connected:a})},incomingCallSuccess:function(){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").INCOMING_CALL_SUCCESS})},callError:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").CALL_ERROR,endCallReason:b("RTCUtils").endCallReasonFromResponseStatusCode(a),endCallSubreason:"Call error: "+(a||0)})},completeTransitionToMultiway:function(){b("RTCAppDispatcher").dispatch({type:b("RTCGroupCallEscalationActionTypes").GROUP_ESCALATION_CLEAR_P2P_CONNECTION})},hangupSuccess:function(){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").HANGUP_SUCCESS})},hangupError:function(){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").HANGUP_ERROR})},join:function(a){g.call([],a)},hangup:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").HANGUP,hangupReason:a,detailedReasonString:c,endCallReason:b("RTCUtils").endCallReasonFromHangupReason(a)})},initLocalUser:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").INIT_LOCAL_USER,localUser:a})},initRemoteUsers:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").INIT_REMOTE_USERS,remoteUsers:a})},addLocalStream:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").ADD_LOCAL_STREAM,stream:a})},setPreferredLocalStream:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").SET_PREFERRED_LOCAL_STREAM,stream:a})},removeLocalStream:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REMOVE_LOCAL_STREAM,stream:a})},replaceLocalStream:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REPLACE_LOCAL_STREAM,oldStream:a,newStream:c})},removeAllLocalStreams:function(){var a=arguments.length<=0||arguments[0]===undefined?!1:arguments[0];b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REMOVE_ALL_LOCAL_STREAMS,stopStreams:a})},removeAllLocalScreenStreams:function(){var a=arguments.length<=0||arguments[0]===undefined?!1:arguments[0];b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REMOVE_ALL_LOCAL_SCREEN_STREAMS,stopStreams:a})},addRemoteStream:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").ADD_REMOTE_STREAM,stream:a,userID:c})},setPreferredRemoteStream:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").SET_PREFERRED_REMOTE_STREAM,stream:a,userID:c})},removeRemoteStream:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REMOVE_REMOTE_STREAM,stream:a,userID:c})},removeAllRemoteStreams:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REMOVE_ALL_REMOTE_STREAMS,userID:a})},addRemoteTrack:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").ADD_REMOTE_TRACK,stream:a,track:c})},removeRemoteTrack:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REMOVE_REMOTE_TRACK,stream:a,track:c})},addLocalScreenStream:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").ADD_LOCAL_SCREEN_STREAM,stream:a})},removeLocalScreenStream:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REMOVE_LOCAL_SCREEN_STREAM,stream:a})},replaceLocalScreenStream:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REPLACE_LOCAL_SCREEN_STREAM,oldStream:a,newStream:c})},addRemoteScreenStream:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").ADD_REMOTE_SCREEN_STREAM,stream:a,userID:c})},removeRemoteScreenStream:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").REMOVE_REMOTE_SCREEN_STREAM,stream:a,userID:c})},endCall:function(a,c){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").END_CALL,endCallReason:a,endCallSubreason:c})},waitForUserInput:function(){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").WAIT_FOR_USER_INPUT})},toggleMuteAudio:function(a){b("RTCAppDispatcher").dispatch({type:a?b("RTCCallActionTypes").AUDIO_UNMUTED:b("RTCCallActionTypes").AUDIO_MUTED})},toggleMuteVideo:function(a){b("RTCAppDispatcher").dispatch({type:a?b("RTCCallActionTypes").VIDEO_UNMUTED:b("RTCCallActionTypes").VIDEO_MUTED})},toggleMuteRemoteVideo:function(a,c){b("RTCAppDispatcher").dispatch({type:a?b("RTCCallActionTypes").REMOTE_VIDEO_MUTED:b("RTCCallActionTypes").REMOTE_VIDEO_UNMUTED,userID:c})},toggleSelfView:function(a){b("RTCAppDispatcher").dispatch({type:a?b("RTCCallActionTypes").SELF_VIEW_COLLAPSED:b("RTCCallActionTypes").SELF_VIEW_UNCOLLAPSED})},submitRating:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").SUBMIT_RATING,rating:a})},submitFeedback:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").SUBMIT_FEEDBACK,feedback:a})},ratingShown:function(){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").RATING_SHOWN})},feedbackShown:function(){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").FEEDBACK_SHOWN})},setEndCallReason:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").SET_END_CALL_REASON,endCallReason:a})},setConferenceState:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").SET_CONFERENCE_STATE,conferenceState:a})},setFloorStatus:function(a){b("RTCAppDispatcher").dispatch({type:b("RTCCallActionTypes").FLOOR_STATUS,status:a})}};b("mixInEventEmitter")(g,{onIceConnectionStateChange:!0});e.exports=g}),null);
__d("RTCLogo.react",["cx","ix","Image.react","React","WorkModeConfig","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i={messenger:{color:h("28187"),mono:h("28188")},workplace:{color:h("28198"),mono:h("28199")}};a=function(a){var c=a.className,d=a.mode;d=d===undefined?"color":d;a=babelHelpers.objectWithoutProperties(a,["className","mode"]);var e=j();return b("React").createElement(b("Image.react"),babelHelpers["extends"]({alt:"",className:b("joinClasses")(c,"_4ytt"),src:i[e][d]},a))};function j(){return b("WorkModeConfig").is_work_user?"workplace":"messenger"}e.exports=a}),null);
__d("SUIMessengerRTCThemeConstants",["cssVar"],(function(a,b,c,d,e,f,g){"use strict";a={DARK_MAPPING:{buttonDefault:"#4a4a4a",buttonHover:"#373948",buttonActive:"#4a4a4a",buttonDisabled:"#20212C",buttonBorder:"#828282",buttonBorderDisabled:"#272834",buttonText:"#ffffff",buttonTextDisabled:"#4E5062",buttonPrimaryDefault:"#008FFF",buttonPrimaryHover:"#0077EC",buttonPrimaryActive:"#0060C5",buttonPrimaryDisabled:"#479EBA",buttonPrimaryBorder:"#008FFF",buttonPrimaryText:"#FFFFFF",buttonPrimaryTextDisabled:"#F5F7F9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#D9E0E7",glyphSecondary:"#A0A6B7",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#F9FAFB",rowTextDisabled:"#6E7285",textPrimary:"#CFD6E0",textSecondary:"#A0A6B7",textDisabled:"#6E7285",textInteractive:"#008FFF",textInverted:"#FFFFFF",textLabel:"#A0A6B7",textHighlightBackground:"#FFD34C",textDark:"#272834",washAccent:"#008FFF",washBorder:"#15151D",washEmpty:"#FFFFFF",washPrimary:"#20212C",washSecondary:"#272834",washTertiary:"#2F303E",washDark:"#15151D"},LIGHT_MAPPING:{buttonDefault:"#FFFFFF",buttonHover:"#EAEFF2",buttonActive:"#D9E0E7",buttonDisabled:"#F5F7F9",buttonBorder:"#828282",buttonBorderDisabled:"#D9E0E7",buttonText:"#272834",buttonTextDisabled:"#A0A6B7",buttonPrimaryDefault:"#008FFF",buttonPrimaryHover:"#0077EC",buttonPrimaryActive:"#0060C5",buttonPrimaryDisabled:"#6FC7FF",buttonPrimaryBorder:"#008FFF",buttonPrimaryText:"#FFFFFF",buttonPrimaryTextDisabled:"#F5F7F9",dropdownShadowMedium:"0 4px 8px 0 rgba(0,0,0,0.15)",glyphPrimary:"#272834",glyphSecondary:"#6E7285",rowBackgroundDefault:"#FFFFFF",rowBackgroundHover:"#0084ff",rowBackgroundActive:"#0084ff",rowBackgroundDisabled:"#373948",highlightedBackgroundColor:"#EBEDF0",rowBorder:"#FFFFFF",rowTextDefault:"#000000",rowTextHover:"#000000",rowTextActive:"#000000",rowTextSelected:"#F9FAFB",rowTextDisabled:"#6E7285",textPrimary:"#272834",textSecondary:"#6E7285",textDisabled:"#C1C8D6",textInteractive:"#008FFF",textInverted:"#FFFFFF",textLabel:"#272834",textHighlightBackground:"#FFD34C",textDark:"#272834",washAccent:"#008FFF",washBorder:"#D9E0E7",washEmpty:"#FFFFFF",washPrimary:"#F9FAFB",washSecondary:"#F5F7F9",washTertiary:"#F1F4F6",washDark:"#272834"}};e.exports=a}),null);
__d("messengerRTCCreateSUITheme",["ix","cssVar","Image.react","React","SUIBusinessThemeComponents","SUITheme","SUITypeStyle","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i=function(a){return new(b("SUITypeStyle"))(babelHelpers["extends"]({},a,{letterSpacing:undefined,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased"}))};function a(a,c){var d=i({color:a.textPrimary,fontFamily:"Helvetica Neue, Segoe UI, Helvetica, Arial, sans-serif",fontSize:"12px",fontWeight:"bold"}),e=b("React").createElement(b("Image.react"),{src:g("376185")}),f=b("React").createElement(b("Image.react"),{src:g("382797")});f=babelHelpers["extends"]({},b("SUIBusinessThemeComponents"),{SUIButton:{height:{normal:32,"short":28,tall:36},padding:{normal:{button:"12px",icon:"6px",onlyIcon:"8px"},"short":{button:"12px",icon:"6px",onlyIcon:"8px"},tall:{button:"12px",icon:"6px",onlyIcon:"8px"}},typeStyle:d,use:{confirm:{active:{background:a.buttonPrimaryActive,borderColor:a.buttonPrimaryActive,color:a.buttonPrimaryText},disabled:{background:a.buttonPrimaryDisabled,borderColor:a.buttonPrimaryDisabled,color:a.buttonPrimaryTextDisabled},hover:{background:a.buttonPrimaryHover,borderColor:a.buttonPrimaryHover,color:a.buttonPrimaryText},normal:{background:a.buttonPrimaryDefault,borderColor:a.buttonPrimaryDefault,color:a.buttonPrimaryText}},"default":{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},special:{active:{background:a.buttonActive,borderColor:a.buttonBorder,color:a.buttonText},disabled:{background:a.buttonDisabled,borderColor:a.buttonBorderDisabled,color:a.buttonTextDisabled},hover:{background:a.buttonHover,borderColor:a.buttonBorder,color:a.buttonText},normal:{background:a.buttonDefault,borderColor:a.buttonBorder,color:a.buttonText}},flat:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}},flatWhite:{active:{background:"transparent",borderColor:"transparent",color:a.buttonText},disabled:{background:"transparent",borderColor:"transparent",color:a.buttonTextDisabled},hover:{background:"transparent",borderColor:"transparent",color:a.buttonText},normal:{background:"transparent",borderColor:"transparent",color:a.buttonText}}}},SUISelector:{backgroundColor:a.washEmpty,borderColor:a.buttonBorder,boxShadow:a.dropdownShadowMedium},SUISelectorButton:{use:{"default":{chevron:f}},padding:"8px",paddingLeft:"8px",paddingRight:"4px"},SUISelectorOption:{activeBackgroundColor:a.rowBackgroundActive,activeColor:a.rowTextActive,color:a.rowTextDefault,descriptionColor:a.textSecondary,descriptionSelectedColor:a.rowTextDefault,disabledBackgroundColor:a.rowBackgroundDisabled,disabledColor:a.rowTextDisabled,highlightedBackgroundColor:a.highlightedBackgroundColor,highlightedColor:a.rowTextDefault,padding:{bottom:"8px",left:"32px",right:"20px",top:"8px"},paddingWhenNoValue:{bottom:"8px",left:"16px",right:"20px",top:"8px"},selectedBackgroundColor:a.rowBackgroundHover,selectedColor:a.rowTextSelected,selectedIcon:e,selectedTypeStyle:d,selectedIconMarginRight:"8px",selectedIconMarginLeft:"-4px",typeStyle:d}});return new(b("SUITheme"))({id:c,components:f})}e.exports=a}),null);
__d("SUIMessengerRTCLightTheme",["SUIMessengerRTCThemeConstants","messengerRTCCreateSUITheme"],(function(a,b,c,d,e,f){"use strict";a=b("SUIMessengerRTCThemeConstants").LIGHT_MAPPING;e.exports=b("messengerRTCCreateSUITheme")(a,"messenger-rtc-light")}),null);
__d("RTCSettingsMediaDeviceSelector.react",["fbt","React","SUIMessengerRTCLightTheme","SUISelector.react","SUISelectorOption.react","SUITheme","SUIThemeContainer.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h="---";a=function(a){var c=a.devices;return b("React").createElement(b("SUIThemeContainer.react"),{theme:a.theme?a.theme:b("SUIMessengerRTCLightTheme")},b("React").createElement(b("SUISelector.react"),{buttonBorderedSides:a.buttonBorderedSides,buttonRoundedCorners:a.buttonRoundedCorners,disabled:c.length===0,onChange:a.onChange,placeholder:g._("Select a device"),value:a.value||(c.length>0?c[0].deviceId:null),width:a.width},j(c)))};var i={videoinput:"Camera",audioinput:"Microphone",audiooutput:"Audio Output"};function j(a){if(a.length==0)return b("React").createElement(b("SUISelectorOption.react"),{value:null},h);var c=0;return a.map(function(a){var d=a.label?a.label:g._({"Camera":"Camera{number}","Microphone":"Microphone{number}","Audio Output":"Audio Output{number}"},[g._enum(i[a.kind],{Camera:"Camera",Microphone:"Microphone","Audio Output":"Audio Output"}),g._param("number",++c)]);return b("React").createElement(b("SUISelectorOption.react"),{key:a.deviceId,value:a.deviceId},d)})}e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/szRD2xg2JXY/
 */
__d("performance-now-0.2.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();(function(){var a,b,c;typeof performance!=="undefined"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process!=="undefined"&&process!==null&&process.hrtime?(g.exports=function(){return(a()-c)/1e6},b=process.hrtime,a=function(){var a;a=b();return a[0]*1e9+a[1]},c=a()):Date.now?(g.exports=function(){return Date.now()-c},c=Date.now()):(g.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case undefined:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/szRD2xg2JXY/
 */
__d("prop-types-15.6.0",["fbjs-0.8.16","object-assign-4.1.1"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("fbjs-0.8.16"));a(b("object-assign-4.1.1"));c={};var h={exports:c};function i(){var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";h.exports=a}var j=!1,k=function(){j||(j=!0,i());return h.exports};d={};var l={exports:d};function m(){__p&&__p();var a=g("/lib/emptyFunction"),b=g("/lib/invariant"),c=k();l.exports=function(){__p&&__p();function d(a,d,e,f,g,h){if(h===c)return;b(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}d.isRequired=d;function e(){return d}e={array:d,bool:d,func:d,number:d,object:d,string:d,symbol:d,any:d,arrayOf:e,element:d,instanceOf:e,node:d,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};e.checkPropTypes=a;e.PropTypes=e;return e}}var n=!1,o=function(){n||(n=!0,m());return l.exports};f={};var p={exports:f};function q(){p.exports=o()()}var r=!1,s=function(){r||(r=!0,q());return p.exports};a=function(a){switch(a){case undefined:return s()}};e.exports=a}),null);
/**
 * License: https://www.facebook.com/legal/license/szRD2xg2JXY/
 */
__d("performance-now-2.1.0",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={};var g={exports:a};function h(){__p&&__p();(function(){var a,b,c,d,e,f;typeof performance!=="undefined"&&performance!==null&&performance.now?g.exports=function(){return performance.now()}:typeof process!=="undefined"&&process!==null&&process.hrtime?(g.exports=function(){return(a()-e)/1e6},b=process.hrtime,a=function(){var a;a=b();return a[0]*1e9+a[1]},d=a(),f=process.uptime()*1e9,e=d-f):Date.now?(g.exports=function(){return Date.now()-c},c=Date.now()):(g.exports=function(){return new Date().getTime()-c},c=new Date().getTime())}).call(this)}var i=!1,j=function(){i||(i=!0,h());return g.exports};b=function(a){switch(a){case undefined:return j()}};e.exports=b}),null);
/**
 * License: https://www.facebook.com/legal/license/szRD2xg2JXY/
 */
__d("raf-3.4.0",["performance-now-2.1.0"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function c(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=c(b("performance-now-2.1.0"));d={};var h={exports:d};function i(){__p&&__p();var b=g(),c=typeof window==="undefined"?a:window,d=["moz","webkit"],e="AnimationFrame",f=c["request"+e],i=c["cancel"+e]||c["cancelRequest"+e];for(var j=0;!f&&j<d.length;j++)f=c[d[j]+"Request"+e],i=c[d[j]+"Cancel"+e]||c[d[j]+"CancelRequest"+e];if(!f||!i){var k=0,l=0,m=[],n=1e3/60;f=function(a){__p&&__p();if(m.length===0){var c=b(),d=Math.max(0,n-(c-k));k=d+c;setTimeout(function(){var b=m.slice(0);m.length=0;for(var a=0;a<b.length;a++)if(!b[a].cancelled)try{b[a].callback(k)}catch(a){setTimeout(function(){throw a},0)}},Math.round(d))}m.push({handle:++l,callback:a,cancelled:!1});return l};i=function(b){for(var a=0;a<m.length;a++)m[a].handle===b&&(m[a].cancelled=!0)}}h.exports=function(a){return f.call(c,a)};h.exports.cancel=function(){i.apply(c,arguments)};h.exports.polyfill=function(a){a||(a=c),a.requestAnimationFrame=f,a.cancelAnimationFrame=i}}var j=!1,k=function(){j||(j=!0,i());return h.exports};f=function(a){switch(a){case undefined:return k()}};e.exports=f}),null);
/**
 * License: https://www.facebook.com/legal/license/szRD2xg2JXY/
 */
__d("react-motion-0.5.2",["performance-now-0.2.0","raf-3.4.0","react-0.0.0","prop-types-15.6.0"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){return a&&typeof a==="object"&&"default"in a?a["default"]:a}var g=a(b("performance-now-0.2.0")),h=a(b("raf-3.4.0")),i=a(b("react-0.0.0")),j=a(b("prop-types-15.6.0")),k={},l={exports:k};function m(){k.__esModule=!0;k["default"]=a;function a(a){var b={};for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=0);return b}l.exports=k["default"]}var n=!1,o=function(){n||(n=!0,m());return l.exports},p={},q={exports:p};function r(){__p&&__p();p.__esModule=!0;p["default"]=a;function a(a){var b={};for(var c in a){if(!Object.prototype.hasOwnProperty.call(a,c))continue;b[c]=typeof a[c]==="number"?a[c]:a[c].val}return b}q.exports=p["default"]}var s=!1,t=function(){s||(s=!0,r());return q.exports},u={},v={exports:u};function w(){__p&&__p();u.__esModule=!0;u["default"]=b;var a=[0,0];function b(b,c,d,e,f,g,h){__p&&__p();f=-f*(c-e);g=-g*d;f=f+g;g=d+f*b;d=c+g*b;if(Math.abs(g)<h&&Math.abs(d-e)<h){a[0]=e;a[1]=0;return a}a[0]=d;a[1]=g;return a}v.exports=u["default"]}var x=!1,y=function(){x||(x=!0,w());return v.exports},z={},A={exports:z};function aa(){__p&&__p();z.__esModule=!0;z["default"]=a;function a(a,b,c){__p&&__p();for(var d in b){if(!Object.prototype.hasOwnProperty.call(b,d))continue;if(c[d]!==0)return!1;var e=typeof b[d]==="number"?b[d]:b[d].val;if(a[d]!==e)return!1}return!0}A.exports=z["default"]}var B=!1,C=function(){B||(B=!0,aa());return A.exports},D={},E={exports:D};function ba(){__p&&__p();D.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=g();var n=c(f);f=h();var p=c(f);f=C();var q=c(f);f=i();var r=c(f);f=j();var s=c(f),u=1e3/60;c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyle:s["default"].objectOf(s["default"].number),style:s["default"].objectOf(s["default"].oneOfType([s["default"].number,s["default"].object])).isRequired,children:s["default"].func.isRequired,onRest:s["default"].func},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.wasAnimating=!1;this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyle=null;this.clearUnreadPropStyle=function(b){var c=!1,d=e.state,f=d.currentStyle,g=d.currentVelocity,h=d.lastIdealStyle;d=d.lastIdealVelocity;for(var i in b){if(!Object.prototype.hasOwnProperty.call(b,i))continue;var j=b[i];typeof j==="number"&&(c||(c=!0,f=a({},f),g=a({},g),h=a({},h),d=a({},d)),f[i]=j,g[i]=0,h[i]=j,d[i]=0)}c&&e.setState({currentStyle:f,currentVelocity:g,lastIdealStyle:h,lastIdealVelocity:d})};this.startAnimationIfNecessary=function(){__p&&__p();e.animationID=p["default"](function(a){__p&&__p();var b=e.props.style;if(q["default"](e.state.currentStyle,b,e.state.currentVelocity)){e.wasAnimating&&e.props.onRest&&e.props.onRest();e.animationID=null;e.wasAnimating=!1;e.accumulatedTime=0;return}e.wasAnimating=!0;a=a||n["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>u*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/u)*u)/u;c=Math.floor(e.accumulatedTime/u);var d={},f={},g={},h={};for(var i in b){if(!Object.prototype.hasOwnProperty.call(b,i))continue;var j=b[i];if(typeof j==="number")g[i]=j,h[i]=0,d[i]=j,f[i]=0;else{var k=e.state.lastIdealStyle[i],l=e.state.lastIdealVelocity[i];for(var o=0;o<c;o++){var p=m["default"](u/1e3,k,l,j.val,j.stiffness,j.damping,j.precision);k=p[0];l=p[1]}p=m["default"](u/1e3,k,l,j.val,j.stiffness,j.damping,j.precision);o=p[0];j=p[1];g[i]=k+(o-k)*a;h[i]=l+(j-l)*a;d[i]=k;f[i]=l}}e.animationID=null;e.accumulatedTime-=c*u;e.unreadPropStyle=null;e.startAnimationIfNecessary();e.setState({currentStyle:g,currentVelocity:h,lastIdealStyle:d,lastIdealVelocity:f})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyle;a=a.style;b=b||l["default"](a);a=k["default"](b);return{currentStyle:b,currentVelocity:a,lastIdealStyle:b,lastIdealVelocity:a}};f.prototype.componentDidMount=function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyle!=null&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=a.style,this.animationID==null&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.animationID!=null&&(p["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=this.props.children(this.state.currentStyle);return a&&r["default"].Children.only(a)};return f}(r["default"].Component);D["default"]=c;E.exports=D["default"]}var F=!1,ca=function(){F||(F=!0,ba());return E.exports},G={},H={exports:G};function da(){__p&&__p();G.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=g();var n=c(f);f=h();var p=c(f);f=C();var q=c(f);f=i();var r=c(f);f=j();var s=c(f),u=1e3/60;function v(a,b,c){for(var d=0;d<a.length;d++)if(!q["default"](a[d],b[d],c[d]))return!1;return!0}c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyles:s["default"].arrayOf(s["default"].objectOf(s["default"].number)),styles:s["default"].func.isRequired,children:s["default"].func.isRequired},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyles=null;this.clearUnreadPropStyle=function(b){__p&&__p();var c=e.state,d=c.currentStyles,f=c.currentVelocities,g=c.lastIdealStyles;c=c.lastIdealVelocities;var h=!1;for(var i=0;i<b.length;i++){var j=b[i],k=!1;for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;var m=j[l];typeof m==="number"&&(k||(k=!0,h=!0,d[i]=a({},d[i]),f[i]=a({},f[i]),g[i]=a({},g[i]),c[i]=a({},c[i])),d[i][l]=m,f[i][l]=0,g[i][l]=m,c[i][l]=0)}}h&&e.setState({currentStyles:d,currentVelocities:f,lastIdealStyles:g,lastIdealVelocities:c})};this.startAnimationIfNecessary=function(){__p&&__p();e.animationID=p["default"](function(a){__p&&__p();var b=e.props.styles(e.state.lastIdealStyles);if(v(e.state.currentStyles,b,e.state.currentVelocities)){e.animationID=null;e.accumulatedTime=0;return}a=a||n["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>u*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/u)*u)/u;c=Math.floor(e.accumulatedTime/u);var d=[],f=[],g=[],h=[];for(var i=0;i<b.length;i++){var j=b[i],k={},l={},o={},p={};for(var q in j){if(!Object.prototype.hasOwnProperty.call(j,q))continue;var r=j[q];if(typeof r==="number")k[q]=r,l[q]=0,o[q]=r,p[q]=0;else{var s=e.state.lastIdealStyles[i][q],t=e.state.lastIdealVelocities[i][q];for(var w=0;w<c;w++){var x=m["default"](u/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);s=x[0];t=x[1]}x=m["default"](u/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);w=x[0];r=x[1];k[q]=s+(w-s)*a;l[q]=t+(r-t)*a;o[q]=s;p[q]=t}}g[i]=k;h[i]=l;d[i]=o;f[i]=p}e.animationID=null;e.accumulatedTime-=c*u;e.unreadPropStyles=null;e.startAnimationIfNecessary();e.setState({currentStyles:g,currentVelocities:h,lastIdealStyles:d,lastIdealVelocities:f})})};this.state=this.defaultState()}f.prototype.defaultState=function(){var a=this.props,b=a.defaultStyles;a=a.styles;b=b||a().map(l["default"]);a=b.map(function(a){return k["default"](a)});return{currentStyles:b,currentVelocities:a,lastIdealStyles:b,lastIdealVelocities:a}};f.prototype.componentDidMount=function(){this.prevTime=n["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles!=null&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=a.styles(this.state.lastIdealStyles),this.animationID==null&&(this.prevTime=n["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.animationID!=null&&(p["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=this.props.children(this.state.currentStyles);return a&&r["default"].Children.only(a)};return f}(r["default"].Component);G["default"]=c;H.exports=G["default"]}var I=!1,ea=function(){I||(I=!0,da());return H.exports},J={},K={exports:J};function fa(){__p&&__p();J.__esModule=!0;J["default"]=a;function a(a,b,c){__p&&__p();var d={};for(var e=0;e<a.length;e++)d[a[e].key]=e;var f={};for(var e=0;e<b.length;e++)f[b[e].key]=e;var g=[];for(var e=0;e<b.length;e++)g[e]=b[e];for(var e=0;e<a.length;e++)if(!Object.prototype.hasOwnProperty.call(f,a[e].key)){var h=c(e,a[e]);h!=null&&g.push(h)}return g.sort(function(a,c){__p&&__p();var e=f[a.key],g=f[c.key],h=d[a.key],i=d[c.key];if(e!=null&&g!=null)return f[a.key]-f[c.key];else if(h!=null&&i!=null)return d[a.key]-d[c.key];else if(e!=null){for(var a=0;a<b.length;a++){c=b[a].key;if(!Object.prototype.hasOwnProperty.call(d,c))continue;if(e<f[c]&&i>d[c])return-1;else if(e>f[c]&&i<d[c])return 1}return 1}for(var a=0;a<b.length;a++){c=b[a].key;if(!Object.prototype.hasOwnProperty.call(d,c))continue;if(g<f[c]&&h>d[c])return 1;else if(g>f[c]&&h<d[c])return-1}return-1})}K.exports=J["default"]}var L=!1,ga=function(){L||(L=!0,fa());return K.exports},M={},N={exports:M};function ha(){__p&&__p();M.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},b=function(){__p&&__p();function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}return function(b,c,d){c&&a(b.prototype,c);d&&a(b,d);return b}}();function c(a){return a&&a.__esModule?a:{"default":a}}function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var f=o(),k=c(f);f=t();var l=c(f);f=y();var m=c(f);f=ga();var n=c(f);f=g();var p=c(f);f=h();var q=c(f);f=C();var r=c(f);f=i();var s=c(f);f=j();var u=c(f),v=1e3/60;function w(a,b,c){var d=b;return d==null?a.map(function(a,b){return{key:a.key,data:a.data,style:c[b]}}):a.map(function(a,b){for(var e=0;e<d.length;e++)if(d[e].key===a.key)return{key:d[e].key,data:d[e].data,style:c[b]};return{key:a.key,data:a.data,style:c[b]}})}function x(a,b,c,d){if(d.length!==b.length)return!1;for(var e=0;e<d.length;e++)if(d[e].key!==b[e].key)return!1;for(var e=0;e<d.length;e++)if(!r["default"](a[e],b[e].style,c[e]))return!1;return!0}function z(a,b,c,d,e,f,g,h,i){__p&&__p();e=n["default"](d,e,function(a,d){__p&&__p();var e=b(d);if(e==null){c({key:d.key,data:d.data});return null}if(r["default"](f[a],e,g[a])){c({key:d.key,data:d.data});return null}return{key:d.key,data:d.data,style:e}});var j=[],l=[],m=[],o=[];for(var p=0;p<e.length;p++){var q=e[p],s=null;for(var t=0;t<d.length;t++)if(d[t].key===q.key){s=t;break}if(s==null){t=a(q);j[p]=t;m[p]=t;t=k["default"](q.style);l[p]=t;o[p]=t}else j[p]=f[s],m[p]=h[s],l[p]=g[s],o[p]=i[s]}return[e,j,l,m,o]}c=function(c){__p&&__p();e(f,c);b(f,null,[{key:"propTypes",value:{defaultStyles:u["default"].arrayOf(u["default"].shape({key:u["default"].string.isRequired,data:u["default"].any,style:u["default"].objectOf(u["default"].number).isRequired})),styles:u["default"].oneOfType([u["default"].func,u["default"].arrayOf(u["default"].shape({key:u["default"].string.isRequired,data:u["default"].any,style:u["default"].objectOf(u["default"].oneOfType([u["default"].number,u["default"].object])).isRequired}))]).isRequired,children:u["default"].func.isRequired,willEnter:u["default"].func,willLeave:u["default"].func,didLeave:u["default"].func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(a){return l["default"](a.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]);function f(b){__p&&__p();var e=this;d(this,f);c.call(this,b);this.unmounting=!1;this.animationID=null;this.prevTime=0;this.accumulatedTime=0;this.unreadPropStyles=null;this.clearUnreadPropStyle=function(b){__p&&__p();var c=z(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,b,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities),d=c[0],f=c[1],g=c[2],h=c[3];c=c[4];for(var i=0;i<b.length;i++){var j=b[i].style,k=!1;for(var l in j){if(!Object.prototype.hasOwnProperty.call(j,l))continue;var m=j[l];typeof m==="number"&&(k||(k=!0,f[i]=a({},f[i]),g[i]=a({},g[i]),h[i]=a({},h[i]),c[i]=a({},c[i]),d[i]={key:d[i].key,data:d[i].data,style:a({},d[i].style)}),f[i][l]=m,g[i][l]=0,h[i][l]=m,c[i][l]=0,d[i].style[l]=m)}}e.setState({currentStyles:f,currentVelocities:g,mergedPropsStyles:d,lastIdealStyles:h,lastIdealVelocities:c})};this.startAnimationIfNecessary=function(){__p&&__p();if(e.unmounting)return;e.animationID=q["default"](function(a){__p&&__p();if(e.unmounting)return;var b=e.props.styles;b=typeof b==="function"?b(w(e.state.mergedPropsStyles,e.unreadPropStyles,e.state.lastIdealStyles)):b;if(x(e.state.currentStyles,b,e.state.currentVelocities,e.state.mergedPropsStyles)){e.animationID=null;e.accumulatedTime=0;return}a=a||p["default"]();var c=a-e.prevTime;e.prevTime=a;e.accumulatedTime=e.accumulatedTime+c;e.accumulatedTime>v*10&&(e.accumulatedTime=0);if(e.accumulatedTime===0){e.animationID=null;e.startAnimationIfNecessary();return}a=(e.accumulatedTime-Math.floor(e.accumulatedTime/v)*v)/v;c=Math.floor(e.accumulatedTime/v);b=z(e.props.willEnter,e.props.willLeave,e.props.didLeave,e.state.mergedPropsStyles,b,e.state.currentStyles,e.state.currentVelocities,e.state.lastIdealStyles,e.state.lastIdealVelocities);var d=b[0],f=b[1],g=b[2],h=b[3];b=b[4];for(var i=0;i<d.length;i++){var j=d[i].style,k={},l={},n={},o={};for(var q in j){if(!Object.prototype.hasOwnProperty.call(j,q))continue;var r=j[q];if(typeof r==="number")k[q]=r,l[q]=0,n[q]=r,o[q]=0;else{var s=h[i][q],t=b[i][q];for(var u=0;u<c;u++){var y=m["default"](v/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);s=y[0];t=y[1]}y=m["default"](v/1e3,s,t,r.val,r.stiffness,r.damping,r.precision);u=y[0];r=y[1];k[q]=s+(u-s)*a;l[q]=t+(r-t)*a;n[q]=s;o[q]=t}}h[i]=n;b[i]=o;f[i]=k;g[i]=l}e.animationID=null;e.accumulatedTime-=c*v;e.unreadPropStyles=null;e.startAnimationIfNecessary();e.setState({currentStyles:f,currentVelocities:g,lastIdealStyles:h,lastIdealVelocities:b,mergedPropsStyles:d})})};this.state=this.defaultState()}f.prototype.defaultState=function(){__p&&__p();var a=this.props,b=a.defaultStyles,c=a.styles,d=a.willEnter,e=a.willLeave;a=a.didLeave;var f=typeof c==="function"?c(b):c;c=undefined;b==null?c=f:c=b.map(function(a){for(var b=0;b<f.length;b++)if(f[b].key===a.key)return f[b];return a});var g=b==null?f.map(function(a){return l["default"](a.style)}):b.map(function(a){return l["default"](a.style)});b=b==null?f.map(function(a){return k["default"](a.style)}):b.map(function(a){return k["default"](a.style)});d=z(d,e,a,c,f,g,b,g,b);e=d[0];a=d[1];c=d[2];g=d[3];b=d[4];return{currentStyles:a,currentVelocities:c,lastIdealStyles:g,lastIdealVelocities:b,mergedPropsStyles:e}};f.prototype.componentDidMount=function(){this.prevTime=p["default"](),this.startAnimationIfNecessary()};f.prototype.componentWillReceiveProps=function(a){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);a=a.styles;typeof a==="function"?this.unreadPropStyles=a(w(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):this.unreadPropStyles=a;this.animationID==null&&(this.prevTime=p["default"](),this.startAnimationIfNecessary())};f.prototype.componentWillUnmount=function(){this.unmounting=!0,this.animationID!=null&&(q["default"].cancel(this.animationID),this.animationID=null)};f.prototype.render=function(){var a=w(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles);a=this.props.children(a);return a&&s["default"].Children.only(a)};return f}(s["default"].Component);M["default"]=c;N.exports=M["default"]}var O=!1,ia=function(){O||(O=!0,ha());return N.exports},P={},Q={exports:P};function ja(){P.__esModule=!0,P["default"]={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},Q.exports=P["default"]}var R=!1,S=function(){R||(R=!0,ja());return Q.exports},T={},U={exports:T};function ka(){__p&&__p();T.__esModule=!0;var a=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a};T["default"]=d;function b(a){return a&&a.__esModule?a:{"default":a}}d=S();b=b(d);var c=a({},b["default"].noWobble,{precision:.01});function d(b,d){return a({},c,d,{val:b})}U.exports=T["default"]}var V=!1,la=function(){V||(V=!0,ka());return U.exports},W={},X={exports:W};function ma(){W.__esModule=!0;W["default"]=a;function a(){}X.exports=W["default"]}var Y=!1,na=function(){Y||(Y=!0,ma());return X.exports},Z={},oa={exports:Z};function pa(){__p&&__p();Z.__esModule=!0;function a(a){return a&&a.__esModule?a["default"]:a}var b=ca();Z.Motion=a(b);b=ea();Z.StaggeredMotion=a(b);b=ia();Z.TransitionMotion=a(b);b=la();Z.spring=a(b);b=S();Z.presets=a(b);b=t();Z.stripStyle=a(b);b=na();Z.reorderKeys=a(b)}var $=!1,qa=function(){$||($=!0,pa());return oa.exports};c=function(a){switch(a){case undefined:return qa()}};e.exports=c}),null);
__d("react-motion",["react-motion-0.5.2"],(function(a,b,c,d,e,f){e.exports=b("react-motion-0.5.2")()}),null);
__d("ReactMotion",["react-motion"],(function(a,b,c,d,e,f){e.exports=b("react-motion")}),null);
__d("AudioContextSingleton",[],(function(a,b,c,d,e,f){var g=window.AudioContext||window.webkitAudioContext,h=null;a={get:function(){h==null&&(h=new g());return h}};e.exports=a}),null);
__d("CollabCallMessengerBrowserEventEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({CALL_CONNECTED:"call: connected",CALL_ENDED:"call: ended",CALL_PROCESS_STARTED:"call: start process",CALL_START_TRY:"call: try",CONNECTION_INFO:"connection info",CONNECTION_RECOVERY:"connection recovery",HANGUP_CALL_ID_MISSMATCH:"hangup callID missmatch",TURN_CREDENTIALS_RECEIVED:"TURN credentials received",OFFER_ACCEPTED:"offer accepted",OFFER_IGNORED:"offer ignored",RENEGOTIATION:"offer renegotiation",LOCAL_STREAM_READY:"local stream: ready",LOCAL_STREAM_SET:"local stream: set",LOCAL_STREAM_STARTED:"local stream: started",LOCAL_STREAM_TRACKS_CHANGED:"local stream: tracks changed",FLOOR_STATUS_CHANGE:"floor status change",LOCAL_SCREEN_STREAM_SET:"screen stream: set",SCREEN_SHARING_CANCELLED:"screen sharing: cancelled",SCREEN_SHARING_DIALOG_CANCEL:"screen sharing: dialog cancel",SCREEN_SHARING_DIALOG_SUCCESS:"screen sharing: dialog success",SCREEN_SHARING_ERROR:"screen sharing: error",SCREEN_SHARING_EXT_DIALOG:"screen sharing: extension install dialog",SCREEN_SHARING_EXT_LINK:"screen sharing: user clicked on install link",SCREEN_SHARING_NOT_SUPPORTED:"screen sharing: not supported",SCREEN_SHARING_TOGGLED:"screen sharing: toggled",REMOTE_STREAM_ADDED:"remote stream: added",REMOTE_STREAM_MUTE_TOGGLED:"remote steam: mute toggled",REMOTE_STREAM_REMOVED:"remote stream: removed",REMOTE_STREAM_SET:"remote stream: set",REMOTE_STREAM_STARTED:"remote stream: started",REMOTE_STREAM_TRACKS_CHANGED:"remote stream: tracks changed",CALL_CONTROLLER_INIT:"call controller init",FAIL_BROWSER_NOT_SUPPORTED:"browser not supported",REQUEST_USER_MEDIA:"request user media",ICE_CANDIDATE_ERROR:"ICE candidate error",ICE_CONNECTION_STATE_CHANGE:"ICE connection state change",ICE_GATHERING_STATE_CHANGE:"ICE gathering state change",MESSAGE_RECEIVED:"message received",MESSAGE_SENT:"message sent",RTC_ERROR:"RTC error",SDP_UPDATE:"SDP update",USER_SETTINGS_CHANGED:"user settings change",AUDIO_FALLBACK:"audio fallback",GET_USER_MEDIA_ERROR:"get user media: error",INIT_STREAM_ERROR:"init stream error",INIT_USER_MEDIA_CONSTRAINT:"init user media constraint"})}),null);
__d("ScreenSharingWebDriverIDs",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({SHARE_SCREEN_BUTTON:"shareScreenButton",INSTALL_EXT_DIALOG:"install_extension_dialog"})}),null);
__d("XScreenSharingController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/videocall/screen_sharing/",{peer_id:{type:"FBID",required:!0},version:{type:"Int"}})}),null);