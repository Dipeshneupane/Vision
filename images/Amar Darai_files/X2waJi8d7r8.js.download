if (self.CavalryLogger) { CavalryLogger.start_js(["FsGMf"]); }

__d("SimpleCacheProvider-dev",["React","fbjs/lib/warning"],(function(a,b,c,d,e,f){"use strict"}),null);
__d("SimpleCacheProvider-prod",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();Object.defineProperty(f,"__esModule",{value:!0});function a(a){__p&&__p();function b(a,b){__p&&__p();var c=d.get(a);void 0===c&&(c={map:new Map(),head:null,tail:null,size:0},d.set(a,c));var e=c.map;a=e.get(b);if(void 0===a){if(a={status:0,suspender:null,key:b,value:null,error:null,next:null,previous:null},e.set(b,a),500<=c.size&&(b=c.tail,null!==b)){for(var f=0;50>f&&null!==b;f++)--c.size,e["delete"](b.key),b=b.previous;c.tail=b;null!==b&&(b.next=null)}}else e=a.previous,b=a.next,null!==e?e.next=b:c.head=b,null!==b?b.previous=e:c.tail=e,--c.size;e=c.head;c.head=a;a.previous=null;a.next=e;null!==e?e.previous=a:c.tail=a;c.size+=1;return a}function c(a,b){a.status=1,a.suspender=b,b.then(function(b){a.status=2,a.suspender=null,a.value=b},function(b){a.status=3,a.suspender=null,a.error=b})}var d=new Map();return{invalidate:function(){a()},preload:function(a,d,e,f){a=b(a,d);switch(a.status){case 0:e=e(f),c(a,e)}},read:function(a,d,e,f){a=b(a,d);switch(a.status){case 0:throw e=e(f),c(a,e),e;case 1:throw a.suspender;case 2:return a.value;default:throw a.error}}}}c=a(function(){});d=b("React").createContext(c);f.createCache=a;f.createResource=function(a,b){__p&&__p();var c={read:function(d,e){if(void 0===b)return d.read(c,e,a,e);var f=b(e);return d.read(c,f,a,e)},preload:function(d,e){if(void 0===b)d.preload(c,e,a,e);else{var f=b(e);d.preload(c,f,a,e)}}};return c};f.SimpleCache=d}),null);
__d("SimpleCacheProvider",["SimpleCacheProvider-dev","SimpleCacheProvider-prod"],(function(a,b,c,d,e,f){a=b("SimpleCacheProvider-prod");e.exports=a}),null);
__d("BootloaderResource",["SimpleCacheProvider"],(function(a,b,c,d,e,f){a=b("SimpleCacheProvider").createResource;c=a(function(a){return a.load()},function(a){return a.getModuleId()});e.exports=c}),null);
__d("Placeholder.react",["react"],(function(a,b,c,d,e,f){var g=b("react").Timeout;function a(a){var c=a.delayMs;c=c===undefined?0:c;var d=a.fallback,e=a.children;return b("react").createElement(g,{ms:c},function(a){return a?d:e})}e.exports=a}),null);
__d("withCache",["SimpleCacheProvider","react"],(function(a,b,c,d,e,f){var g=b("SimpleCacheProvider").SimpleCache;function a(a){function c(c){return b("react").createElement(g.Consumer,null,function(d){return b("react").createElement(a,babelHelpers["extends"]({cache:d},c))})}c.displayName="withCache("+(a.displayName||a.name)+")";return c}e.exports=a}),null);
__d("LazyContentTooltip.react",["fbt","BootloaderResource","Placeholder.react","React","Tooltip.react","withCache"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=function(a){var c=a.cache,d=a.contentRenderer;a=babelHelpers.objectWithoutProperties(a,["cache","contentRenderer"]);c=b("BootloaderResource").read(c,d);return b("React").createElement(c,a)};c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={error:!1},b}a.prototype.componentDidCatch=function(){this.setState({error:!0})};a.prototype.render=function(){var a=this.props,c=a.children,d=a.contentRenderer,e=a.errorMessage,f=a.contentRendererProps,g=a.placeholder,h=a.cache;a=babelHelpers.objectWithoutProperties(a,["children","contentRenderer","errorMessage","contentRendererProps","placeholder","cache"]);var j=this.state.error;return j?b("React").createElement(b("Tooltip.react"),babelHelpers["extends"]({},a,{tooltip:e})):b("React").createElement(b("Tooltip.react"),babelHelpers["extends"]({},a,{tooltip:b("React").createElement(b("Placeholder.react"),{delayMs:1e3,fallback:g},b("React").createElement(i,babelHelpers["extends"]({cache:h,contentRenderer:d,placeholder:g},f)))}),c)};a.defaultProps={errorMessage:g._("Error loading content"),placeholder:g._("Loading\u2026")};e.exports=b("withCache")(a)}),null);
__d("FeedStoryUFIRootQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();var a=[{kind:"LocalArgument",name:"commentProfilePictureSizeDepth0",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth1",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"contextForFeedback",type:"String",defaultValue:null},{kind:"LocalArgument",name:"feedbackTargetID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"focusCommentID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"groupID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null},{kind:"LocalArgument",name:"storyID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"storyLocation",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"shareableStoryContext",type:"ShareableStoryContext",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"feedbackTargetID",type:"ID!"}],c={kind:"LinkedField",alias:"available_view_options",name:"display_comments",storageKey:null,args:null,concreteType:"DisplayCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"available_view_options",args:null,storageKey:null}]},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"is_comment_markdown_eligible",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"is_q_and_a",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"is_eligible_for_real_time_updates",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"have_comments_been_disabled",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"can_see_voice_switcher",args:null,storageKey:null},j={kind:"ScalarField",alias:null,name:"mentions_datasource_js_constructor_args_json",args:null,storageKey:null},k=[{kind:"Variable",name:"id",variableName:"storyID",type:"ID!"},{kind:"Literal",name:"shareable_type",value:"STORY",type:"ShareableConfigType!"},{kind:"Variable",name:"story_context",variableName:"shareableStoryContext",type:"ShareableStoryContext"},{kind:"Variable",name:"story_location",variableName:"storyLocation",type:"Int"}],l=[{kind:"Variable",name:"id",variableName:"groupID",type:"ID!"}],m={kind:"LinkedField",alias:null,name:"group_mentions_sections_info",storageKey:null,args:null,concreteType:"GroupMentionsSectionsInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"member_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"member_aux",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"nonmember_title",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"nonmember_aux",args:null,storageKey:null}]},n=[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],o={kind:"ScalarField",alias:"i18n_reaction_count",name:"reaction_count_reduced",args:null,storageKey:null},p={kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},r={kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null},s={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},v={kind:"Variable",name:"scale",variableName:"scale",type:"Float"},w={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},x=[w],y={kind:"LinkedField",alias:"profile_picture_depth_0",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth0",type:"Int"},v,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth0",type:"Int"}],concreteType:"Image",plural:!1,selections:x},z=[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1",type:"Int"},v,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1",type:"Int"}],A={kind:"LinkedField",alias:"profile_picture_depth_1",name:"profile_picture",storageKey:null,args:z,concreteType:"Image",plural:!1,selections:x},B={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},C=[B],D=[d],E={kind:"ScalarField",alias:null,name:"can_viewer_comment",args:[{kind:"Literal",name:"use_default_actor",value:!1,type:"Boolean"}],storageKey:"can_viewer_comment(use_default_actor:false)"},F={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},I=[{kind:"Variable",name:"context_for_feedback",variableName:"contextForFeedback",type:"String"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID",type:"ID"},{kind:"Literal",name:"is_initial_fetch",value:!0,type:"Boolean"}],J={kind:"ScalarField",alias:null,name:"after_count",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"before_count",args:null,storageKey:null},L={kind:"LinkedField",alias:null,name:"comment_menu_items",storageKey:null,args:null,concreteType:null,plural:!0,selections:[s,{kind:"InlineFragment",type:"CommentMenuItemDeleteAndRemoveMember",selections:[{kind:"ScalarField",alias:null,name:"show_remove_content_options",args:null,storageKey:null}]}]},M=[{kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null}];M={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,t,u,s,y,A,{kind:"InlineFragment",type:"Page",selections:M},{kind:"InlineFragment",type:"User",selections:M}]};var N={kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null},O={kind:"Literal",name:"height",value:396,type:"Int"},P={kind:"Literal",name:"width",value:396,type:"Int"},Q={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},R={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},S=[Q,w,R];w=[w,R,Q];var T=[H],U=[{kind:"Literal",name:"height",value:80,type:"Int"},v,{kind:"Literal",name:"width",value:80,type:"Int"}];O={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},u,{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[s,{kind:"LinkedField",alias:"gifAnimatedImage_396",name:"animated_image",storageKey:null,args:[O,{kind:"Literal",name:"media_type",value:"image/gif",type:"String"},v,P],concreteType:"Image",plural:!1,selections:S},{kind:"LinkedField",alias:"image_396",name:"image",storageKey:null,args:[O,v,P],concreteType:"Image",plural:!1,selections:S},{kind:"LinkedField",alias:"webPAnimatedImage_396",name:"animated_image",storageKey:null,args:[O,{kind:"Literal",name:"media_type",value:"image/webp",type:"String"},v,P],concreteType:"Image",plural:!1,selections:S},d,{kind:"LinkedField",alias:"fallback_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:98,type:"Int"},v,{kind:"Literal",name:"width",value:98,type:"Int"}],concreteType:"Image",plural:!1,selections:S},{kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null},{kind:"InlineFragment",type:"Photo",selections:[{kind:"ScalarField",alias:null,name:"accessibility_caption",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:240,type:"Int"},v,{kind:"Literal",name:"width",value:240,type:"Int"}],concreteType:"Image",plural:!1,selections:w}]},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"animated_image_attribution",args:null,storageKey:null},R,Q,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:x}]}]},{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:T},{kind:"LinkedField",alias:null,name:"title_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:T},{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[s,d,{kind:"InlineFragment",type:"ExternalUrl",selections:[u]}]},{kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[s,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"integrity_context_title",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null},{kind:"LinkedField",alias:"sticker",name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[s,d,{kind:"InlineFragment",type:"Sticker",selections:[{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[t,d]},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:U,concreteType:"Image",plural:!1,selections:x},{kind:"LinkedField",alias:"sticker_image",name:"image",storageKey:null,args:U,concreteType:"Image",plural:!1,selections:w}]}]}]};P={kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[d,s]};S={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation:"ORIGINAL")',args:[{kind:"Literal",name:"translation",value:"ORIGINAL",type:"CommentPreferredBodyTranslation"}],concreteType:null,plural:!1,selections:[s,{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[s,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT",type:"TextDelightSurface"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},d]},F,G]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[s,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[s,{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},d]},{kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},F,G]},H]},{kind:"InlineFragment",type:"FBMarkdownCommentBody",selections:[{kind:"ScalarField",alias:null,name:"fb_workplace_commonmark_ast_serialized",args:null,storageKey:null}]}]};v={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_author_muted",args:null,storageKey:null}]};R={kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null};Q={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null};T={kind:"ScalarField",alias:null,name:"comment_menu_tooltip",args:null,storageKey:null};U={kind:"ScalarField",alias:null,name:"is_hidden_by_viewer",args:null,storageKey:null};w={kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null};var V={kind:"LinkedField",alias:null,name:"edit_history",storageKey:null,args:null,concreteType:"EditHistoryConnection",plural:!1,selections:C},W={kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},X={kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:n,concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[p,d,q]},r]}]},Y={kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null},B]},aa={kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[s,d]},ba={kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[q,d]},Z={kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[q]},ca={kind:"ScalarField",alias:null,name:"chat_to_buy",args:null,storageKey:null},$={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},da={kind:"ScalarField",alias:null,name:"is_markdown_enabled",args:null,storageKey:null},ea={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},fa={kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null}]},ga={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},ha={kind:"ScalarField",alias:null,name:"is_initially_expanded",args:null,storageKey:null},ia={kind:"ScalarField",alias:null,name:"page_size",args:null,storageKey:null},ja={kind:"ScalarField",alias:null,name:"view_option",args:null,storageKey:null},ka={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null}]},la={kind:"LinkedHandle",alias:null,name:"display_comments",args:I,handle:"connection",key:"UFI2CommentsProvider_feedback_display_comments",filters:["context_for_feedback","view_option"]};return{kind:"Request",operationKind:"query",name:"FeedStoryUFIRootQuery",id:"1956944044373242",text:null,metadata:{},fragment:{kind:"Fragment",name:"FeedStoryUFIRootQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2AnswerActionLink_feedback",args:null},c,d,e,f,g,h,{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"FragmentSpread",name:"UFI2Composer_actor",args:null}]},{kind:"FragmentSpread",name:"FeedStoryUFISummary_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ActorSelector_feedback",args:null},{kind:"FragmentSpread",name:"UFI2AddCommentLink_feedback",args:null},i,{kind:"FragmentSpread",name:"UFI2CommentActionLink_feedback",args:null},{kind:"FragmentSpread",name:"UFI2CommentDisabledNotice_feedback",args:null},{kind:"FragmentSpread",name:"UFI2Comment_feedback",args:null},{kind:"FragmentSpread",name:"UFI2CommentsList_feedback",args:null},{kind:"FragmentSpread",name:"UFI2CommentsPager_feedback",args:null},{kind:"FragmentSpread",name:"UFI2Composer_feedback",args:null},j,{kind:"FragmentSpread",name:"UFI2ReactionActionLink_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ShareActionLink_feedback",args:null},{kind:"FragmentSpread",name:"UFI2TypingIndicator_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ViewOptionsSelector_feedback",args:null}]},{kind:"LinkedField",alias:null,name:"shareable_config",storageKey:null,args:k,concreteType:"ShareableConfig",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2ShareActionLink_shareableConfig",args:null}]},{kind:"LinkedField",alias:null,name:"group",storageKey:null,args:l,concreteType:"Group",plural:!1,selections:[m]}]},operation:{kind:"Operation",name:"FeedStoryUFIRootQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:n,concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[o,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"localized_name",args:null,storageKey:null},p,d,q]},r]}]},c,d,e,f,g,h,{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[s,d,t,u,y,A]},{kind:"LinkedField",alias:"comment_count",name:"top_level_comments",storageKey:null,args:null,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"total_count",args:null,storageKey:null}]},{kind:"ScalarField",alias:"i18n_comment_count",name:"comment_count_reduced",args:null,storageKey:null},u,o,{kind:"LinkedField",alias:null,name:"important_reactors",storageKey:"important_reactors(first:2)",args:[{kind:"Literal",name:"first",value:2,type:"Int"}],concreteType:"ImportantReactorsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[s,t,d]}]},{kind:"LinkedField",alias:"reaction_count",name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:C},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[s,d,q]},{kind:"ScalarField",alias:null,name:"share_fbid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_show_seen_by",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"seen_by",storageKey:null,args:null,concreteType:"SeenByConnection",plural:!1,selections:[B,{kind:"ScalarField",alias:"i18n_seen_by_count",name:"seen_by_count_reduced",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"seen_by_everyone",args:null,storageKey:null}]},{kind:"ScalarField",alias:"i18n_share_count",name:"share_count_reduced",args:null,storageKey:null},{kind:"LinkedField",alias:"share_count",name:"reshares",storageKey:null,args:null,concreteType:"ResharesOfContentConnection",plural:!1,selections:C},i,{kind:"ScalarField",alias:null,name:"video_view_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_view_count_reduced",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"total_video_posts",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_post_view_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_group_q_and_a",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page_private_reply",storageKey:null,args:null,concreteType:"PrivateReplyContext",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null}]},{kind:"LinkedField",alias:"seen_by_count",name:"seen_by",storageKey:null,args:null,concreteType:"SeenByConnection",plural:!1,selections:C},{kind:"LinkedField",alias:null,name:"viewer_acts_as_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:D},{kind:"LinkedField",alias:null,name:"viewer_acts_as_person_for_inline_voice",storageKey:null,args:null,concreteType:"User",plural:!1,selections:D},{kind:"LinkedField",alias:null,name:"voice_switcher_actors",storageKey:null,args:null,concreteType:"VoiceSwitcherActorsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[s,d,t,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(width:30)",args:[{kind:"Literal",name:"width",value:30,type:"Int"}],concreteType:"Image",plural:!1,selections:x}]}]},E,{kind:"LinkedField",alias:null,name:"top_level_comments",storageKey:null,args:null,concreteType:"TopLevelCommentsConnection",plural:!1,selections:C},{kind:"LinkedField",alias:null,name:"comments_disabled_notice",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[s,u,d]},F,G]},H]},{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:I,concreteType:"DisplayCommentsConnection",plural:!1,selections:[J,K,B,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[L,d,M,N,O,P,S,v,R,Q,T,U,w,V,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[W,d,X,Y,aa,ba,Z,E,{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:I,concreteType:"DisplayCommentsConnection",plural:!1,selections:[J,K,B,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[L,d,M,N,O,P,S,v,R,Q,T,U,w,V,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[W,d,X,Y,aa,ba,Z]},ca,$,u,da,ea,fa,s]},ga]},{kind:"LinkedField",alias:null,name:"highlighted_comments",storageKey:null,args:null,concreteType:"Comment",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[s,t,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:z,concreteType:"Image",plural:!1,selections:x},d]},$,d]},ha,ia,ja,ka]},la]},ca,$,u,da,ea,fa,s]},ga]},ha,ia,ja,ka]},la,j,W,Z,{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:C},{kind:"LinkedField",alias:null,name:"feedback_typers",storageKey:null,args:null,concreteType:"FeedbackTypersConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"friend_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"other_count",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"shareable_config",storageKey:null,args:k,concreteType:"ShareableConfig",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"intercept_for_page_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"misinformation_confirm_dialog_uri",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"share_action_link_primer_attributes",storageKey:null,args:null,concreteType:"PrimerAttributes",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"rel",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"share_action_link_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"share_now_menu_uri",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"group",storageKey:null,args:l,concreteType:"Group",plural:!1,selections:[m,d]}]}}}();e.exports=a}),null);
__d("FeedStoryUFISummary_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}];return{kind:"Fragment",name:"FeedStoryUFISummary_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"available_view_options",name:"display_comments",storageKey:null,args:null,concreteType:"DisplayCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"available_view_options",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"UFI2CommentsCount_feedback",args:null},{kind:"FragmentSpread",name:"UFI2SeenByCount_feedback",args:null},{kind:"FragmentSpread",name:"UFI2SharesCount_feedback",args:null},{kind:"FragmentSpread",name:"UFI2TopReactions_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ViewCount_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ViewOptionsSelector_feedback",args:null},{kind:"ScalarField",alias:null,name:"can_show_seen_by",args:null,storageKey:null},{kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback",args:null},{kind:"LinkedField",alias:"comment_count",name:"top_level_comments",storageKey:null,args:null,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"total_count",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"page_private_reply",storageKey:null,args:null,concreteType:"PrivateReplyContext",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"status",args:null,storageKey:null}]},{kind:"LinkedField",alias:"reaction_count",name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:a},{kind:"LinkedField",alias:"seen_by_count",name:"seen_by",storageKey:null,args:null,concreteType:"SeenByConnection",plural:!1,selections:a},{kind:"LinkedField",alias:"share_count",name:"reshares",storageKey:null,args:null,concreteType:"ResharesOfContentConnection",plural:!1,selections:a},{kind:"ScalarField",alias:null,name:"is_unseen",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_view_count",args:null,storageKey:null}]}}();e.exports=a}),null);
__d("UFI2CommentsCount_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentsCount_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:"comment_count",name:"top_level_comments",storageKey:null,args:null,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"total_count",args:null,storageKey:null}]},{kind:"ScalarField",alias:"i18n_comment_count",name:"comment_count_reduced",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2CommentsCount.react",["cx","fbt","invariant","AbstractButton.react","JSResource","LazyContentTooltip.react","React","RelayModern","URI","idx","joinClasses","UFI2CommentsCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=j.constructor).call.apply(a,[this].concat(d)),this.$1=function(event){var a=this.props.onClick;a&&(a(),event.preventDefault())}.bind(this),b}a.prototype.render=function(){__p&&__p();var a,c=this.props,d=c.className,e=c.feedback,f=c.relay;c=c.trackingInfo;var g=e.comment_count,j=e.i18n_comment_count;g=(g=g)!=null?g.total_count:g;g!=null||i(0);if(g===0)return null;a=(a=e)!=null?a.url:a;a||i(0);a=new(b("URI"))(a).addQueryData({comment_tracking:c}).toString();return b("React").createElement(b("LazyContentTooltip.react"),{className:b("joinClasses")("_1whp",d),contentRenderer:b("JSResource")("UFI2CommentsCountTooltipContent.react").__setRef("UFI2CommentsCount.react"),contentRendererProps:{environment:f.environment,feedbackTargetID:e.id},mountedWhileHidden:!1},b("React").createElement(b("AbstractButton.react"),{"aria-live":"polite",className:"_3hg-","data-ft":c,"data-testid":"UFI2CommentsCount/root",href:a,label:h._({"*":"{number} Comments","_1":"1 Comment"},[h._plural(g,"number",j)]),onClick:this.$1,role:"button"}))};a.displayName="UFI2CommentsCount";e.exports=c(a,{feedback:function(){return b("UFI2CommentsCount_feedback.graphql")}})}),null);
__d("UFI2ErrorBoundary.react",["ErrorBoundary.react","FBLogger","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a,c){var d=this.props.getFBLoggerErrorMessage;d=d!=null?d(a,c):"`"+(c||"Unknown Component")+"` experienced a fatal error during render.";b("FBLogger")("ufi2").catching(a).mustfix(d)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.children;a.getFBLoggerErrorMessage;a=babelHelpers.objectWithoutProperties(a,["children","getFBLoggerErrorMessage"]);return b("React").createElement(b("ErrorBoundary.react"),babelHelpers["extends"]({onHandleError:this.$1},a),c)};e.exports=a}),null);
__d("UFI2PrivateReplyIndicator.react",["fbt","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("span",{className:a.className},g._("Page responded privately"))}a.shouldRender=function(a){return a==="ALREADY_REPLIED"};e.exports=a}),null);
__d("UFI2ReactionsCount_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2ReactionsCount_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[a,{kind:"ScalarField",alias:"i18n_reaction_count",name:"reaction_count_reduced",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"important_reactors",storageKey:"important_reactors(first:2)",args:[{kind:"Literal",name:"first",value:2,type:"Int"}],concreteType:"ImportantReactorsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[b]}]},{kind:"LinkedField",alias:"reaction_count",name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,b]},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("UFI2ReactionsCount.react",["cx","fbt","invariant","AbstractButton.react","FBLogger","JSResource","LazyContentTooltip.react","NumberFormat","React","RelayModern","UFIReactionsProfileBrowserUtils","idx","intlList","UFI2ReactionsCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=function(a){return b("React").createElement("span",a)};j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.$1=function(event){};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.feedback;a=a.relay;var d=c.i18n_reaction_count,e=c.id,f=c.important_reactors,g=c.reaction_count,h=c.viewer_current_actor,j=c.viewer_feedback_reaction_info;c=(c=c)!=null?(c=c.viewer_current_actor)!=null?c.id:c:c;if(!c){b("FBLogger")("ufi2").mustfix("UFI2ReactionsCount tried to render without an actor ID. Feedback Target ID: %s",e);return null}g=(g=g)!=null?g.count:g;e||i(0);g!=null||i(0);d||i(0);if(g===0)return null;h=(h=h)!=null?h.name:h;f=((f=f)!=null?f.nodes:f)||[];j=j!=null;var m=j?f.length+1:f.length;m=m<g;var n=m?b("LazyContentTooltip.react"):k;m=m?{contentRenderer:b("JSResource")("UFI2ReactionsCountTooltipContent.react").__setRef("UFI2ReactionsCount.react"),contentRendererProps:{environment:a.environment,feedbackTargetID:e,reactionCount:g},mountedWhileHidden:!1}:{};a=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:c,feedbackTargetID:e});return b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},a,{className:"_3dlf","data-testid":"UFI2ReactionsCount/root",label:[b("React").createElement("span",{"aria-hidden":!0,className:"_3dlg",key:"count-sentence"},b("React").createElement(n,babelHelpers["extends"]({className:"_3dlh"},m),d)),b("React").createElement("span",{className:"_3dlh _3dli","data-testid":"UFI2ReactionsCount/sentenceWithSocialContext",key:"social-sentence"},b("React").createElement(n,m,b("React").createElement(l,{actorName:h,i18nReactionCount:d,importantReactors:f,reactionCount:g,viewerReacted:j})))],onClick:this.$1,role:"button"}))};function a(){j.apply(this,arguments)}a.displayName="UFI2ReactionsCount";function l(a){__p&&__p();var c=a.actorName,d=a.i18nReactionCount,e=a.importantReactors,f=a.reactionCount;a=a.viewerReacted;if(a&&f===1)return c;if(!a&&e.length===0)return m(d,f);c=[a?h._("You"):null].concat(e.map(function(a){return(a=a)!=null?a.name:a})).filter(Boolean);a=f-c.length;a>0&&c.push(h._({"*":"{number} others","_1":"1 other"},[h._plural(a,"number",m(d,a))]));return b("intlList")(c)}function m(a,c){var d=Math.floor(Math.log10(c));return d<3?b("NumberFormat").formatInteger(c):a}e.exports=c(a,{feedback:function(){return b("UFI2ReactionsCount_feedback.graphql")}})}),null);
__d("UFI2SeenByCount_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2SeenByCount_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"share_fbid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_show_seen_by",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"seen_by",storageKey:null,args:null,concreteType:"SeenByConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"ScalarField",alias:"i18n_seen_by_count",name:"seen_by_count_reduced",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"seen_by_everyone",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFI2SeenByCount.react",["cx","fbt","invariant","AbstractButton.react","ActorURI","React","RelayModern","URI","XUFIGroupSeenByProfileBrowserController","XUFIGroupSeenByProfileDialogController","idx","joinClasses","UFI2SeenByCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.$1=function(event){};a.prototype.render=function(){__p&&__p();var a,c=this.props,d=c.className;c=c.feedback;var e=c.can_show_seen_by,f=c.seen_by,g=c.share_fbid;a=(a=f)!=null?a.count:a;if(!e||!a)return null;e=(e=f)!=null?e.i18n_seen_by_count:e;e!=null||i(0);f=(f=f)!=null?f.seen_by_everyone:f;f!=null||i(0);c=(c=c)!=null?(c=c.viewer_current_actor)!=null?c.id:c:c;c||i(0);var j=b("ActorURI").create(b("XUFIGroupSeenByProfileBrowserController").getURIBuilder().setInt("id",g).getURI(),c);c=b("ActorURI").create(b("XUFIGroupSeenByProfileDialogController").getURIBuilder().setInt("id",g).getURI(),c);g=new(b("URI"))("/ajax/ufi/seen_list_hovercard.php").setQueryData({id:g});return b("React").createElement(b("AbstractButton.react"),{ajaxify:c,"aria-live":"polite",className:b("joinClasses")("_33zy",d),"data-hovercard":g,"data-testid":"UFI2SeenByCount/root",href:j,label:f===!0?h._("Seen by everyone"):h._({"*":"Seen by {seenByCount}"},[h._param("seenByCount",e,[0,a])]),onClick:this.$1,rel:"dialog",role:"button"})};function a(){j.apply(this,arguments)}a.displayName="UFI2SeenByCount";e.exports=c(a,{feedback:function(){return b("UFI2SeenByCount_feedback.graphql")}})}),null);
__d("UFI2SharesCount_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2SharesCount_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:"i18n_share_count",name:"share_count_reduced",args:null,storageKey:null},a,{kind:"LinkedField",alias:"share_count",name:"reshares",storageKey:null,args:null,concreteType:"ResharesOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"share_fbid",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]}]}}();e.exports=a}),null);
__d("UFI2SharesCount.react",["cx","fbt","invariant","AbstractButton.react","ActorURI","FBLogger","JSResource","LazyContentTooltip.react","React","RelayModern","URI","idx","joinClasses","UFI2SharesCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;j=babelHelpers.inherits(a,b("React").Component);j&&j.prototype;a.prototype.$1=function(event){};a.prototype.render=function(){__p&&__p();var a,c,d=this.props,e=d.className,f=d.feedback;d=d.relay;var g=f.share_count,j=f.i18n_share_count;g=(g=g)!=null?g.count:g;g!=null||i(0);if(g===0)return null;a=(a=f)!=null?(a=a.viewer_current_actor)!=null?a.id:a:a;c=(c=f)!=null?c.share_fbid:c;if(!a){b("FBLogger")("ufi2").mustfix("UFI2SharesCount tried to render without an actor ID. Feedback Target ID: %s",f.id);return null}if(!c){b("FBLogger")("ufi2").mustfix("UFI2SharesCount tried to render without a share FBID. Feedback Target ID: %s",f.id);return null}var k=b("ActorURI").create(new(b("URI"))("/shares/view").setSubdomain("www").setQueryData({id:c}),a);c=b("ActorURI").create(new(b("URI"))("/ajax/shares/view").setQueryData({target_fbid:c}),a);return b("React").createElement(b("LazyContentTooltip.react"),{className:b("joinClasses")("_355t",e),contentRenderer:b("JSResource")("UFI2SharesCountTooltipContent.react").__setRef("UFI2SharesCount.react"),contentRendererProps:{environment:d.environment,feedbackTargetID:f.id},mountedWhileHidden:!1},b("React").createElement(b("AbstractButton.react"),{ajaxify:c,"aria-live":"polite",className:"_3rwx","data-testid":"UFI2SharesCount/root",href:k,label:h._({"*":"{number} Shares","_1":"1 Share"},[h._plural(g,"number",j)]),onClick:this.$1,rel:"dialog",role:"button"}))};function a(){j.apply(this,arguments)}a.displayName="UFI2SharesCount";e.exports=c(a,{feedback:function(){return b("UFI2SharesCount_feedback.graphql")}})}),null);
__d("UFI2ReactionIconTooltipTitle.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.children;return b("React").createElement("div",{className:"_27ne"},a)}e.exports=a}),null);
__d("UFI2TopReactions_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2TopReactions_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"ScalarField",alias:"i18n_reaction_count",name:"reaction_count_reduced",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"localized_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]}]}}();e.exports=a}),null);
__d("getReactionKeyFromType",["invariant","FeedbackReactionType"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=b("FeedbackReactionType")[a];a||g(0);return a}e.exports=a}),null);
__d("UFI2TopReactions.react",["cx","fbt","invariant","AbstractButton.react","JSResource","LazyContentTooltip.react","React","ReactDOM","RelayModern","RTLKeys","UFI2ReactionIconTooltipTitle.react","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","getReactionKeyFromType","idx","joinClasses","nullthrows","UFI2TopReactions_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1={},this.state={selectedReactionIndex:null},this.$4=function(event){switch(event.keyCode){case b("RTLKeys").getLeft():event.preventDefault();this.$3(-1);break;case b("RTLKeys").getRight():event.preventDefault();this.$3(1);break}}.bind(this),c}a.prototype.componentDidUpdate=function(){var a=this.state.selectedReactionIndex;if(a!==null){a=b("ReactDOM").findDOMNode(this.$1[a]);a&&a.focus()}};a.prototype.$3=function(a){var c=this.props.feedback.top_reactions,d=b("nullthrows")((c=c)!=null?c.edges:c);this.setState(function(b){return{selectedReactionIndex:Math.max(0,Math.min(b.selectedReactionIndex+a,d.length-1))}})};a.prototype.$5=function(a,c,d){__p&&__p();var e,f,g=this.props.relay.environment,j=this.state.selectedReactionIndex;e=(e=c)!=null?e.i18n_reaction_count:e;f=(f=c)!=null?(f=f.node)!=null?f.localized_name:f:f;c=(c=c)!=null?(c=c.node)!=null?c.reaction_type:c:c;var k=this.props.feedback.id;c||i(0);k||i(0);var l=b("getReactionKeyFromType")(c);a=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:a,feedbackTargetID:k,reactionKey:l});var m=j===null;j=j===d;m=m&&d===0||j?0:-1;j=b("React").createElement("div",null,b("React").createElement(b("UFI2ReactionIconTooltipTitle.react"),null,f),h._("Loading\u2026"));return b("React").createElement(b("LazyContentTooltip.react"),{className:"_1n9k",contentRenderer:b("JSResource")("UFI2ReactionIconTooltipContent.react").__setRef("UFI2TopReactions.react"),contentRendererProps:{environment:g,feedbackTargetID:k,i18nReactionName:f,reactionType:c},"data-testid":"UFI2TopReactions/tooltip_"+c,key:l,mountedWhileHidden:!1,placeholder:j,tabIndex:-1},b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},a,{"aria-label":h._("{i18nReactionCount} {i18nReactionName}",[h._param("i18nReactionCount",e),h._param("i18nReactionName",f)]),className:"_1n9l",label:[b("React").createElement(b("UFIReactionIconImpl.react"),{className:"_1n9q",key:"reactionIcon",reaction:l})],ref:function(a){this.$1[d]=a}.bind(this),role:"button",tabIndex:m})))};a.prototype.render=function(){__p&&__p();var a=this.props,c=a.className;a=a.feedback;var d=a.top_reactions;d=(d=d)!=null?d.edges:d;d||i(0);var e=(a=a)!=null?(a=a.viewer_current_actor)!=null?a.id:a:a;e||i(0);if(d.length===0)return null;a=d.slice(0,3);return b("React").createElement("span",{"aria-label":h._("See who reacted to this"),className:b("joinClasses")("_1n9r",c),onKeyDown:this.$4,ref:function(a){this.$2=a}.bind(this),role:"toolbar"},a.map(function(a,b){return this.$5(e,a,b)}.bind(this)))};a.displayName="UFI2TopReactions";e.exports=c(a,{feedback:function(){return b("UFI2TopReactions_feedback.graphql")}})}),null);
__d("UFI2ViewCount_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2ViewCount_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"video_view_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_view_count_reduced",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"total_video_posts",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"video_post_view_count",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2ViewCount.react",["cx","fbt","React","RelayModern","Tooltip.react","idx","joinClasses","renderCrosspostedTooltipText","UFI2ViewCount_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function i(event){}function j(event){}function a(a){__p&&__p();var c,d,e,f,g=a.className;a=a.feedback;c=(c=a)!=null?c.video_view_count:c;d=(d=a)!=null?d.video_view_count_reduced:d;e=(e=a)!=null?e.total_video_posts:e;f=(f=a)!=null?f.video_post_view_count:f;if(a==null||c==null||d==null||e==null||f==null)return null;a=Math.max(0,c-f);a=b("renderCrosspostedTooltipText")({otherPostsViews:a,postViews:f,posts:e});return b("React").createElement(b("Tooltip.react"),{"aria-live":"polite",className:b("joinClasses")("_26fq"+(a?" _26fr":""),g),"data-hover":"tooltip","data-testid":"UFI2ViewCount/root","data-tooltip-alignh":"left","data-tooltip-position":"above",onClick:i,onMouseOver:j,tooltip:a},h._({"*":"{count} Views","_1":"{count} View"},[h._param("count",d),h._plural(c)]))}e.exports=c(a,{feedback:function(){return b("UFI2ViewCount_feedback.graphql")}})}),null);
__d("FeedStoryUFISummary.react",["cx","BootloadedComponent.react","JSResource","React","RelayModern","TrackingNodes","UFI2CommentsCount.react","UFI2ErrorBoundary.react","UFI2PrivateReplyIndicator.react","UFI2ReactionsCount.react","UFI2SeenByCount.react","UFI2SharesCount.react","UFI2TopReactions.react","UFI2ViewCount.react","joinClasses","idx","FeedStoryUFISummary_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=b("BootloadedComponent.react").create(b("JSResource")("UFI2ViewOptionsSelector.react").__setRef("FeedStoryUFISummary.react"));function a(a){__p&&__p();var c,d=a.commentsListRenderProps,e=a.feedback;a=a.onClickCommentsCount;var f=e.available_view_options,g=e.can_show_seen_by,j=e.comment_count,k=e.is_unseen,l=e.reaction_count,m=e.seen_by_count,n=e.share_count,o=e.video_view_count;c=(c=e)!=null?(c=c.page_private_reply)!=null?c.status:c:c;var p=d.Actions.setViewOption,q=d.isInitiallyExpanded;d=d.viewOption;m=((m=m)!=null?m.count:m)||0;g=g===!0&&m>0;j=(m=j)!=null?m.total_count:m;l=(m=l)!=null?m.count:m;n=(m=n)!=null?m.count:m;m=b("UFI2PrivateReplyIndicator.react").shouldRender(c);if(!g&&!j&&!l&&!n&&!o&&!m)return null;c=null;n=((g=f)!=null?g.available_view_options:g)||[];o=q&&j&&j>0&&n&&n.length>1;o&&(c=b("React").createElement(h,{bootloadPlaceholder:b("React").createElement("div",{className:"_68x7"}),className:"_2pm1",feedback:e,onChange:function(a){return p({viewOption:a})},selectedViewOption:d,viewOptions:n}));return b("React").createElement("div",{className:"_68wo","data-testid":"fbFeedStoryUFI/feedbackSummary"},b("React").createElement("div",{className:"_3vum"},l?b("React").createElement(b("React").Fragment,null,b("React").createElement("div",{className:"_66lg"},b("React").createElement(b("UFI2ErrorBoundary.react"),null,b("React").createElement(b("UFI2TopReactions.react"),{className:"_66lh",feedback:e})),b("React").createElement(b("UFI2ErrorBoundary.react"),null,b("React").createElement(b("UFI2ReactionsCount.react"),{className:"_66li",feedback:e}))),b("React").createElement("div",{className:"_1r48"})):null,o?c:b("React").createElement(i,{className:l?"":"_4jlh",feedback:e,onClickCommentsCount:a}),m?b("React").createElement(b("UFI2PrivateReplyIndicator.react"),{className:"_4jlj"+(l?"":" _4jlh")}):null),k===!0?b("React").createElement("div",{className:"_68wp"}):null)}function i(a){var c=a.feedback,d=a.onClickCommentsCount,e=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.BLINGBOX);return b("React").createElement("div",{className:b("joinClasses")("_4vn1",a.className)},b("React").createElement(b("UFI2ErrorBoundary.react"),null,b("React").createElement(b("UFI2CommentsCount.react"),{className:"_4vn2",feedback:c,onClick:d,trackingInfo:e})),b("React").createElement(b("UFI2ErrorBoundary.react"),null,b("React").createElement(b("UFI2SharesCount.react"),{className:"_4vn2",feedback:c})),b("React").createElement(b("UFI2ErrorBoundary.react"),null,b("React").createElement(b("UFI2SeenByCount.react"),{className:"_4vn2",feedback:c})),b("React").createElement(b("UFI2ErrorBoundary.react"),null,b("React").createElement(b("UFI2ViewCount.react"),{className:"_4vn2",feedback:c})))}a.displayName="FeedStoryUFISummary";e.exports=c(a,{feedback:function(){return b("FeedStoryUFISummary_feedback.graphql")}})}),null);
__d("RelayPreloadedQueryRenderer.react",["FBLogger","PreloadedRelayQueryRendererContext","React","RelayAsyncDataPreloader","RelayModern"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g,h=b("PreloadedRelayQueryRendererContext").Consumer,i=b("RelayModern").QueryRenderer;function j(a){if(!a)return"Null Query";else if(typeof a==="function")return a().name;else if(a.modern)return a.modern().name;return"Unknown Query"}c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.hasRendered=!1,this.enforcedRenderer=function(a){var c=this.props,d=c.query;c=c.render;if(!this.hasRendered){var e=a.error!=null||a.props!=null;e||b("FBLogger")("enforcePreloadedQueryRenderer").mustfix("Failed to find preloaded query %s cache results.",j(d));this.hasRendered=!0}return c(a)}.bind(this),c}a.prototype.render=function(){var a=this.props,c=a.query,d=a.cacheConfig,e=babelHelpers.objectWithoutProperties(a,["query","cacheConfig"]),f=d?d.metadata:{};return b("React").createElement(h,null,function(a){if(a==null){b("FBLogger")("enforcePreloadedQueryRenderer").mustfix("Failed to get preloaded query (%s) variables.",j(c));return null}else return b("React").createElement(i,babelHelpers["extends"]({},e,{cacheConfig:babelHelpers["extends"]({metadata:babelHelpers["extends"]({prefetchedResponseProvider:a.getPrefetchedResponseCache()},f)},d),query:c,render:this.enforcedRenderer,variables:a.getQueryVariables()}))}.bind(this))};e.exports=a}),null);
__d("RelayUFI2Environment",["ActorURIConfig","FBLogger","RelayAPIConfig","RelayFBEnvironment","RelayFBSubscribeFunction","RelayQueryResponseCache","RelayRuntime","createRelayFBNetwork","createRelayFBNetworkFetch"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").Environment;c=b("RelayRuntime").Observable;var h=b("RelayRuntime").RecordSource,i=b("RelayRuntime").Store,j=10,k=5*60*1e3,l={};c.onUnhandledError(function(a,c){var d=b("FBLogger")("ufi2");a instanceof Error&&d.catching(a);c?d.mustfix("Observable had an uncaught error"):d.warn("Observable had an error")});l[b("RelayAPIConfig").actorID]=b("RelayFBEnvironment");function a(a){if(!Object.prototype.hasOwnProperty.call(l,a)){var c=b("createRelayFBNetwork")(b("createRelayFBNetworkFetch")({getAdditionalData:function(){var c;return c={},c[b("ActorURIConfig").PARAMETER_ACTOR]=a,c},queryResponseCache:new(b("RelayQueryResponseCache"))({size:j,ttl:k})}),b("RelayFBSubscribeFunction")),d=new h();d=new i(d);l[a]=new g({network:c,store:d})}return l[a]}e.exports={forActor:a}}),null);
__d("UFI2ActorSelector_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b=[a];return{kind:"Fragment",name:"UFI2ActorSelector_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"can_see_voice_switcher",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer_acts_as_page",storageKey:null,args:null,concreteType:"Page",plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"viewer_acts_as_person_for_inline_voice",storageKey:null,args:null,concreteType:"User",plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"voice_switcher_actors",storageKey:null,args:null,concreteType:"VoiceSwitcherActorsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[a,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:"profile_picture(width:30)",args:[{kind:"Literal",name:"width",value:30,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]}]}]}}();e.exports=a}),null);
__d("UFI2ActorSelector.react",["cx","invariant","BizSiteIdentifier.brands","PageVoiceDropdownSelector.react","React","RelayModern","UFIODSLogger","UFIVersion","emptyFunction","idx","joinClasses","UFI2ActorSelector_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;a=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;c=babelHelpers.inherits(j,b("React").Component);i=c&&c.prototype;function j(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state=j.getDerivedStateFromProps(this.props),this.$1=function(a){b("UFIODSLogger").bump("actor_selector.on_change",b("UFIVersion").RELAY),this.props.onActorChange(a.value)}.bind(this),c}j.getDerivedStateFromProps=function(a){__p&&__p();if(!a.feedback.can_see_voice_switcher){var b;b=((b=a.feedback)!=null?(b=b.viewer_current_actor)!=null?b.id:b:b)||"";return{actorData:{},selectedActorID:b,userID:b}}b=((b=a.feedback)!=null?(b=b.voice_switcher_actors)!=null?b.nodes:b:b)||[];var c={};b.forEach(function(a){var b;b=(b=a)!=null?b.id:b;if(b){c[b]={name:(b=a)!=null?b.name:b,thumbSrc:(b=a)!=null?(b=b.profile_picture)!=null?b.uri:b:b}}});b=(b=a.feedback)!=null?(b=b.viewer_acts_as_page)!=null?b.id:b:b;a=(a=a.feedback)!=null?(a=a.viewer_acts_as_person_for_inline_voice)!=null?a.id:a:a;a!=null||h(0);a in c||h(0);return{actorData:c,selectedActorID:b||a,userID:a}};j.prototype.componentDidMount=function(){b("UFIODSLogger").bump("actor_selector.component_did_mount",b("UFIVersion").RELAY)};j.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")(this.props.className,"_29ak")},b("React").createElement(b("PageVoiceDropdownSelector.react"),{disabled:!1,onChange:this.$1,onClick:b("emptyFunction"),pages:this.state.actorData,searchBarVisible:!0,selectedActorID:this.state.selectedActorID,showBusinessPages:!1,showPersonalPagesInRoot:!b("BizSiteIdentifier.brands").isBizSite(),suppressed:!0,user:this.state.actorData[this.state.userID]}))};e.exports=a(j,{feedback:function(){return b("UFI2ActorSelector_feedback.graphql")}})}),null);
__d("UFI2ActionLink.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children;a=a.showIcon;a=a===undefined?!0:a;return b("React").createElement("span",{className:"_18vi"},c({className:"_18vj"+(a?" _18vk":"")}))}e.exports=a}),null);
__d("UFI2AnswerActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2AnswerActionLink_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"can_viewer_comment",args:[{kind:"Literal",name:"use_default_actor",value:!1,type:"Boolean"}],storageKey:"can_viewer_comment(use_default_actor:false)"},{kind:"ScalarField",alias:null,name:"is_q_and_a",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2AnswerActionLink.react",["cx","fbt","AbstractButton.react","React","RelayModern","UFI2ActionLink.react","joinClasses","UFI2AnswerActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.className,d=a.feedback,e=a.onClick;return d&&d.can_viewer_comment&&d.is_q_and_a?b("React").createElement(b("UFI2ActionLink.react"),null,function(a){a=a.className;return b("React").createElement(b("AbstractButton.react"),{className:b("joinClasses")("_2pgm",a,c),href:"#",label:h._("Answer"),onClick:e,role:"button",tabIndex:0,title:h._("Leave an answer")})}):null}a.displayName="UFI2AnswerActionLink";e.exports=c(a,{feedback:function(){return b("UFI2AnswerActionLink_feedback.graphql")}})}),null);
__d("UFI2CommentActorLink_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentActorLink_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"UFI2CommentActorVerifiedBadge_comment",args:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2CommentActorName_author",args:null}]},{kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2CommentActorName_author.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentActorName_author",type:"Actor",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2CommentActorName.react",["ProfileLink.react","React","RelayModern","UFI2CommentActorName_author.graphql"],(function(a,b,c,d,e,f){"use strict";c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.author;a=a.className;return c.id!=null&&c.url!=null?b("React").createElement(b("ProfileLink.react"),{className:a,href:c.url,uid:c.id},c.name):b("React").createElement("span",{className:a},c.name)}e.exports=c(a,{author:function(){return b("UFI2CommentActorName_author.graphql")}})}),null);
__d("UFI2CommentActorVerifiedBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null}];return{kind:"Fragment",name:"UFI2CommentActorVerifiedBadge_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Page",selections:a},{kind:"InlineFragment",type:"User",selections:a}]}]}}();e.exports=a}),null);
__d("UFI2CommentActorVerifiedBadge.react",["Badge.react","React","RelayModern","UFI2CommentActorVerifiedBadge_comment.graphql"],(function(a,b,c,d,e,f){"use strict";c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){a=a.comment.author;return!a||!a.is_verified?null:b("React").createElement(b("Badge.react"),{size:"xsmall",type:"verified"})}e.exports=c(a,{comment:function(){return b("UFI2CommentActorVerifiedBadge_comment.graphql")}})}),null);
__d("UFI2CommentActorLink.react",["cx","React","RelayModern","UFI2CommentActorName.react","UFI2CommentActorVerifiedBadge.react","joinClasses","UFI2CommentActorLink_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.className;a=a.comment;var d=a.author;return!d?null:b("React").createElement(b("React").Fragment,null,b("React").createElement(b("UFI2CommentActorName.react"),{author:d,className:b("joinClasses")(a.is_author_weak_reference?"_2so8":"",c)}),b("React").createElement(b("UFI2CommentActorVerifiedBadge.react"),{comment:a}))}a.displayName="UFI2CommentActorLink";e.exports=c(a,{comment:function(){return b("UFI2CommentActorLink_comment.graphql")}})}),null);
__d("UFI2CommentAnimatedImageAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Literal",name:"height",value:396,type:"Int"},b={kind:"Variable",name:"scale",variableName:"scale",type:"Float"},c={kind:"Literal",name:"width",value:396,type:"Int"},d=[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null}];return{kind:"Fragment",name:"UFI2CommentAnimatedImageAttachment_attachment",type:"StoryAttachment",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:"gifAnimatedImage_396",name:"animated_image",storageKey:null,args:[a,{kind:"Literal",name:"media_type",value:"image/gif",type:"String"},b,c],concreteType:"Image",plural:!1,selections:d},{kind:"LinkedField",alias:"image_396",name:"image",storageKey:null,args:[a,b,c],concreteType:"Image",plural:!1,selections:d},{kind:"LinkedField",alias:"webPAnimatedImage_396",name:"animated_image",storageKey:null,args:[a,{kind:"Literal",name:"media_type",value:"image/webp",type:"String"},b,c],concreteType:"Image",plural:!1,selections:d},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"animated_image_attribution",args:null,storageKey:null}]}]}]}}();e.exports=a}),null);
__d("UFI2ScaleRect",["invariant"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){return h(a,!0)}function b(a){return h(a,!1)}function h(a,b){__p&&__p();var c=a.srcHeight,d=a.srcWidth,e=a.maxHeight;a=a.maxWidth;c>0||g(0);d>0||g(0);e>0||g(0);a>0||g(0);a=a/d;e=e/c;b=b?Math.min(a,e):Math.min(a,e,1);return{height:Math.round(c*b),width:Math.round(d*b)}}e.exports={scaleToContain:a,shrinkToContain:b}}),null);
__d("isAnimatedWebPSupported",["Promise","ifRequired","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g="imageFormatSupport/webP/animated",h=void 0;function a(){__p&&__p();if(h==null){var a=b("ifRequired")("WebStorage",function(a){a=a.getLocalStorageForRead();return a&&a.getItem(g)});a!=null?h=a==="1":(h=new(b("Promise"))(function(a,b){var c=new Image();c.onerror=function(){a(!1)};c.onload=function(){a(c.width==1)};c.src="data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}),b("promiseDone")(h,function(a){h=a;var c=b("ifRequired")("WebStorage",function(a){return a});c&&c.setItemGuarded(c.getLocalStorage(),g,a?"1":"0")}))}return h}e.exports=a}),null);
__d("isAnimatedWebPProbablySupported",["isAnimatedWebPSupported","isPromise"],(function(a,b,c,d,e,f){"use strict";function a(){var a=arguments.length<=0||arguments[0]===undefined?null:arguments[0],c=b("isAnimatedWebPSupported")();return b("isPromise")(c)?a?a.isBrowser("Chrome >= 32")||a.isBrowser("Opera >= 19"):!1:c}e.exports=a}),null);
__d("UFI2CommentAnimatedImageAttachment.react",["ix","cx","BootloadedComponent.react","FBLogger","Image.react","JSResource","Link.react","React","RelayModern","UFI2ScaleRect","asset","idx","ifRequired","isAnimatedWebPProbablySupported","joinClasses","UFI2CommentAnimatedImageAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=396;d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=b("isAnimatedWebPProbablySupported")(b("ifRequired")("UserAgent",function(a){return a})),this.state={videoPlayerController:null},this.$2=function(a){this.state.videoPlayerController==null&&this.setState({videoPlayerController:a})}.bind(this),c}a.prototype.render=function(){__p&&__p();var a,c,d,e,f;a=(a=this.props.attachment)!=null?a.url:a;var g=this.props.attachment.media;if(!g)return null;var h=void 0;this.$1?h=g.webPAnimatedImage_396||g.gifAnimatedImage_396:h=g.gifAnimatedImage_396;var i=g.image_396;g=g.id;c=(c=h)!=null?c.uri:c;d=(d=i)!=null?d.uri:d;e=((e=h)!=null?e.width:e)||((e=i)!=null?e.width:e);f=((f=h)!=null?f.height:f)||((f=i)!=null?f.height:f);if(!e||!f){b("FBLogger")("ufi2").addMetadata("UFI","RAW_DATA",JSON.stringify(h)||JSON.stringify(i)||"UNDEFINED").mustfix("Tried to render UFI2CommentAnimatedImageAttachment without a knownsize.");return null}if(c||g){h=b("UFI2ScaleRect").scaleToContain({maxHeight:j,maxWidth:j,srcHeight:f,srcWidth:e});i=h.height;f=h.width;return b("React").createElement("div",{className:b("joinClasses")("_1kom",this.props.className),style:{height:i,width:f}},g&&b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFI2CommentAnimatedImageAttachmentPlayer.react").__setRef("UFI2CommentAnimatedImageAttachment.react"),bootloadPlaceholder:b("React").createElement(b("Image.react"),{height:i,src:d,width:f}),height:i,onVpcUpdate:this.$2,videoID:g,width:f}),(!g||this.state.videoPlayerController)&&b("React").createElement(b("BootloadedComponent.react"),{animatedSrc:c,autoplay:this.props.autoplay,bootloadLoader:b("JSResource")("FeedAnimatedImageShare.react").__setRef("UFI2CommentAnimatedImageAttachment.react"),bootloadPlaceholder:b("React").createElement("div",null),fbid:g,height:i,href:a,isPlayableInline:c!=null,overlayNode:this.$3(),staticSrc:d,videoController:this.state.videoPlayerController,videoElement:this.state.videoPlayerController&&this.state.videoPlayerController.getContainerNode(),width:f}))}return null};a.prototype.$3=function(){var a,c;a=(a=this.props)!=null?(a=a.attachment)!=null?a.url:a:a;c=(c=this.props)!=null?(c=c.attachment)!=null?(c=c.media)!=null?c.animated_image_attribution:c:c:c;return c&&a?b("React").createElement(b("Link.react"),{className:"_336k",href:a,rel:"noopener nofollow",target:"_blank"},b("React").createElement("div",{className:"_336m"},c),b("React").createElement(b("Image.react"),{className:"_336n",src:g("412470")})):null};a.displayName="UFI2CommentAnimatedImageAttachment";e.exports=c(a,{attachment:function(){return b("UFI2CommentAnimatedImageAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentAttachments_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2CommentAttachments_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"UFI2CommentServerAttachment_comment",args:null},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},{kind:"FragmentSpread",name:"UFI2CommentAnimatedImageAttachment_attachment",args:null},{kind:"FragmentSpread",name:"UFI2CommentFallbackAttachment_attachment",args:null},{kind:"FragmentSpread",name:"UFI2CommentImageAttachment_attachment",args:null},{kind:"FragmentSpread",name:"UFI2CommentStickerAttachment_attachment",args:null},{kind:"FragmentSpread",name:"UFI2CommentVideoAttachment_attachment",args:null}]},{kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[a]},a]}}();e.exports=a}),null);
__d("IntegrityContextEntryPointJSEnum",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({NEWS_FEED_LEARN_MORE:"news_feed_learn_more",INSTANT_ARTICLES_FOOTER:"instant_articles_footer",INSTANT_ARTICLES_BYLINE:"instant_articles_byline",NEWS_FEED_AUTHOR_PIVOT:"news_feed_author_pivot",POLITICAL_AD_SUBTITLE:"political_ad_subtitle",POLITICAL_AD_INFO_ICON:"political_ad_info_icon",STORIES_LEARN_MORE:"stories_learn_more",BRANDED_CONTENT_INFO_ICON:"branded_content_info_icon"})}),null);
__d("UFI2CommentArticleContext_actionLink.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentArticleContext_actionLink",type:"ArticleContextActionLink",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"integrity_context_title",args:null,storageKey:null}]};e.exports=a}),null);
__d("XArticleContextMainDialogController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/feed/article_context/dialog/",{share_id:{type:"FBID",required:!0},entry_type:{type:"Enum",required:!0,enumType:1},trigger_log_id:{type:"String"},ft_msg:{type:"String"},__asyncDialog:{type:"Int"}})}),null);
__d("UFI2CommentArticleContext.react",["cx","IntegrityContextEntryPointJSEnum","React","RelayModern","XArticleContextMainDialogController","tooltipPropsFor","UFI2CommentArticleContext_actionLink.graphql"],(function(a,b,c,d,e,f,g){"use strict";c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){a=a.actionLink;return b("React").createElement("a",babelHelpers["extends"]({},b("tooltipPropsFor")(a.integrity_context_title,"above","right"),{ajaxify:b("XArticleContextMainDialogController").getURIBuilder().setFBID("share_id",a.object_id).setEnum("entry_type",b("IntegrityContextEntryPointJSEnum").NEWS_FEED_LEARN_MORE).getURI(),className:"_3w8w",rel:"dialog-post"}),b("React").createElement("i",{className:"_3w97"}))}e.exports=c(a,{actionLink:function(){return b("UFI2CommentArticleContext_actionLink.graphql")}})}),null);
__d("UFI2CommentFallbackAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},b=[{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}];return{kind:"Fragment",name:"UFI2CommentFallbackAttachment_attachment",type:"StoryAttachment",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],selections:[a,{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"title_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"ExternalUrl",selections:[a]}]},{kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"FragmentSpread",name:"UFI2CommentArticleContext_actionLink",args:null}]},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"LinkedField",alias:"fallback_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:98,type:"Int"},{kind:"Variable",name:"scale",variableName:"scale",type:"Float"},{kind:"Literal",name:"width",value:98,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null}]}}();e.exports=a}),null);
__d("UFI2CommentFallbackAttachment.react",["cx","Image.react","Link.react","LitestandEllipsis","React","RelayModern","UFI2CommentArticleContext.react","UFI2ScaleRect","idx","UFI2CommentFallbackAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c,d,e,f,g,i;a=a.attachment;c=((c=a.target)!=null?c.url:c)||a.url;d=(d=a.title_with_entities)!=null?d.text:d;e=(e=a.source)!=null?e.text:e;f=(f=a.media)!=null?(f=f.fallback_image)!=null?f.uri:f:f;g=(g=a.media)!=null?(g=g.fallback_image)!=null?g.width:g:g;i=(i=a.media)!=null?(i=i.fallback_image)!=null?i.height:i:i;var j=null;if(f&&g&&i){i=b("UFI2ScaleRect").scaleToContain({maxHeight:98,maxWidth:98,srcHeight:i,srcWidth:g});g=i.height;i=i.width;j=f&&b("React").createElement(b("React").Fragment,null,b("React").createElement(b("Image.react"),{alt:d||e,className:"_ns-",height:g,src:f,width:i}),((g=a.media)!=null?g.is_playable:g)?b("React").createElement("i",{className:"_6a14"}):null)}f=null;a.action_links.forEach(function(a){a.__typename==="ArticleContextActionLink"&&(f=b("React").createElement(b("UFI2CommentArticleContext.react"),{actionLink:a}))});return b("React").createElement("div",{className:"_3mvp","data-ft":a.tracking},b("React").createElement("div",{className:"_6a15"},j&&b("React").createElement("div",{className:"_3mvu"},j),b("React").createElement("div",{className:"_3mvv"},e&&b("React").createElement("div",{className:"_2fj2"},b("React").createElement("div",{className:"_3mvw ellipsis"},e)),d&&b("React").createElement("div",{className:"_3mvr",ref:h},d),c&&b("React").createElement(b("Link.react"),{className:"_ns_",href:c,rel:"noopener nofollow",target:"_blank"},b("React").createElement("span",{className:"accessible_elem"},d||e)))),f)}a.displayName="UFI2CommentFallbackAttachment";function h(a){a&&b("LitestandEllipsis").add(a,40)}e.exports=c(a,{attachment:function(){return b("UFI2CommentFallbackAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentImageAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentImageAttachment_attachment",type:"StoryAttachment",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Photo",selections:[{kind:"ScalarField",alias:null,name:"accessibility_caption",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:240,type:"Int"},{kind:"Variable",name:"scale",variableName:"scale",type:"Float"},{kind:"Literal",name:"width",value:240,type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null}]}]}]}]};e.exports=a}),null);
__d("UFI2CommentImageAttachment.react",["cx","Image.react","Link.react","React","RelayModern","UFI2ScaleRect","idx","joinClasses","UFI2CommentImageAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c,d,e,f,g;c=(c=a)!=null?(c=c.attachment)!=null?(c=c.media)!=null?(c=c.image)!=null?c.uri:c:c:c:c;d=(d=a)!=null?(d=d.attachment)!=null?(d=d.media)!=null?(d=d.image)!=null?d.width:d:d:d:d;e=(e=a)!=null?(e=e.attachment)!=null?(e=e.media)!=null?(e=e.image)!=null?e.height:e:e:e:e;f=(f=a)!=null?(f=f.attachment)!=null?f.url:f:f;g=(g=a)!=null?(g=g.attachment)!=null?(g=g.media)!=null?g.accessibility_caption:g:g:g;if(c&&f&&d&&e){e=b("UFI2ScaleRect").scaleToContain({maxHeight:240,maxWidth:240,srcHeight:e,srcWidth:d});d=e.height;e=e.width;return b("React").createElement(b("Link.react"),{className:b("joinClasses")("_65xo",a.className),href:f,rel:"theater"},b("React").createElement(b("Image.react"),{alt:g,height:d,src:c,width:e}))}return null}a.displayName="UFI2CommentImageAttachment";e.exports=c(a,{attachment:function(){return b("UFI2CommentImageAttachment_attachment.graphql")}})}),null);
__d("XUFI2FetchCommentShareAttachmentController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/comment/attachment/",{request_id:{type:"String",required:!0},comment_id:{type:"String",required:!0},feedback_source:{type:"Int",required:!0}})}),null);
__d("UFI2AttachmentLoader",["invariant","AsyncRequest","XUFI2FetchCommentShareAttachmentController","guid"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=new Map();function a(a){var c=b("guid")(),d=b("XUFI2FetchCommentShareAttachmentController").getURIBuilder().setInt("feedback_source",a.feedbackSource).setString("comment_id",a.commentID).setString("request_id",c).getRequest(new(b("AsyncRequest"))()).setErrorHandler(function(){a.onResponse(null)}).setAllowCrossPageTransition(!0);d.send();h.set(c,a.onResponse);return{abandon:function(){h["delete"](c),d.abandon()}}}function c(a,b){var c=h.get(a);c||g(0);c(b);h["delete"](a)}e.exports={request:a,setResponse:c}}),null);
__d("UFI2CommentServerAttachment_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentServerAttachment_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2CommentServerAttachment.react",["cx","DOMContainer.react","React","RelayModern","UFI2AttachmentLoader","UFI2CommentServerAttachment_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={element:null,loading:this.props.comment.id!=null},this.$1=null,b}a.prototype.componentDidMount=function(){var a=this.props.comment.id;if(a==null)return;a=b("UFI2AttachmentLoader").request({commentID:a,feedbackSource:this.props.feedbackSource,onResponse:function(a){this.setState({element:a,loading:!1})}.bind(this)});this.$1=a.abandon};a.prototype.componentWillUnmount=function(){this.$1&&(this.$1(),this.$1=null)};a.prototype.render=function(){return this.state.loading?null:this.state.element?b("React").createElement(b("DOMContainer.react"),{className:"_362t UFICommentContent _3-a6 _1blz",display:"block"},this.state.element):null};a.displayName="UFI2CommentServerAttachment";e.exports=c(a,{comment:function(){return b("UFI2CommentServerAttachment_comment.graphql")}})}),null);
__d("UFI2CommentSticker_sticker.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"height",value:80,type:"Int"},{kind:"Variable",name:"scale",variableName:"scale",type:"Float"},{kind:"Literal",name:"width",value:80,type:"Int"}],b={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2CommentSticker_sticker",type:"Sticker",metadata:null,argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"}],selections:[{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:a,concreteType:"Image",plural:!1,selections:[b]},{kind:"LinkedField",alias:"sticker_image",name:"image",storageKey:null,args:a,concreteType:"Image",plural:!1,selections:[b,{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("UFI2CommentSticker.react",["BootloadedComponent.react","JSResource","React","RelayModern","UFI2ScaleRect","idx","UFI2CommentSticker_sticker.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c,d,e=a.className;a=a.sticker;c=(c=a)!=null?c.sprite_image:c;d=(d=a)!=null?d.sticker_image:d;if(d==null)return null;var f=b("UFI2ScaleRect").scaleToContain({maxHeight:80,maxWidth:80,srcHeight:d.height||80,srcWidth:d.width||80}),g=f.height;f=f.width;var h=b("React").createElement("div",{style:{backgroundImage:"url("+(d.uri||"")+")",backgroundRepeat:"no-repeat",backgroundSize:f+"px "+g+"px",height:g,width:f}});return b("React").createElement(b("BootloadedComponent.react"),{accessibilityLabel:a.label,animationTrigger:"load_and_hover",bootloadLoader:b("JSResource")("Sticker.react").__setRef("UFI2CommentSticker.react"),bootloadPlaceholder:h,className:e,frameCount:a.frame_count,frameRate:a.frame_rate,framesPerCol:a.frames_per_column,framesPerRow:a.frames_per_row,packName:(h=a.pack)!=null?h.name:h,sourceHeight:g,sourceURI:d.uri,sourceWidth:f,spriteURI:c&&c.uri})}a.displayName="UFI2CommentSticker";e.exports=c(a,{sticker:function(){return b("UFI2CommentSticker_sticker.graphql")}})}),null);
__d("UFI2CommentStickerAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentStickerAttachment_attachment",type:"StoryAttachment",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:"sticker",name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Sticker",selections:[{kind:"FragmentSpread",name:"UFI2CommentSticker_sticker",args:null}]}]}]};e.exports=a}),null);
__d("UFI2CommentStickerAttachment.react",["FBLogger","React","RelayModern","UFI2CommentSticker.react","idx","UFI2CommentStickerAttachment_attachment.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){a=(a=a)!=null?(a=a.attachment)!=null?a.sticker:a:a;if(a==null){b("FBLogger")("ufi2").mustfix("An attachment with the `sticker` style had a `null` media field. This should not be possible; investigate why.");return null}return b("React").createElement(b("UFI2CommentSticker.react"),{sticker:a})}a.displayName="UFI2CommentStickerAttachment";e.exports=c(a,{attachment:function(){return b("UFI2CommentStickerAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentVideoAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentVideoAttachment_attachment",type:"StoryAttachment",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]}]}]};e.exports=a}),null);
__d("UFI2CommentVideoAttachment.react",["cx","BootloadedComponent.react","FBLogger","Image.react","JSResource","React","RelayModern","UFI2ScaleRect","idx","joinClasses","UFI2CommentVideoAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var h=438;function a(a){__p&&__p();var c;c=(c=a.attachment)!=null?c.media:c;if(!c){b("FBLogger")("ufi2").mustfix("An attachment with the `video` style had a `null` media field. This should not be possible; investigate why.");return null}var d=c.id,e=c.width,f=c.height;if(d&&e&&f){f=b("UFI2ScaleRect").shrinkToContain({maxHeight:h,maxWidth:h,srcHeight:f,srcWidth:e});e=f.height;f=f.width;return b("React").createElement("div",{className:b("joinClasses")("_65tp",a.className),style:{height:e,width:f}},b("React").createElement(b("BootloadedComponent.react"),{autoplay:a.autoplay||!1,bootloadLoader:b("JSResource")("UFI2CommentVideoAttachmentPlayer.react").__setRef("UFI2CommentVideoAttachment.react"),bootloadPlaceholder:b("React").createElement(b("Image.react"),{height:e,src:(a=c.image)!=null?a.uri:a,width:f}),videoID:d}))}return null}a.displayName="UFI2CommentVideoAttachment";e.exports=c(a,{attachment:function(){return b("UFI2CommentVideoAttachment_attachment.graphql")}})}),null);
__d("UFI2CommentAttachments.react",["FBLogger","React","RelayModern","UFI2CommentAnimatedImageAttachment.react","UFI2CommentFallbackAttachment.react","UFI2CommentImageAttachment.react","UFI2CommentServerAttachment.react","UFI2CommentStickerAttachment.react","UFI2CommentVideoAttachment.react","UFI2Config","UFIODSLogger","UFIVersion","UFI2CommentAttachments_comment.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){var a=this.props.comment.attachments;return!a||a.length!==1?this.props.comment.attached_story&&!b("UFI2Config").shouldUseSimplifiedAttachments?b("React").createElement(b("UFI2CommentServerAttachment.react"),{comment:this.props.comment,feedbackSource:this.props.feedbackSource}):null:this.$1(a[0])};a.prototype.$1=function(a){__p&&__p();b("UFIODSLogger").bump("attachment_render.any",b("UFIVersion").RELAY);for(var c=a.style_list,d=Array.isArray(c),e=0,c=d?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(d){if(e>=c.length)break;f=c[e++]}else{e=c.next();if(e.done)break;f=e.value}f=f;switch(f){case"COMMENT_MESSAGE_INFO":return null;case"animated_image_autoplay":return b("React").createElement(b("UFI2CommentAnimatedImageAttachment.react"),{attachment:a,autoplay:!0});case"animated_image_share":return b("React").createElement(b("UFI2CommentAnimatedImageAttachment.react"),{attachment:a});case"photo":return b("React").createElement(b("UFI2CommentImageAttachment.react"),{attachment:a});case"sticker":return b("React").createElement(b("UFI2CommentStickerAttachment.react"),{attachment:a});case"video":return b("React").createElement(b("UFI2CommentVideoAttachment.react"),{attachment:a});case"video_autoplay":return b("React").createElement(b("UFI2CommentVideoAttachment.react"),{attachment:a,autoplay:!0});case"event":case"music_aggregation":case"video_share":if(!b("UFI2Config").shouldUseSimplifiedAttachments){b("UFIODSLogger").bump("attachment_render.server",b("UFIVersion").RELAY);return b("React").createElement(b("UFI2CommentServerAttachment.react"),{comment:this.props.comment,feedbackSource:this.props.feedbackSource})}}}return b("React").createElement(b("UFI2CommentFallbackAttachment.react"),{attachment:a})};function a(){g.apply(this,arguments)}a.displayName="UFI2CommentAttachments";e.exports=c(a,{comment:function(){return b("UFI2CommentAttachments_comment.graphql")}})}),null);
__d("UFI2CommentBodyTextWithEntities_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentBodyTextWithEntities_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"is_locally_composed",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2CommentBodyTextWithEntities_textWithEntities.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},b={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2CommentBodyTextWithEntities_textWithEntities",type:"TextWithEntities",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[a,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT",type:"TextDelightSurface"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},b]},c,d]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[a,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},b]},{kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},c,d]},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}}();e.exports=a}),null);
__d("interpolateUFI2TextWithRange",["cx","fbt","invariant","Link.react","ProfileLink.react","React","TextDelightRange.react","UFI2CommentBodyTextWithEntitiesConfig","URI","URITruncator","isFacebookURI","isRTL","nullthrows"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(a){a.url!=null||i(0);a=new(b("URI"))(a.url);b("isFacebookURI")(a)&&a.addQueryData({hc_location:"ufi"});return a}function a(a,c){__p&&__p();c=c;switch(c.__typename){case"DelightAtRange":c=c;var d=b("nullthrows")(c.campaign,"Expected a `campaign` property to be present on a range of type `DelightAtRange`.");return b("React").createElement(b("TextDelightRange.react"),{campaignID:d.id,delightStyles:d.delight_styles},a);case"EntityAtRange":d=b("nullthrows")(c.entity,"Expected an `entity` property to be present on a range of type `EntityAtRange`.");switch(d.__typename){case"ExternalUrl":return b("React").createElement(b("Link.react"),{dir:b("isRTL")(a)?"rtl":null,href:j(d),target:"_blank"},b("URITruncator")(a,b("UFI2CommentBodyTextWithEntitiesConfig").uriTruncationThreshold));case"Hashtag":return b("React").createElement(b("Link.react"),{className:"_3l3r",dir:b("isRTL")(a)?"rtl":null,href:j(d)},b("React").createElement("span",{"aria-label":h._("hashtag"),className:"_3l3v"},a.substring(0,1)),b("React").createElement("span",{className:"_3l3w"},a.substring(1)));default:c=c.entity_is_weak_reference;return b("React").createElement(b("ProfileLink.react"),{className:c?"_2-5h":"",dir:b("isRTL")(a)?"rtl":null,href:String(j(d)),uid:d.id||""},a)}default:return a}}e.exports=a}),null);
__d("UFI2CommentBodyTextWithEntities.react",["cx","Locale","React","RelayModern","TruncatedTextWithEntities.react","UFI2CommentBodyTextWithEntitiesConfig","UnicodeUtils","URITruncator","interpolateUFI2TextWithRange","nullthrows","UFI2CommentBodyTextWithEntities_comment.graphql","UFI2CommentBodyTextWithEntities_textWithEntities.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function h(a,b){return a.offset-b.offset}function i(a){return[].concat(a.ranges,a.delight_ranges).filter(function(a){return a!=null}).sort(h)}function j(a,c){switch(c.__typename){case"EntityAtRange":c=b("nullthrows")(c.entity,"Expected an `entity` property to be present on a range of type `EntityAtRange`.");switch(c.__typename){case"ExternalUrl":c=b("URITruncator")(a,b("UFI2CommentBodyTextWithEntitiesConfig").uriTruncationThreshold);return a.length-c.length;default:return 0}default:return 0}}function k(a){__p&&__p();var c=0,d=0,e=a.text;a=i(a);var f=a.length;for(var g=0;g<f;g++){var h=a[g];if(h.offset<c)continue;var k=b("UnicodeUtils").substr(e,h.offset,h.length);d+=j(k,h);c=h.offset+h.length}return d}function a(a){var c=!a.comment.is_locally_composed&&!a.isHighlighted,d=c?k(a.textWithEntities):0;return b("React").createElement(b("TruncatedTextWithEntities.react"),{allowSeeMoreLinebreakOnLongWords:!0,className:"_3l3x",dir:a.dir,interpolator:b("interpolateUFI2TextWithRange"),maxLength:c?420+d:null,maxLines:c?3:null,ranges:a.textWithEntities.ranges,renderEmoji:!0,renderEmoticons:b("UFI2CommentBodyTextWithEntitiesConfig").renderEmoticons,showEmojisStandalone:Boolean(a.isStandaloneEmojiComment),text:b("nullthrows")(a.textWithEntities.text,"Tried to render a comment, but the text of the comment was `null` or `undefined`."),textDelightRanges:a.textWithEntities.delight_ranges,truncationPercent:.6})}a.displayName="UFI2CommentBodyTextWithEntities";a.defaultProps={dir:b("Locale").isRTL()?"rtl":"ltr"};e.exports=c(a,{comment:function(){return b("UFI2CommentBodyTextWithEntities_comment.graphql")},textWithEntities:function(){return b("UFI2CommentBodyTextWithEntities_textWithEntities.graphql")}})}),null);
__d("UFI2CommentBody_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentBody_comment",type:"Comment",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"translation",type:"CommentPreferredBodyTranslation",defaultValue:null}],selections:[{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:null,args:[{kind:"Variable",name:"translation",variableName:"translation",type:"CommentPreferredBodyTranslation"}],concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"FragmentSpread",name:"UFI2CommentBodyTextWithEntities_textWithEntities",args:null},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]},{kind:"InlineFragment",type:"FBMarkdownCommentBody",selections:[{kind:"FragmentSpread",name:"UFI2FBMarkdownCommentBody_fbMarkdownCommentBody",args:null}]}]},{kind:"FragmentSpread",name:"UFI2CommentActorLink_comment",args:null},{kind:"FragmentSpread",name:"UFI2CommentBodyTextWithEntities_comment",args:null},{kind:"FragmentSpread",name:"UFI2FBMarkdownCommentBody_comment",args:null},{kind:"ScalarField",alias:null,name:"optimistic_error",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2FBMarkdownCommentBody_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2FBMarkdownCommentBody_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_locally_composed",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2FBMarkdownCommentBody_fbMarkdownCommentBody.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2FBMarkdownCommentBody_fbMarkdownCommentBody",type:"FBMarkdownCommentBody",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"fb_workplace_commonmark_ast_serialized",args:null,storageKey:null}]};e.exports=a}),null);
__d("withDisplayName",["getReactComponentDisplayName"],(function(a,b,c,d,e,f){"use strict";function a(a){return function(c){var d=a(c),e=a.name;c=b("getReactComponentDisplayName")(c);d.displayName=e+"("+c+")";return d}}e.exports=a}),null);
__d("injectSubscriptionsHandler.react",["React","SubscriptionsHandler","withDisplayName"],(function(a,b,c,d,e,f){__p&&__p();function a(a){__p&&__p();return function(){__p&&__p();var c,d;c=babelHelpers.inherits(e,b("React").Component);d=c&&c.prototype;function e(){var a,c;for(var e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return c=(a=d.constructor).call.apply(a,[this].concat(f)),this.state={subscriptionsHandler:new(b("SubscriptionsHandler"))()},c}e.prototype.componentWillUnmount=function(){"use strict";this.state.subscriptionsHandler.release()};e.prototype.render=function(){"use strict";return b("React").createElement(a,babelHelpers["extends"]({},this.props,{subscriptionsHandler:this.state.subscriptionsHandler}))};return e}()}e.exports=b("withDisplayName")(a)}),null);
__d("UFI2CommentBodyProgressiveCodeBlock.react",["cx","Bootloader","React","ifRequired","injectSubscriptionsHandler.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={UFI2CommentBodyCodeBlock:b("ifRequired")("UFI2CommentBodyCodeBlock.react",function(a){return a})},c}a.prototype.componentDidMount=function(){this.state.UFI2CommentBodyCodeBlock==null&&this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["UFI2CommentBodyCodeBlock.react"],function(a){return this.setState({UFI2CommentBodyCodeBlock:a})}.bind(this),"UFI2CommentBodyProgressiveCodeBlock.react"))};a.prototype.render=function(){var a=this.state.UFI2CommentBodyCodeBlock;if(a){var c=this.props;c.subscriptionsHandler;c=babelHelpers.objectWithoutProperties(c,["subscriptionsHandler"]);return b("React").createElement(a,babelHelpers["extends"]({},c,{className:b("joinClasses")("_3v3_",this.props.className)}))}else return b("React").createElement("pre",{className:b("joinClasses")("_3v3_",this.props.className)},this.props.children)};e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("UFI2CommentBodyProgressiveMathExpression.react",["cx","Bootloader","React","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").Component);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={UFI2CommentBodyMathExpression:b("ifRequired")("UFI2CommentBodyMathExpression.react",function(a){return a})},c}a.prototype.componentDidMount=function(){this.state.UFI2CommentBodyMathExpression==null&&this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["UFI2CommentBodyMathExpression.react"],function(a){return this.setState({UFI2CommentBodyMathExpression:a})}.bind(this),"UFI2CommentBodyProgressiveMathExpression.react"))};a.prototype.render=function(){var a=this.state.UFI2CommentBodyMathExpression;if(a){var c=this.props;c.subscriptionsHandler;c=babelHelpers.objectWithoutProperties(c,["subscriptionsHandler"]);return b("React").createElement(a,c)}else return b("React").createElement("span",{className:this.props.isBlockElement?"_2n8c":""},this.props.expression)};e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("UFI2SeeMoreLink.react",["cx","React","ShimButton.react","joinClasses","sdk.fbt"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement(b("ShimButton.react"),{className:b("joinClasses")("_2kqh",a.className),form:"link",onClick:function(){a.onSeeMore()}},b("sdk.fbt")._("See More"))}e.exports=a}),null);
__d("XHashtagViewSyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/hashtag/{query}/",{author:{type:"String"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"},source:{type:"String"}})}),null);
__d("UFI2FBWorkplaceCommonMarkNode.react",["cx","fbt","FBLogger","Link.react","ProfileLink.react","React","UFI2CommentBodyProgressiveCodeBlock.react","UFI2CommentBodyProgressiveMathExpression.react","UFI2SeeMoreLink.react","URITruncator","XHashtagViewSyncController","emptyFunction","isRTL"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return a.characterLimit==null?0:Math.max(0,a.accumulatedCharacterCount-a.characterLimit)}function j(a){return a.lineLimit==null?0:Math.max(0,a.accumulatedLines-a.lineLimit)}function k(a){return a.type==="BLOCKQUOTE"||a.type==="DOCUMENT"||a.type==="PREFORMATTED"||a.type==="TEXT"}function l(a){return a.type==="BLOCKQUOTE"||a.type==="BLOCK_MATH"||a.type==="DOCUMENT"||a.type==="HEADING"||a.type==="LIST"||a.type==="LIST_ITEM"||a.type==="NEWLINE"||a.type==="PARAGRAPH"||a.type==="PREFORMATTED"}function m(a){return a.type==="CODE"||a.type==="EMPHASIS"||a.type==="HEADING"||a.type==="STRONG"||a.type==="STRIKETHROUGH"||a.type==="UNDERLINE"}function n(a,b){return a.slice(0,b).replace(/\s*$/g,"")}function o(a,c){__p&&__p();m(a)&&c.styleModifierDepth++;var d=a.children.map(function(d,e){__p&&__p();c.lineLimit!=null&&c.accumulatedLines===c.lineLimit&&(l(d)||c.isInsideEmptyLineContainer===!0)&&(c.shouldTruncate=!0);if(c.shouldTruncate===!0)if(c.didRenderSeeMoreLink)return null;else if(k(a)){c.didRenderSeeMoreLink=!0;return b("React").createElement(b("UFI2SeeMoreLink.react"),{className:"_3loi",key:e,onSeeMore:c.onSeeMore})}else return null;else{c.index=e;c.styleModifierDepth===0&&(c.isInsideLastNodeOfLine=e===a.children.length-1);var f=p(d,c);c.shouldTruncate===!0&&c.didRenderSeeMoreLink===!1&&c.styleModifierDepth===0&&m(d)&&(c.didRenderSeeMoreLink=!0,f=b("React").createElement(b("React").Fragment,{key:e+"_inlineSeeMore"},f," ",b("React").createElement(b("UFI2SeeMoreLink.react"),{onSeeMore:c.onSeeMore})));return f}}).filter(Boolean);m(a)&&c.styleModifierDepth--;c.shouldTruncate===!0&&c.didRenderSeeMoreLink===!1&&k(a)===!0&&(c.didRenderSeeMoreLink=!0,d.push(b("React").createElement(b("UFI2SeeMoreLink.react"),{className:"_3loi",key:c.index+"_seeMoreLink",onSeeMore:c.onSeeMore})));return d}function p(a,c){__p&&__p();var d=c.index;c.isInsideEmptyLineContainer===!0?l(a)===!1&&(c.accumulatedLines+=1,c.isInsideEmptyLineContainer=!1):l(a)===!0&&(c.isInsideEmptyLineContainer=!0);var e=null;switch(a.type){case"BLOCK_MATH":c.accumulatedCharacterCount+=Math.ceil(a.expression.length*2/3);(c.characterLimit==null||c.accumulatedCharacterCount<=c.characterLimit)&&(e=b("React").createElement(b("UFI2CommentBodyProgressiveMathExpression.react"),{expression:a.expression,isBlockElement:!0,key:d}),c.accumulatedLines+=1,c.isInsideEmptyLineContainer=!0);break;case"BLOCKQUOTE":e=b("React").createElement("blockquote",{className:"_691i",key:d},o(a,c));break;case"CODE":var f=a.text,g=f.length;c.accumulatedCharacterCount+=g;var k=i(c);k>0&&(f=n(f,g-k)+"...");e=b("React").createElement("code",{className:"_7xn _691j",key:d},f);k>0&&(c.didRenderSeeMoreLink=!0,e=b("React").createElement(b("React").Fragment,{key:d},e," ",b("React").createElement(b("UFI2SeeMoreLink.react"),{onSeeMore:c.onSeeMore})));break;case"DOCUMENT":e=b("React").createElement("span",{className:"_23wn"},o(a,c));break;case"EMPHASIS":e=b("React").createElement("em",{className:"_4yxp",key:d},o(a,c));break;case"HASHTAG":g=a.text.length;c.accumulatedCharacterCount+=g;c.characterLimit==null||c.accumulatedCharacterCount<=c.characterLimit?e=b("React").createElement(b("Link.react"),{className:"_3l3r",dir:b("isRTL")(a.text)?"rtl":null,href:b("XHashtagViewSyncController").getURIBuilder().setString("query",a.text).getURI(),key:d},b("React").createElement("span",{"aria-label":h._("hashtag"),className:"_3l3v"},a.text.substring(0,1)),b("React").createElement("span",{className:"_3l3w",key:d},a.text.substring(1))):(c.didRenderSeeMoreLink=!0,e=b("React").createElement(b("React").Fragment,{key:d},"\u2026"," ",b("React").createElement(b("UFI2SeeMoreLink.react"),{onSeeMore:c.onSeeMore})));break;case"HEADING":e=a.level===1?b("React").createElement("h1",{className:"_691l",key:d},o(a,c)):b("React").createElement("h2",{className:"_691m",key:d},o(a,c));break;case"INLINE_MATH":c.accumulatedCharacterCount+=Math.ceil(a.expression.length*2/3);c.characterLimit==null||c.accumulatedCharacterCount<=c.characterLimit?e=b("React").createElement(b("UFI2CommentBodyProgressiveMathExpression.react"),{expression:a.expression,isBlockElement:!1,key:d}):(c.didRenderSeeMoreLink=!0,e=b("React").createElement(b("React").Fragment,{key:d},"\u2026"," ",b("React").createElement(b("UFI2SeeMoreLink.react"),{onSeeMore:c.onSeeMore})));break;case"LINK":c.isInsideLink=!0;f=o(a,c);c.isInsideLink=!1;c.characterLimit==null||c.accumulatedCharacterCount<=c.characterLimit?e=b("React").createElement(b("Link.react"),{className:"_691n","data-hovercard":a.hovercardEndpoint,href:a.url,key:d,title:a.title},f):(c.didRenderSeeMoreLink=!0,e=b("React").createElement(b("React").Fragment,{key:d},"\u2026"," ",b("React").createElement(b("UFI2SeeMoreLink.react"),{onSeeMore:c.onSeeMore})));break;case"LIST":e=a.listType==="ORDERED"?b("React").createElement("ol",{className:"_691o _691p",key:d},o(a,c)):b("React").createElement("ul",{className:"_691o _691q",key:d},o(a,c));break;case"LIST_ITEM":e=b("React").createElement("li",{className:"_23wo",key:d},o(a,c));break;case"MENTION":k=a.text.length;c.accumulatedCharacterCount+=k;c.characterLimit==null||c.accumulatedCharacterCount<=c.characterLimit?e=b("React").createElement(b("ProfileLink.react"),{className:"_23wq",key:d,uid:a.id},a.text):(c.didRenderSeeMoreLink=!0,e=b("React").createElement(b("React").Fragment,{key:d},"\u2026"," ",b("React").createElement(b("UFI2SeeMoreLink.react"),{onSeeMore:c.onSeeMore})));break;case"NEWLINE":e=b("React").createElement("br",{className:"_23ws",key:d});break;case"PARAGRAPH":e=b("React").createElement("p",{className:"_23xa",key:d},o(a,c));break;case"PREFORMATTED":g=a.text.replace(/\n$/,"");f=g.split("\n");c.accumulatedLines+=f.length;k=j(c);k>0&&(g=f.slice(0,f.length-k).join("\n"));f=g.length;c.accumulatedCharacterCount+=f;k=i(c);k>0&&(g=n(g,f-k)+"...");e=b("React").createElement(b("UFI2CommentBodyProgressiveCodeBlock.react"),{className:"_23xh",hasLineNumbers:!1,isClickToSelectEnabled:!1,key:d},g);break;case"STRIKETHROUGH":e=b("React").createElement("del",{className:"_4yxt",key:d},o(a,c));break;case"STRONG":e=b("React").createElement("strong",{className:"_4yxo",key:d},o(a,c));break;case"TEXT":f=a.text;if(c.isInsideLink)c.uriCharacterLimit!=null&&(f=b("URITruncator")(f,c.uriCharacterLimit)),c.accumulatedCharacterCount+=f.length,e=f;else{k=f.length;c.accumulatedCharacterCount+=k;g=i(c);if(g>0){k=n(f,k-g)+"\u2026";c.styleModifierDepth>0?e=k:(c.didRenderSeeMoreLink=!0,e=b("React").createElement(b("React").Fragment,{key:d},k," ",b("React").createElement(b("UFI2SeeMoreLink.react"),{onSeeMore:c.onSeeMore})))}else c.characterLimit!=null&&c.accumulatedCharacterCount===c.characterLimit&&c.isInsideLastNodeOfLine===!1?e=f+"\u2026":e=f}break;case"UNDERLINE":e=b("React").createElement("span",{className:"_4yxr",key:d},o(a,c));break;default:e=a}c.shouldTruncate=c.characterLimit!=null&&c.accumulatedCharacterCount>=c.characterLimit||l(a)&&c.lineLimit!=null&&c.accumulatedLines>=c.lineLimit;return e}function a(a){(a.characterLimit!=null||a.lineLimit!=null)&&a.onSeeMore==null&&b("FBLogger")("ufi2").mustfix("You supplied a character limit and/or a line break limit without supplying an `onSeeMore` callback. You have likely rendered an expand link that does not do anything.");var c={accumulatedCharacterCount:0,accumulatedLines:0,characterLimit:a.characterLimit,didRenderSeeMoreLink:!1,index:0,isInsideEmptyLineContainer:l(a.node),isInsideLastNodeOfLine:!0,isInsideLink:a.node.type==="LINK",lineLimit:a.lineLimit,onSeeMore:a.onSeeMore||b("emptyFunction"),shouldTruncate:!1,styleModifierDepth:m(a.node)?1:0,uriCharacterLimit:a.uriCharacterLimit};a=p(a.node,c);if(c.shouldTruncate===!0&&c.didRenderSeeMoreLink===!1)return b("React").createElement(b("React").Fragment,null,a,b("React").createElement(b("UFI2SeeMoreLink.react"),{className:"_3loi",onSeeMore:c.onSeeMore}));else return a}e.exports=a}),null);
__d("UFI2FBMarkdownCommentBody.react",["FBLogger","React","RelayModern","UFI2FBWorkplaceCommonMarkNode.react","idx","UFI2FBMarkdownCommentBody_comment.graphql","UFI2FBMarkdownCommentBody_fbMarkdownCommentBody.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").PureComponent);g=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state=function(){var a;a=!(this.props.isHighlighted||((a=this.props.comment)!=null?a.is_locally_composed:a));return{characterLimit:a?420:undefined,lineLimit:a?3:undefined}}.bind(this)(),this.$1=function(){this.setState(function(a){return a.characterLimit!=null||a.lineLimit!=null?{characterLimit:undefined,lineLimit:undefined}:null})}.bind(this),b}a.prototype.render=function(){var a=this.props.fbMarkdownCommentBody.fb_workplace_commonmark_ast_serialized;if(a==null){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",this.props.comment&&this.props.comment.id||"UNKNOWN").mustfix("Failed to fetch the AST to render `UFI2FBMarkdownCommentBody`.");return null}a=JSON.parse(a);return b("React").createElement(b("UFI2FBWorkplaceCommonMarkNode.react"),{characterLimit:this.state.characterLimit,lineLimit:this.state.lineLimit,node:a,onSeeMore:this.$1,uriCharacterLimit:60})};e.exports=c(a,{comment:function(){return b("UFI2FBMarkdownCommentBody_comment.graphql")},fbMarkdownCommentBody:function(){return b("UFI2FBMarkdownCommentBody_fbMarkdownCommentBody.graphql")}})}),null);
__d("UFI2CommentBody.react",["cx","Locale","React","RelayModern","TrackingNodes","UFI2CommentActorLink.react","UFI2CommentBodyTextWithEntities.react","UFI2FBMarkdownCommentBody.react","UnicodeBidi","joinClasses","UFI2CommentBody_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function h(a){__p&&__p();var c=a.comment;a=a.isHighlighted;if(c&&c.preferred_body)switch(c.preferred_body.__typename){case"FBMarkdownCommentBody":return{ContainerClass:"span",commentBodyElement:b("React").createElement(b("UFI2FBMarkdownCommentBody.react"),{comment:c,fbMarkdownCommentBody:c.preferred_body,isHighlighted:a})};case"TextWithEntities":if(c.preferred_body.text){var d=c.preferred_body,e=d.text;d=babelHelpers.objectWithoutProperties(d,["text"]);e=b("UnicodeBidi").isDirectionRTL(e);var f=b("Locale").isRTL(),g=(!e&&f?"_5wjy":"")+(e&&!f?" _5wj-":"")+(!e&&f?" _5wjz":"")+(e&&!f?" _5wj_":"");if(g){e=!e&&f?"ltr":"rtl";return{ContainerClass:"div",commentBodyElement:b("React").createElement("div",{className:g},b("React").createElement(b("UFI2CommentBodyTextWithEntities.react"),{comment:c,dir:e,isHighlighted:a,textWithEntities:d}))}}}return{ContainerClass:"p",commentBodyElement:b("React").createElement(b("UFI2CommentBodyTextWithEntities.react"),{comment:c,isHighlighted:a,textWithEntities:c.preferred_body})}}return{ContainerClass:"p",commentBodyElement:null}}function a(a){if(a.comment===undefined||a.comment===null)return null;var c=a.comment,d=h(a),e=d.ContainerClass;d=d.commentBodyElement;return b("React").createElement(e,{className:b("joinClasses")((c.optimistic_error?"_665e":"")+" _21p6",a.className),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_MESSAGE),"data-testid":"UFI2Comment/body"},b("React").createElement(b("UFI2CommentActorLink.react"),{className:"_21p8",comment:c}),d?b("React").createElement(b("React").Fragment,null," ",d):null)}a.displayName="UFI2CommentBody";e.exports=c(a,{comment:function(){return b("UFI2CommentBody_comment.graphql")}})}),null);
__d("UFI2CommentBodyStandaloneEmoji_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentBodyStandaloneEmoji_comment",type:"Comment",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"translation",type:"CommentPreferredBodyTranslation",defaultValue:"ORIGINAL"}],selections:[{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:null,args:[{kind:"Variable",name:"translation",variableName:"translation",type:"CommentPreferredBodyTranslation"}],concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"FragmentSpread",name:"UFI2CommentBodyTextWithEntities_textWithEntities",args:null}]}]},{kind:"FragmentSpread",name:"UFI2CommentBodyTextWithEntities_comment",args:null},{kind:"ScalarField",alias:null,name:"optimistic_error",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2CommentBodyStandaloneEmoji.react",["cx","React","RelayModern","TrackingNodes","UFI2CommentBodyTextWithEntities.react","joinClasses","UFI2CommentBodyStandaloneEmoji_comment.graphql"],(function(a,b,c,d,e,f,g){"use strict";c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){return b("React").createElement("span",{className:b("joinClasses")((a.comment.optimistic_error?"_4hfs":"")+" _4hft",a.className),"data-ft":b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.USER_MESSAGE),"data-testid":"UFI2Comment/bodyStandaloneEmoji"},a.comment.preferred_body?b("React").createElement(b("UFI2CommentBodyTextWithEntities.react"),{comment:a.comment,isHighlighted:a.isHighlighted,isStandaloneEmojiComment:!0,textWithEntities:a.comment.preferred_body}):null)}a.displayName="UFI2CommentBodyStandaloneEmoji";e.exports=c(a,{comment:function(){return b("UFI2CommentBodyStandaloneEmoji_comment.graphql")}})}),null);
__d("UFI2CommentErrorFooter_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentErrorFooter_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"optimistic_action",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2CreateCommentMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();var a=[{kind:"LocalArgument",name:"commentProfilePictureSizeDepth0",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth1",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"contextForFeedback",type:"String",defaultValue:null},{kind:"LocalArgument",name:"focusCommentID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"input",type:"CommentCreateData!",defaultValue:null},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"CommentCreateData!"}],c={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e={kind:"LinkedField",alias:null,name:"comment_menu_items",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,{kind:"InlineFragment",type:"CommentMenuItemDeleteAndRemoveMember",selections:[{kind:"ScalarField",alias:null,name:"show_remove_content_options",args:null,storageKey:null}]}]},f={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},i={kind:"Variable",name:"scale",variableName:"scale",type:"Float"},j={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},k=[j],l=[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1",type:"Int"},i,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1",type:"Int"}],m=[{kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null}];m={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[f,g,h,d,{kind:"LinkedField",alias:"profile_picture_depth_0",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth0",type:"Int"},i,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth0",type:"Int"}],concreteType:"Image",plural:!1,selections:k},{kind:"LinkedField",alias:"profile_picture_depth_1",name:"profile_picture",storageKey:null,args:l,concreteType:"Image",plural:!1,selections:k},{kind:"InlineFragment",type:"Page",selections:m},{kind:"InlineFragment",type:"User",selections:m}]};var n={kind:"Literal",name:"height",value:396,type:"Int"},o={kind:"Literal",name:"width",value:396,type:"Int"},p={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},q={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},r=[p,j,q];j=[j,q,p];var s={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},t=[s],u=[{kind:"Literal",name:"height",value:80,type:"Int"},i,{kind:"Literal",name:"width",value:80,type:"Int"}];n={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},h,{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"LinkedField",alias:"gifAnimatedImage_396",name:"animated_image",storageKey:null,args:[n,{kind:"Literal",name:"media_type",value:"image/gif",type:"String"},i,o],concreteType:"Image",plural:!1,selections:r},{kind:"LinkedField",alias:"image_396",name:"image",storageKey:null,args:[n,i,o],concreteType:"Image",plural:!1,selections:r},{kind:"LinkedField",alias:"webPAnimatedImage_396",name:"animated_image",storageKey:null,args:[n,{kind:"Literal",name:"media_type",value:"image/webp",type:"String"},i,o],concreteType:"Image",plural:!1,selections:r},f,{kind:"LinkedField",alias:"fallback_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:98,type:"Int"},i,{kind:"Literal",name:"width",value:98,type:"Int"}],concreteType:"Image",plural:!1,selections:r},{kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null},{kind:"InlineFragment",type:"Photo",selections:[{kind:"ScalarField",alias:null,name:"accessibility_caption",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:240,type:"Int"},i,{kind:"Literal",name:"width",value:240,type:"Int"}],concreteType:"Image",plural:!1,selections:j}]},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"animated_image_attribution",args:null,storageKey:null},q,p,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:k}]}]},{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t},{kind:"LinkedField",alias:null,name:"title_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:t},{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,f,{kind:"InlineFragment",type:"ExternalUrl",selections:[h]}]},{kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[d,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"integrity_context_title",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null},{kind:"LinkedField",alias:"sticker",name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,f,{kind:"InlineFragment",type:"Sticker",selections:[{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[g,f]},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:u,concreteType:"Image",plural:!1,selections:k},{kind:"LinkedField",alias:"sticker_image",name:"image",storageKey:null,args:u,concreteType:"Image",plural:!1,selections:j}]}]}]};o={kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[f,d]};r={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null};i={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null};q={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation:"ORIGINAL")',args:[{kind:"Literal",name:"translation",value:"ORIGINAL",type:"CommentPreferredBodyTranslation"}],concreteType:null,plural:!1,selections:[d,{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[d,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT",type:"TextDelightSurface"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},f]},r,i]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[d,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},f]},{kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},r,i]},s]},{kind:"InlineFragment",type:"FBMarkdownCommentBody",selections:[{kind:"ScalarField",alias:null,name:"fb_workplace_commonmark_ast_serialized",args:null,storageKey:null}]}]};p={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_author_muted",args:null,storageKey:null}]};t={kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null};u={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null};j={kind:"ScalarField",alias:null,name:"comment_menu_tooltip",args:null,storageKey:null};r={kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null};i={kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null};s={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null};var v={kind:"LinkedField",alias:null,name:"edit_history",storageKey:null,args:null,concreteType:"EditHistoryConnection",plural:!1,selections:[s]},w={kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},x={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},y={kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null},f,x]},{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null}]}]},z={kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null},s]},A={kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,f]},B={kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[x,f]};x={kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[x]};var C=[{kind:"Variable",name:"context_for_feedback",variableName:"contextForFeedback",type:"String"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID",type:"ID"},{kind:"Literal",name:"is_initial_fetch",value:!0,type:"Boolean"}],D={kind:"ScalarField",alias:null,name:"after_count",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"before_count",args:null,storageKey:null},F={kind:"ScalarField",alias:null,name:"is_hidden_by_viewer",args:null,storageKey:null},G={kind:"ScalarField",alias:null,name:"chat_to_buy",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"is_markdown_enabled",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},K={kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null}]},L={kind:"ScalarField",alias:null,name:"is_initially_expanded",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"page_size",args:null,storageKey:null},N={kind:"ScalarField",alias:null,name:"view_option",args:null,storageKey:null},O={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null}]},P={kind:"LinkedHandle",alias:null,name:"display_comments",args:C,handle:"connection",key:"UFI2CommentsProvider_feedback_display_comments",filters:["context_for_feedback","view_option"]};return{kind:"Request",operationKind:"mutation",name:"UFI2CreateCommentMutation",id:"2036963133012647",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2CreateCommentMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment_create",storageKey:null,args:b,concreteType:"CommentCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback_comment_edge",storageKey:null,args:null,concreteType:"CommentsEdge",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2Comment_comment",args:null},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2CommentsProvider_feedback",args:null}]}]}]}]}]},operation:{kind:"Operation",name:"UFI2CreateCommentMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment_create",storageKey:null,args:b,concreteType:"CommentCreateResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback_comment_edge",storageKey:null,args:null,concreteType:"CommentsEdge",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,m,f,n,o,q,p,t,u,j,r,i,v,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[w,f,y,z,A,B,x,{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:C,concreteType:"DisplayCommentsConnection",plural:!1,selections:[D,E,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,f,m,r,n,o,q,p,t,u,j,F,i,v,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[w,f,y,z,A,B,x,{kind:"ScalarField",alias:null,name:"can_viewer_comment",args:[{kind:"Literal",name:"use_default_actor",value:!1,type:"Boolean"}],storageKey:"can_viewer_comment(use_default_actor:false)"},{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:C,concreteType:"DisplayCommentsConnection",plural:!1,selections:[D,E,s,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[e,f,m,r,n,o,q,p,t,u,j,F,i,v,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[w,f,y,z,A,B,x]},G,H,h,I,J,K,d]},c]},{kind:"LinkedField",alias:null,name:"highlighted_comments",storageKey:null,args:null,concreteType:"Comment",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,g,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:l,concreteType:"Image",plural:!1,selections:k},f]},H,f]},L,M,N,O]},P]},G,H,h,I,J,K,d]},c]},L,M,N,O]},P]},G,H,h,I,J,K]}]}]}]}}}();e.exports=a}),null);
__d("displayCommentsConnectionCountUpdater",["FBLogger","RelayRuntime"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayRuntime").ConnectionHandler;function h(a){__p&&__p();var c=a.contextForFeedback,d=a.feedbackId,e=a.modifier,f=a.store,h=a.topLevelFeedbackId,i=a.totalCommentCountModifier;function j(a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",h||d||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id:"+(d||"UNKNOWN")+", comments_count_modifier:"+(i||e)+", conn_count_modifier:"+e).warn(a)}a=f.get(d);if(a==null){j("could not find feedback record");return}a=g.getConnection(a,"UFI2CommentsProvider_feedback_display_comments",{context_for_feedback:c});if(a==null){j("could not find display_comments connection");return}c=Math.max(0,Number(a.getValue("count"))+e);a.setValue(c,"count");a=f.get(h||d);if(a==null){j("could not find top level feedback record");return}c=a.getLinkedRecord("top_level_comments");if(c==null){j("could not find top level comments");return}f=c.getValue("total_count");j=Math.max(0,Number(f)+(i||e));c.setValue(j,"total_count");f=a.getValue("comment_count_reduced");Number(f).toString()===f&&a.setValue(j.toString(),"comment_count_reduced")}h.decrement=function(a){return h(babelHelpers["extends"]({},a,{modifier:-1}))};h.increment=function(a){return h(babelHelpers["extends"]({},a,{modifier:1}))};e.exports=h}),null);
__d("getRenderableBodyFromCommentMessage",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b){__p&&__p();if(a==null)return a;var c=a.ranges==null?[]:a.ranges.filter(Boolean);return babelHelpers["extends"]({},a,{__typename:"TextWithEntities",ranges:c.map(function(a){__p&&__p();var c=b[a.entity.id];if(c){c=c.getData();var d=c.isWeak,e=c.type;c=c.uri;return babelHelpers["extends"]({},a,{entity:babelHelpers["extends"]({},a.entity,{__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),url:c}),entity_is_weak_reference:!!d})}return null}).filter(Boolean)})}e.exports=a}),null);
__d("UFI2CreateCommentMutation",["invariant","FBLogger","RelayModern","RelayRuntime","ServerTime","WebPixelRatio","displayCommentsConnectionCountUpdater","getRenderableBodyFromCommentMessage","UFI2CreateCommentMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").applyOptimisticMutation,j=function(){return b("UFI2CreateCommentMutation.graphql")},k={},l=0;function m(a){__p&&__p();var c=a.actorID,d=a.commentProfilePictureSizeDepth0,e=a.commentProfilePictureSizeDepth1,f=a.contextForFeedback,o=a.environment,p=a.entitiesByID,q=a.input,r=a.onCompleted,s=a.topLevelFeedbackId;d={commentProfilePictureSizeDepth0:d,commentProfilePictureSizeDepth1:e,contextForFeedback:f,input:babelHelpers["extends"]({},q,{actor_id:c}),scale:b("WebPixelRatio").get()};var t="client:feedback_comment:"+l++,u=a.clientID||t,v=function(a){__p&&__p();return function(d){var e=d.get(c);e||g(0);var h=d.get(t);h||g(0);h.setLinkedRecord(e,"author");h.setValue("ADD","optimistic_action");a&&a.toString?h.setValue(a.toString(),"optimistic_error"):h.setValue(!0,"is_locally_composed");h.setValue(u,"client_id");b("displayCommentsConnectionCountUpdater").increment({contextForFeedback:f,feedbackId:q.feedback_id,store:d,topLevelFeedbackId:s})}},w={configs:[{connectionInfo:[{filters:{context_for_feedback:f},key:"UFI2CommentsProvider_feedback_display_comments",rangeBehavior:"prepend"}],edgeName:"feedback_comment_edge",parentID:q.feedback_id,type:"RANGE_ADD"}],mutation:j,optimisticResponse:n(q,t,p),optimisticUpdater:v(),variables:d},x=h(o,babelHelpers["extends"]({},w,{onCompleted:r,onError:function(c){k[t]=function(){if(!k[t]){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",t).warn("Tried to call a create comment mutation retry handle that was already removed.");return}x&&x.dispose();x=null;m(a);delete k[t]},x=i(o,babelHelpers["extends"]({},w,{optimisticResponse:n(q,t,p),optimisticUpdater:v(c)}))},updater:function(a){var c=a.getRootField("comment_create");c||g(0);c=c.getLinkedRecord("feedback_comment_edge");c||g(0);c=c.getLinkedRecord("node");c||g(0);c.setValue(!0,"is_locally_composed");c.setValue(u,"client_id");b("displayCommentsConnectionCountUpdater").increment({contextForFeedback:f,feedbackId:q.feedback_id,store:a,topLevelFeedbackId:s})}}));return{dispose:function(){x&&x.dispose(),x=null,delete k[t]}}}function n(a,c,d){return{comment_create:{feedback_comment_edge:{cursor:null,node:{__typename:"Comment",attachments:[],created_time:Math.round(b("ServerTime").getMillis()/1e3),feedback:{edges:[]},id:c,preferred_body:b("getRenderableBodyFromCommentMessage")(a.message,d)}}}}}function a(a){var c=k[a];if(!c){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found.");return null}return c}e.exports={commit:m,getRetryFn:a}}),null);
__d("UFI2CommentErrorFooter.react",["cx","fbt","FBLogger","React","RelayModern","UFI2CreateCommentMutation","UFI2CommentErrorFooter_comment.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c=a.comment.id;if(!c){b("FBLogger")("ufi2").mustfix("UFI2CommentErrorFooter tried to render without a comment ID");return null}var d=h._("Unable to post comment."),e=null;switch(a.comment.optimistic_action){case"ADD":e=b("UFI2CreateCommentMutation").getRetryFn(c);break;default:b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("UFI2CommentErrorFooter no specified behavior for action `%s`.",a.comment.optimistic_action)}e||b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",c||"UNKNOWN").warn("No mutation retry handler for action `%s`.",a.comment.optimistic_action);return b("React").createElement("div",{className:"_1m2l","data-testid":"UFI2CommentErrorFooter/root"},e?h._("{errorMessage} {retryLink}",[h._param("errorMessage",d),h._param("retryLink",b("React").createElement("a",{href:"#",onClick:e,role:"button"},h._("Try again")))]):d)}a.displayName="UFI2CommentErrorFooter";e.exports=c(a,{comment:function(){return b("UFI2CommentErrorFooter_comment.graphql")}})}),null);
__d("UFI2CommentMenu_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2CommentMenu_comment",type:"Comment",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_author_muted",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"comment_menu_tooltip",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"comment_menu_items",storageKey:null,args:null,concreteType:null,plural:!0,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"InlineFragment",type:"CommentMenuItemDeleteAndRemoveMember",selections:[{kind:"ScalarField",alias:null,name:"show_remove_content_options",args:null,storageKey:null}]}]}]}}();e.exports=a}),null);
__d("UFI2CommentMenu_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2CommentMenu_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]}]}}();e.exports=a}),null);
__d("UFI2CommentMenu.react",["cx","Bootloader","FBLogger","JSResource","React","RelayModern","XUIDotsButton.react","XUISpinner.react","idx","ifRequired","injectSubscriptionsHandler.react","joinClasses","UFI2CommentMenu_comment.graphql","UFI2CommentMenu_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i={CommentMenuItemDelete:b("JSResource")("getCommentMenuDeleteItem").__setRef("UFI2CommentMenu.react"),CommentMenuItemDeleteAndRemoveMember:b("JSResource")("getCommentMenuDeleteAndRemoveItem").__setRef("UFI2CommentMenu.react"),CommentMenuItemDivider:b("JSResource")("getCommentMenuItemDivider").__setRef("UFI2CommentMenu.react"),CommentMenuItemEdit:b("JSResource")("getCommentMenuEditItem").__setRef("UFI2CommentMenu.react"),CommentMenuItemHide:b("JSResource")("getCommentMenuHideItem").__setRef("UFI2CommentMenu.react"),CommentMenuItemMuteMember:b("JSResource")("getCommentMenuMuteCommenterItem").__setRef("UFI2CommentMenu.react")};function j(a){return a&&i[a.__typename]}function k(){var a=b("ifRequired")("ContextualDialogArrow",function(a){return a}),c=b("ifRequired")("PopoverMenu.react",function(a){return a}),d=b("ifRequired")("ReactXUIMenu",function(a){return a});return a&&c&&d?{ContextualDialogArrow:a,PopoverMenu:c,XUIMenu:d}:null}function l(a){a=((a=a)!=null?(a=a.comment)!=null?a.comment_menu_items:a:a)||[];return a.map(j).filter(Boolean)}function m(a){return a.every(function(a){return b("ifRequired").call(null,a.getModuleId(),function(){return!0},function(){return!1})})}d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state={itemsAreLoaded:m(l(this.props)),menuResources:k()},this.$4=!1,this.$5=function(a){__p&&__p();var c,d,e=j(a);if(!e)return null;e=b("ifRequired").call(null,e.getModuleId(),function(a){return a});if(!e){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",this.props.comment.id||"UNKNOWN").warn("Tried to render comment item before getter was loaded for item with type `%s`.",a.__typename);return null}c=(c=this.props)!=null?(c=c.feedback)!=null?(c=c.viewer_current_actor)!=null?c.id:c:c:c;d=(d=this.props)!=null?(d=d.comment)!=null?(d=d.author)!=null?d.id:d:d:d;return e({actorId:c,authorName:(e=this.props)!=null?(e=e.comment)!=null?(e=e.author)!=null?e.name:e:e:e,commentId:(e=this.props)!=null?(e=e.comment)!=null?e.id:e:e,confirmDeleteWithDialog:c===d,contextForFeedback:this.props.contextForFeedback,feedbackId:(e=this.props)!=null?(e=e.feedback)!=null?e.id:e:e,isMuted:(c=this.props)!=null?(c=c.comment)!=null?(c=c.group_comment_info)!=null?c.is_author_muted:c:c:c,itemType:a.__typename,legacyId:(d=this.props)!=null?(d=d.comment)!=null?d.legacy_fbid:d:d,legacyToken:(e=this.props)!=null?(e=e.comment)!=null?e.legacy_token:e:e,onEdit:this.props.onEdit,relay:this.props.relay,showRemoveContentOptions:a.__typename==="CommentMenuItemDeleteAndRemoveMember"&&a.show_remove_content_options,topLevelFeedbackId:this.props.topLevelFeedbackId})}.bind(this),this.$9=function(){this.$8()}.bind(this),this.$10=function(){this.$8(),this.$3||(this.$4=!this.$4)}.bind(this),c}a.getDerivedStateFromProps=function(a){return{itemsAreLoaded:m(l(a))}};a.prototype.$6=function(){if(this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["ContextualDialogArrow","PopoverMenu.react","ReactXUIMenu"],function(){return this.setState({menuResources:k()})}.bind(this),"UFI2CommentMenu.react"))};a.prototype.$7=function(){if(this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules.call(b("Bootloader"),l(this.props).map(function(a){return a.getModuleId()}),function(){this.setState({itemsAreLoaded:!0})}.bind(this)))};a.prototype.$8=function(){this.state.menuResources||this.$6(),this.state.itemsAreLoaded||this.$7()};a.prototype.componentDidUpdate=function(){this.$4&&this.$3&&(this.$3.showPopover(),this.$4=!1)};a.prototype.render=function(){__p&&__p();var a,c;a=(a=this.props)!=null?(a=a.comment)!=null?a.comment_menu_items:a:a;if(!a||!a.length)return null;c=(c=this.props)!=null?(c=c.comment)!=null?c.comment_menu_tooltip:c:c;c=c?{label:c,tooltip:c}:null;c=b("React").createElement(b("XUIDotsButton.react"),babelHelpers["extends"]({},c,{className:b("joinClasses")("_2f3a",this.props.className),onClick:this.$10,onMouseEnter:this.$9,type:"button"}));if(!this.state.menuResources)return c;var d=this.state.menuResources,e=d.ContextualDialogArrow,f=d.PopoverMenu;d=d.XUIMenu;a=this.state.itemsAreLoaded?a.map(this.$5).filter(Boolean):b("React").createElement(d.Item,{disabled:!0},b("React").createElement(b("XUISpinner.react"),{size:"small"}));d=b("React").createElement(d,{className:"_67lz"},a);return b("React").createElement(f,{alignh:"right",layerBehaviors:[e],menu:d,ref:function(a){return this.$3=a}.bind(this)},c)};e.exports=c(b("injectSubscriptionsHandler.react")(a),{comment:function(){return b("UFI2CommentMenu_comment.graphql")},feedback:function(){return b("UFI2CommentMenu_feedback.graphql")}})}),null);
__d("UFI2CommentRefetchQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"commentProfilePictureSizeDepth0",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth1",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"id",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null},{kind:"LocalArgument",name:"translation",type:"CommentPreferredBodyTranslation",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"id",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},g={kind:"Variable",name:"scale",variableName:"scale",type:"Float"},h={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},i=[h],j=[{kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null}],k={kind:"Literal",name:"height",value:396,type:"Int"},l={kind:"Literal",name:"width",value:396,type:"Int"},m={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},n={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},o=[m,h,n];h=[h,n,m];var p={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},q=[p],r=[{kind:"Literal",name:"height",value:80,type:"Int"},g,{kind:"Literal",name:"width",value:80,type:"Int"}],s={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},t={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null},u={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null};return{kind:"Request",operationKind:"query",name:"UFI2CommentRefetchQuery",id:"1587149564741087",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2CommentRefetchQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"Comment",selections:[{kind:"FragmentSpread",name:"UFI2Comment_comment",args:[{kind:"Variable",name:"translation",variableName:"translation",type:null}]}]}]}]},operation:{kind:"Operation",name:"UFI2CommentRefetchQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:b,concreteType:null,plural:!1,selections:[c,d,{kind:"InlineFragment",type:"Comment",selections:[{kind:"LinkedField",alias:null,name:"comment_menu_items",storageKey:null,args:null,concreteType:null,plural:!0,selections:[c,{kind:"InlineFragment",type:"CommentMenuItemDeleteAndRemoveMember",selections:[{kind:"ScalarField",alias:null,name:"show_remove_content_options",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,e,f,c,{kind:"LinkedField",alias:"profile_picture_depth_0",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth0",type:"Int"},g,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth0",type:"Int"}],concreteType:"Image",plural:!1,selections:i},{kind:"LinkedField",alias:"profile_picture_depth_1",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1",type:"Int"},g,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1",type:"Int"}],concreteType:"Image",plural:!1,selections:i},{kind:"InlineFragment",type:"Page",selections:j},{kind:"InlineFragment",type:"User",selections:j}]},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},f,{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,{kind:"LinkedField",alias:"gifAnimatedImage_396",name:"animated_image",storageKey:null,args:[k,{kind:"Literal",name:"media_type",value:"image/gif",type:"String"},g,l],concreteType:"Image",plural:!1,selections:o},{kind:"LinkedField",alias:"image_396",name:"image",storageKey:null,args:[k,g,l],concreteType:"Image",plural:!1,selections:o},{kind:"LinkedField",alias:"webPAnimatedImage_396",name:"animated_image",storageKey:null,args:[k,{kind:"Literal",name:"media_type",value:"image/webp",type:"String"},g,l],concreteType:"Image",plural:!1,selections:o},d,{kind:"LinkedField",alias:"fallback_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:98,type:"Int"},g,{kind:"Literal",name:"width",value:98,type:"Int"}],concreteType:"Image",plural:!1,selections:o},{kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null},{kind:"InlineFragment",type:"Photo",selections:[{kind:"ScalarField",alias:null,name:"accessibility_caption",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:240,type:"Int"},g,{kind:"Literal",name:"width",value:240,type:"Int"}],concreteType:"Image",plural:!1,selections:h}]},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"animated_image_attribution",args:null,storageKey:null},n,m,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:i}]}]},{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:q},{kind:"LinkedField",alias:null,name:"title_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:q},{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,d,{kind:"InlineFragment",type:"ExternalUrl",selections:[f]}]},{kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[c,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"integrity_context_title",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null},{kind:"LinkedField",alias:"sticker",name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,d,{kind:"InlineFragment",type:"Sticker",selections:[{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[e,d]},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:r,concreteType:"Image",plural:!1,selections:i},{kind:"LinkedField",alias:"sticker_image",name:"image",storageKey:null,args:r,concreteType:"Image",plural:!1,selections:h}]}]}]},{kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[d,c]},{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:null,args:[{kind:"Variable",name:"translation",variableName:"translation",type:"CommentPreferredBodyTranslation"}],concreteType:null,plural:!1,selections:[c,{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[c,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT",type:"TextDelightSurface"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},d]},s,t]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[c,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},d]},{kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},s,t]},p]},{kind:"InlineFragment",type:"FBMarkdownCommentBody",selections:[{kind:"ScalarField",alias:null,name:"fb_workplace_commonmark_ast_serialized",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_author_muted",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"comment_menu_tooltip",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edit_history",storageKey:null,args:null,concreteType:"EditHistoryConnection",plural:!1,selections:[u]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},d,{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null},d,v]},{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null},u]},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,d]},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[v,d]},{kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[v]}]},{kind:"ScalarField",alias:null,name:"chat_to_buy",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},f,{kind:"ScalarField",alias:null,name:"is_markdown_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null}]}]}]}]}}}();e.exports=a}),null);
__d("UFI2CommentRow_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"Variable",name:"scale",variableName:"scale",type:"Float"},b=[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}];return{kind:"Fragment",name:"UFI2CommentRow_actor",type:"Actor",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"shouldFetchProfileLinkData",type:"Boolean!",defaultValue:!0},{kind:"RootArgument",name:"scale",type:"Float"},{kind:"RootArgument",name:"commentProfilePictureSizeDepth0",type:"Int"},{kind:"RootArgument",name:"commentProfilePictureSizeDepth1",type:"Int"}],selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:"profile_picture_depth_0",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth0",type:"Int"},a,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth0",type:"Int"}],concreteType:"Image",plural:!1,selections:b},{kind:"LinkedField",alias:"profile_picture_depth_1",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1",type:"Int"},a,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1",type:"Int"}],concreteType:"Image",plural:!1,selections:b},{kind:"Condition",passingValue:!0,condition:"shouldFetchProfileLinkData",selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("UFI2CommentRow.react",["cx","fbt","Image.react","ProfileLink.react","React","RelayModern","UFI2SilhouetteConfig","idx","joinClasses","UFI2CommentRow_actor.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c=a.actor,d=a.avatarWrapperClassName,e=a.children,f=a.className,g=a.depth,i=a.isComposer;i=i===undefined?!1:i;a=babelHelpers.objectWithoutProperties(a,["actor","avatarWrapperClassName","children","className","depth","isComposer"]);var j=null;if(c){var k;k=g===0?((k=c.profile_picture_depth_0)!=null?k.uri:k)||b("UFI2SilhouetteConfig").neutralSilhouette32:((k=c.profile_picture_depth_1)!=null?k.uri:k)||b("UFI2SilhouetteConfig").neutralSilhouette20;k=b("React").createElement(b("Image.react"),{alt:c.name,className:"_3me-"+(g===0?" _3mf1":"")+(g===1?" _3mf2":""),src:k});c=c.id;d=b("joinClasses")("_3mf5"+(g===0?" _3mg0":"")+(g===1?" _3mg1":""),d);j=c!=null?b("React").createElement(b("ProfileLink.react"),{"aria-hidden":!0,className:d,tabIndex:-1,uid:c},k):b("React").createElement("span",{"aria-hidden":!0,className:d},k)}c=i?{}:{"aria-label":g===0?h._("Comment"):h._("Comment reply"),role:"article"};return b("React").createElement("div",babelHelpers["extends"]({className:f},c,a),j,e)}a.displayName="UFI2CommentRow";e.exports=c(a,{actor:function(){return b("UFI2CommentRow_actor.graphql")}})}),null);
__d("DOMIntersection",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.getBoundingClientRect();b=b.getBoundingClientRect();return!(a.right<b.left||a.left>b.right||a.bottom<b.top||a.top>b.bottom)}e.exports={isIntersecting:a}}),null);
__d("UFI2CommentTopReactions_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2CommentTopReactions_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]}]}}();e.exports=a}),null);
__d("UFI2CommentTopReactions.react",["cx","fbt","invariant","AbstractButton.react","JSResource","LazyContentTooltip.react","React","RelayModern","UFIReactionIconImpl.react","UFIReactionsProfileBrowserUtils","getReactionKeyFromType","idx","joinClasses","nullthrows","UFI2CommentTopReactions_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;j=babelHelpers.inherits(a,b("React").PureComponent);j&&j.prototype;a.prototype.$1=function(a,c,d){d=(a=c)!=null?(a=a.node)!=null?a.reaction_type:a:a;d||i(0);c=b("getReactionKeyFromType")(d);return b("React").createElement(b("UFIReactionIconImpl.react"),{className:"_1lg-",key:"UFIReactionIcon:"+c,reaction:c})};a.prototype.render=function(){__p&&__p();var a,c=this.props,d=c.className,e=c.feedback;c=c.relay;var f=e.top_reactions,g=e.reactors;g=(g=g)!=null?g.count_reduced:g;f=(f=f)!=null?f.edges:f;f!=null||i(0);var j=(a=e)!=null?(a=a.viewer_current_actor)!=null?a.id:a:a;j||i(0);g||i(0);if(f.length===0)return null;a=f.slice(0,3);f=b("UFIReactionsProfileBrowserUtils").getPrimerProps({actorID:j,feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")});f=b("React").createElement(b("AbstractButton.react"),babelHelpers["extends"]({},f,{"aria-label":h._("See who reacted to this"),className:"_1lh9 _1lha",label:[].concat(a.map(function(a,b){return this.$1(j,a,b)}.bind(this)),[b("React").createElement("span",{className:"_1lld",key:"count_reduced"},g)]),role:"button"}));return b("React").createElement("span",{className:b("joinClasses")("_1lh3",d),ref:this.props.rootRef},b("React").createElement(b("LazyContentTooltip.react"),{alignH:"center",className:"_1lh7",contentRenderer:b("JSResource")("UFI2CommentReactionIconTooltipContentRenderer.react").__setRef("UFI2CommentTopReactions.react"),contentRendererProps:{environment:c.environment,feedbackTargetID:b("nullthrows")(e.id,"Failed to fetch an id for the GraphQL `feedback` field.")},"data-testid":"UFI2CommentTopReactions/tooltip",mountedWhileHidden:!1,tabIndex:-1},f))};function a(){j.apply(this,arguments)}e.exports=c(a,{feedback:function(){return b("UFI2CommentTopReactions_feedback.graphql")}})}),null);
__d("UFI2CommentTopReactionsWrapper_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentTopReactionsWrapper_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"UFI2CommentTopReactions_feedback",args:null}]};e.exports=a}),null);
__d("UFI2CommentTopReactionsWrapper.react",["cx","DOMIntersection","React","RelayModern","UFI2CommentTopReactions.react","joinClasses","UFI2CommentTopReactionsWrapper_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("DOMIntersection").isIntersecting;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.state={shouldAvoidBottom:null},this.$3=function(a){this.$1!=a&&(this.$1=a,this.$2())}.bind(this),b}a.prototype.$2=function(){if(this.state.shouldAvoidBottom!==null||!this.props.avoidableElementBorderingBottom||!this.$1)return;var a=i(this.props.avoidableElementBorderingBottom,this.$1);a!==this.state.shouldAvoidBottom&&this.setState({shouldAvoidBottom:a})};a.prototype.componentDidMount=function(){this.$2()};a.prototype.componentDidUpdate=function(){this.$2()};a.prototype.render=function(){return b("React").createElement("div",{className:b("joinClasses")("_680y",this.props.className)},this.props.children,b("React").createElement(b("UFI2CommentTopReactions.react"),{className:(this.state.shouldAvoidBottom!==!0?"_680-":"")+(this.state.shouldAvoidBottom===!0?" _680_":"")+(this.state.shouldAvoidBottom===null?" _37_b":""),feedback:this.props.feedback,rootRef:this.$3}))};a.displayName="UFI2CommentTopReactionsWrapper";e.exports=c(a,{feedback:function(){return b("UFI2CommentTopReactionsWrapper_feedback.graphql")}})}),null);
__d("UFI2Comment_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Variable",name:"translation",variableName:"translation",type:null}],b={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2Comment_comment",type:"Comment",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"translation",type:"CommentPreferredBodyTranslation",defaultValue:"ORIGINAL"}],selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},{kind:"FragmentSpread",name:"UFI2CommentTopReactionsWrapper_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ReactionLink_feedback",args:null}]},{kind:"FragmentSpread",name:"UFI2CommentActorLink_comment",args:null},{kind:"FragmentSpread",name:"UFI2CommentBody_comment",args:a},{kind:"FragmentSpread",name:"UFI2CommentBodyStandaloneEmoji_comment",args:a},{kind:"FragmentSpread",name:"UFI2CommentErrorFooter_comment",args:null},{kind:"FragmentSpread",name:"UFI2CommentMenu_comment",args:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[b,c,{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"FragmentSpread",name:"UFI2CommentRow_actor",args:null}]},{kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[b]},{kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edit_history",storageKey:null,args:null,concreteType:"EditHistoryConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"UFI2CommentAttachments_comment",args:null},{kind:"ScalarField",alias:null,name:"chat_to_buy",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"client_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},c,{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_locally_composed",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_markdown_enabled",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"optimistic_action",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"optimistic_error",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"preferred_body",storageKey:null,args:[{kind:"Variable",name:"translation",variableName:"translation",type:"CommentPreferredBodyTranslation"}],concreteType:null,plural:!1,selections:[b,{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"FragmentSpread",name:"UFI2CommentBodyTextWithEntities_textWithEntities",args:null},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null}]}]}}();e.exports=a}),null);
__d("UFI2Comment_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2Comment_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]},{kind:"FragmentSpread",name:"UFI2CommentMenu_feedback",args:null},a]}}();e.exports=a}),null);
__d("UFI2FeedbackReactMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FeedbackReactData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"FeedbackReactData!"}],c={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},g={kind:"ScalarField",alias:"i18n_reaction_count",name:"reaction_count_reduced",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null};return{kind:"Request",operationKind:"mutation",name:"UFI2FeedbackReactMutation",id:"2117408794941452",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2FeedbackReactMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback_react",storageKey:null,args:b,concreteType:"FeedbackReactResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2ReactionActionLink_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback",args:null},{kind:"FragmentSpread",name:"UFI2CommentTopReactions_feedback",args:null},{kind:"FragmentSpread",name:"UFI2TopReactions_feedback",args:null},{kind:"FragmentSpread",name:"UFI2FeedbackReactMutation_feedback",args:null}]}]}]},operation:{kind:"Operation",name:"UFI2FeedbackReactMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback_react",storageKey:null,args:b,concreteType:"FeedbackReactResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[c,d,e]},d,{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,d,f]},{kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[c]},{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[c,d,{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"localized_name",args:null,storageKey:null}]},g]}]},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[h,{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null}]},g,{kind:"LinkedField",alias:null,name:"important_reactors",storageKey:"important_reactors(first:2)",args:[{kind:"Literal",name:"first",value:2,type:"Int"}],concreteType:"ImportantReactorsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[e,f,d]}]},{kind:"LinkedField",alias:"reaction_count",name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[h]}]}]}]}}}();e.exports=a}),null);
__d("UFI2FeedbackReactMutation_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null}];return{kind:"Fragment",name:"UFI2FeedbackReactMutation_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:a}]}]},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:a}]}}();e.exports=a}),null);
__d("arrayStableSort",[],(function(a,b,c,d,e,f){function a(a,b){return a.map(function(a,b){return{data:a,index:b}}).sort(function(a,c){return b(a.data,c.data)||a.index-c.index}).map(function(a){return a.data})}e.exports=a}),null);
__d("UFI2FeedbackReactMutation",["invariant","RelayModern","RelayRuntime","UFIReactionTypes","arrayStableSort","UFI2FeedbackReactMutation_feedback.graphql","UFI2FeedbackReactMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=b("RelayModern").commitMutation;b("RelayModern").graphql;var i=b("RelayRuntime").ConnectionHandler,j=b("RelayRuntime").applyOptimisticMutation,k=b("UFIReactionTypes").ordering;({feedback:function(){return b("UFI2FeedbackReactMutation_feedback.graphql")}});var l=function(){return b("UFI2FeedbackReactMutation.graphql")};function a(a,b){__p&&__p();var c={input:{actor_id:b.actorID,feedback_id:b.feedbackID,feedback_reaction:b.reactionKey}},d=function(a){__p&&__p();var c=a.get(b.feedbackID);c||g(0);var d=c.getLinkedRecord("reactors");d||g(0);var e=c.getLinkedRecord("viewer_feedback_reaction_info"),f=e?e.getValue("key")||0:0;typeof f==="number"||g(0);var h=c.getLinkedRecord("top_reactions",{orderby:["COUNT_DESC","REACTION_TYPE"]});if(!h){var i="client:top_reactions:"+b.feedbackID;h=a.create(i,"TopReactionsConnection")}n(a,h,b.reactionKey,f);if(b.reactionKey===0){if(e!==null){i=d.getValue("count");h=typeof i==="number"?i:1;d.setValue(h-1,"count")}c.setValue(null,"viewer_feedback_reaction_info")}else{if(e===null){f=d.getValue("count");i=typeof f==="number"?f:0;d.setValue(i+1,"count")}e=m(a,b.reactionKey);c.setLinkedRecord(e,"viewer_feedback_reaction_info")}h=d.getValue("count_reduced");if(parseInt(h,10).toString()===h){f=d.getValue("count");typeof f==="number"&&d.setValue(f.toString(),"count_reduced")}},e={mutation:l,optimisticUpdater:d,variables:c},f=h(a,babelHelpers["extends"]({},e,{onError:function(b){f=j(a,babelHelpers["extends"]({},e,{optimisticUpdater:d}))}}));return{dispose:function(){f&&f.dispose(),f=null}}}function m(a,c){__p&&__p();c!==0||g(0);var d="client:reaction_info:"+c,e=a.get(d);if(!e){e=a.create(d,"FeedbackReactionInfo");e.setValue(c,"key");a=b("UFIReactionTypes").reactions[c];a||g(0);e.setValue(a.display_name,"localized_name");e.setValue(a.name.toUpperCase(),"reaction_type")}return e}function n(a,c,d,e){__p&&__p();var f=(c.getLinkedRecords("edges")||[]).map(function(a){if(!a)return null;var b=a.getLinkedRecord("node"),c=a.getValue("reaction_count")||0,d=b&&b.getValue("key")||0;typeof c==="number"&&typeof d==="number"||g(0);return b&&c!==0&&d!==0?{count:c,edge:a,key:d}:null}).filter(Boolean);if(e){var h=f.find(function(a){return a.key===e});h&&h.count--}if(d){h=f.find(function(a){return a.key===d});if(!h){var j=m(a,d);a=i.createEdge(a,c,j,"TopReactionsEdge");h={count:0,edge:a,key:d};f.push(h)}h.count++}j=b("arrayStableSort")(f,function(a,b){return b.count-a.count||k.indexOf(a.key)-k.indexOf(b.key)}).filter(function(a){return a.count!==0}).map(function(a){var b=a.edge;a=a.count;b.setValue(a,"reaction_count");return b});c.setLinkedRecords(j,"edges")}e.exports={commit:a}}),null);
__d("UFI2ReactionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},b=[{kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null}];return{kind:"Fragment",name:"UFI2ReactionLink_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[a,{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:b},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[a]},{kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:b},{kind:"FragmentSpread",name:"UFI2FeedbackReactMutation_feedback",args:null}]}}();e.exports=a}),null);
__d("UFI2ReactionUtils",["UFIReactionTypes"],(function(a,b,c,d,e,f){"use strict";a={checkReactionKey:function(a){return a&&!b("UFIReactionTypes").reactions[a]?0:a||0}};e.exports=a}),null);
__d("UFI2ReactionLink.react",["cx","fbt","Bootloader","React","RelayModern","UFI2FeedbackReactMutation","UFI2ReactionUtils","UFICommonInteractionLogger","UFIReactionTypes","addFocusEvents","idx","ifRequired","injectSubscriptionsHandler.react","joinClasses","nullthrows","setTimeoutAcrossTransitions","UFI2ReactionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("UFIReactionTypes").reactions,k=b("addFocusEvents")("a"),l=b("ifRequired")("UFIReactionsMenuWithAnimatedIcons.react",function(a){return a});d=babelHelpers.inherits(a,b("React").Component);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$2=null,this.state={allowKeyboardFocus:!1,menuShown:!1},this.$6=function(a,event){var c,d=this.props,e=d.feedback;d=d.relay.environment;c=b("nullthrows")((c=e)!=null?c.id:c);e=b("nullthrows")((e=e)!=null?(e=e.viewer_current_actor)!=null?e.id:e:e);this.$1&&this.$1.dispose();this.$1=b("UFI2FeedbackReactMutation").commit(d,{actorID:e,feedbackID:c,reactionKey:a});this.setState({menuShown:!1})}.bind(this),this.$7=function(event){var a,c=void 0;this.props.interactionEvent&&(c=b("UFICommonInteractionLogger").startInteraction(this.props.interactionEvent));a=(a=this.props.feedback)!=null?(a=a.viewer_feedback_reaction_info)!=null?a.key:a:a;a=b("UFI2ReactionUtils").checkReactionKey(a);a=a?b("UFIReactionTypes").NONE:b("UFIReactionTypes").LIKE;c&&(this.$3={newReactionKey:a,trackingID:c});this.$6(a,event)}.bind(this),this.$8=function(event){clearTimeout(this.$2)}.bind(this),this.$9=function(event){clearTimeout(this.$2)}.bind(this),this.$10=function(){this.setState({allowKeyboardFocus:!0}),this.$5(this.$4()),this.$11()}.bind(this),this.$12=function(event){clearTimeout(this.$2),this.state.menuShown||(this.$2=b("setTimeoutAcrossTransitions")(this.$11,this.props.showDelay)),this.$5(this.$4())}.bind(this),this.$13=function(event){clearTimeout(this.$2),this.state.menuShown&&(this.$2=b("setTimeoutAcrossTransitions")(this.$14,this.props.hideDelay))}.bind(this),this.$14=function(){this.setState({menuShown:!1})}.bind(this),this.$11=function(){this.setState({menuShown:!0})}.bind(this),c}a.prototype.$4=function(){var a;return(((a=this.props.feedback)!=null?a.supported_reactions:a)||[]).map(function(a){return a.key}).filter(Boolean)};a.prototype.$5=function(a){l||this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["UFIReactionsMenuWithAnimatedIcons.react"],function(a){l=a,this.state.menuShown&&this.forceUpdate()}.bind(this),"UFI2ReactionLink.react"))};a.prototype.componentWillUnmount=function(){clearTimeout(this.$2)};a.prototype.componentDidUpdate=function(){var a=this.$3;if(a){var c;c=(c=this.props.feedback)!=null?(c=c.viewer_feedback_reaction_info)!=null?c.key:c:c;c=b("UFI2ReactionUtils").checkReactionKey(c);c===a.newReactionKey&&(b("UFICommonInteractionLogger").endInteraction(a.trackingID),this.$3=null)}};a.prototype.render=function(){__p&&__p();var a;a=(a=this.props.feedback)!=null?(a=a.viewer_feedback_reaction_info)!=null?a.key:a:a;a=b("UFI2ReactionUtils").checkReactionKey(a);var c=void 0,d=void 0;if(!a)c=j[b("UFIReactionTypes").LIKE].display_name;else{var e=j[a],f=e.display_name;e=e.color;c=f;d=e}f=this.state.menuShown&&l?b("React").createElement(l,{allowKeyboardFocus:this.state.allowKeyboardFocus,initialReaction:a,onBlur:this.$14,onFocus:this.$11,onMouseEnter:this.$8,onMouseLeave:this.$13,onReactionClick:this.$6,shown:this.state.menuShown,supportedReactions:this.$4()}):null;return b("React").createElement(b("React").Fragment,null,b("React").createElement(k,{"aria-pressed":!!a,className:b("joinClasses")(a?"_3_16":"",this.props.className),"data-testid":"UFI2ReactionLink",href:"#",onClick:this.$7,onKeyboardFocus:this.$10,onMouseDown:this.$9,onMouseEnter:this.$12,onMouseLeave:this.$13,ref:"trigger",role:"button",style:{color:d},tabIndex:this.state.menuShown?-1:0},this.props.children,c),this.state.menuShown?null:b("React").createElement("button",{className:"accessible_elem",onClick:this.$10,tabIndex:-1,type:"button"},h._("Show more reactions")),f)};a.displayName="UFI2ReactionLink";e.exports=c(b("injectSubscriptionsHandler.react")(a),{feedback:function(){return b("UFI2ReactionLink_feedback.graphql")}})}),null);
__d("UFI2RemovePreviewMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"CommentDeleteAttachmentData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"CommentDeleteAttachmentData!"}],c={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},d=[c],e={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:d},f={kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Request",operationKind:"mutation",name:"UFI2RemovePreviewMutation",id:"1565661150221978",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2RemovePreviewMutation",type:"Mutation",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment_delete_attachment",storageKey:null,args:b,concreteType:"CommentDeleteAttachmentResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:d},e,f]}]}]},operation:{kind:"Operation",name:"UFI2RemovePreviewMutation",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment_delete_attachment",storageKey:null,args:b,concreteType:"CommentDeleteAttachmentResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"comment",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[c,g]},e,f,g]}]}]}}}();e.exports=a}),null);
__d("UFI2RemovePreviewMutation",["RelayModern","UFI2RemovePreviewMutation.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("RelayModern").commitMutation;b("RelayModern").graphql;var h=function(){return b("UFI2RemovePreviewMutation.graphql")};function a(a,b){var c={comment_id:b.commentID};c={input:babelHelpers["extends"]({},c,{actor_id:b.actorID})};b={comment_delete_attachment:{comment:{attached_story:null,attachments:[],can_viewer_disable_preview:!1,id:b.commentID}}};return g(a,{mutation:h,optimisticResponse:b,variables:c})}e.exports={commit:a}}),null);
__d("XUFIViewMarkdownCommentSourceCodeController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ufi/markdown/source/dialog/",{comment_graphql_id:{type:"String",required:!0},__asyncDialog:{type:"Int"}})}),null);
__d("isStandaloneEmoji",["EmojiRenderer"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=14,h=3;function a(a){if(!a||a.length>g*h)return!1;var c=b("EmojiRenderer").parse(a);if(!c)return!1;var d=0;c.forEach(function(a){d+=a.length});return a.length==d&&c.length<=h}e.exports=a}),null);
__d("makeUFI2HighlightedComment",["Bootloader","Event","OnVisible.react","React","debounceAcrossTransitions","ifRequired","injectSubscriptionsHandler.react","joinClasses","withDisplayName"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5e3,h=400;function a(a){__p&&__p();var c,d;c=babelHelpers.inherits(e,b("React").Component);d=c&&c.prototype;function e(){__p&&__p();var a;for(var c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];(a=d.constructor).call.apply(a,[this].concat(e));this.hasScrolled=!1;this.state={hasCompleted:!1,highlightClassName:""};this.onScrollableScroll=function(){this.hasScrolled=!0;if(this.visibleAt){var a=Date.now();this.visibleAt+g<a?(this.onScrollStopDebounced.reset(),this.applyHighlightClass()):this.onScrollStopDebounced()}}.bind(this);this.onVisible=function(){this.visibleAt||(this.visibleAt=Date.now(),this.hasScrolled||this.onScrollableScroll())}.bind(this);this.onHidden=function(){this.visibleAt&&delete this.visibleAt,this.onScrollStopDebounced.reset()}.bind(this);this.onScrollStop=function(){this.applyHighlightClass()}.bind(this);this.removeWindowScroll=function(){this.windowSubscription&&(this.windowSubscription.remove(),delete this.windowSubscription)}.bind(this);this.onScrollStopDebounced=b("debounceAcrossTransitions")(this.onScrollStop,h,!1)}e.prototype.componentDidMount=function(){"use strict";window.history&&window.history.scrollRestoration&&(this.originalScrollRestoration=window.history.scrollRestoration,window.history.scrollRestoration="manual");var a=b("Bootloader").loadModules(["scrollToUFI2Element","getUFI2CommentHighlightClasses"],function(a,b){this.setState({highlightClassName:b(!0)},function(){this.node&&!this.hasScrolled&&this.props.subscriptionsHandler.addSubscriptions(a(this.node))}.bind(this))}.bind(this),"makeUFI2HighlightedComment");this.windowSubscription=b("Event").listen(this.getScrollableElement(),"scroll",this.onScrollableScroll);this.props.subscriptionsHandler.addSubscriptions(a,{remove:this.removeWindowScroll},this.onScrollStopDebounced)};e.prototype.getScrollableElement=function(){"use strict";return b("ifRequired")("ScrollableArea",function(a){if(this.node){a=a.getInstance(this.node);if(a)return a.getElement()}return window}.bind(this),function(){return window})};e.prototype.componentWillUnmount=function(){"use strict";this.originalScrollRestoration&&(window.history.scrollRestoration=this.originalScrollRestoration),this.props.subscriptionsHandler.release()};e.prototype.render=function(){"use strict";return b("React").createElement(b("OnVisible.react"),{onHidden:this.state.hasCompleted?undefined:this.onHidden,onVisible:this.state.hasCompleted?undefined:this.onVisible},b("React").createElement("span",{ref:function(a){return this.node=a}.bind(this)},b("React").createElement(a,babelHelpers["extends"]({},this.props,{className:b("joinClasses")(this.props.className,this.state.highlightClassName)}))))};e.prototype.applyHighlightClass=function(){"use strict";if(!this.state.hasCompleted){this.removeWindowScroll();this.setState({hasCompleted:!0});var a=b("Bootloader").loadModules(["getUFI2CommentHighlightClasses"],function(a){this.setState({highlightClassName:a(!1)})}.bind(this),"makeUFI2HighlightedComment");this.props.subscriptionsHandler.addSubscriptions(a)}};return b("injectSubscriptionsHandler.react")(e)}e.exports=b("withDisplayName")(a)}),null);
__d("UFI2Comment.react",["cx","fbt","FBLogger","Link.react","React","RelayModern","SearchableEntry","Timestamp.react","TooltipData","UFI2CommentActorLink.react","UFI2CommentAttachments.react","UFI2CommentBody.react","UFI2CommentBodyStandaloneEmoji.react","UFI2CommentErrorFooter.react","UFI2CommentMenu.react","UFI2CommentRow.react","UFI2CommentsConfig","UFI2CommentTopReactionsWrapper.react","UFI2ErrorBoundary.react","UFI2ReactionLink.react","UFI2RemovePreviewMutation","UFICommonInteractionEvents","UFICommonInteractionLogger","URI","WebPixelRatio","XUFIViewMarkdownCommentSourceCodeController","XUISpinner.react","emptyFunction","formatDate","idx","isStandaloneEmoji","joinClasses","makeUFI2HighlightedComment","nullthrows","UFI2Comment_comment.graphql","UFI2Comment_feedback.graphql","UFI2CommentRefetchQuery.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;var j=700,k=850,l=b("makeUFI2HighlightedComment")(b("UFI2CommentRow.react")),m=b("makeUFI2HighlightedComment")(b("UFI2CommentBody.react"));function n(a){__p&&__p();var c=a.attached_story,d=a.attachments;a=a.id;if(c!=null)return!0;if(d.length===0)return!1;c=d[0].style_list;if(c==null){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a||"UNKNOWN").mustfix("Encountered a null `style_list` property while trying to determine if a comment attachment is renderable. Investigate why.");return!1}return c.includes("COMMENT_MESSAGE_INFO")?!1:!0}function o(a){a=a.children;return b("React").createElement("li",{className:"_4tpw"},b("React").createElement("span",{"aria-hidden":!0,className:"_4tq7"},"\xa0\xb7\xa0"),a)}d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={isHovered:!1,metadataElement:null,translationState:"ORIGINAL"},this.$1=function(a){if(!this.props.comment||!this.props.comment.feedback||this.props.comment.optimistic_action||this.props.comment.optimistic_error)return a;else{var c=this.props.comment.feedback;return b("React").createElement(b("UFI2CommentTopReactionsWrapper.react"),{avoidableElementBorderingBottom:this.state.metadataElement,className:"_2nvs",feedback:c},a)}}.bind(this),this.$2=function(){var a=this.props.comment;return a&&a.id?"`UFI2Comment` experienced a fatal error rendering a comment with ID "+a.id+".":"`UFI2Comment` experienced a fatal error rendering a comment without ID."}.bind(this),this.$3=function(a){this.setState({isHovered:!0})}.bind(this),this.$4=function(a){this.setState({isHovered:!1})}.bind(this),this.$5=function(a){this.state.isHovered||this.setState({isHovered:!0})}.bind(this),this.$6=function(a){this.state.metadataElement!==a&&this.setState({metadataElement:a})}.bind(this),this.$7=function(){var a=this.props,c=a.depth,d=a.comment,e=a.composerRef,f=a.feedback;a=a.onReplyToComment;if(c>0&&e&&d&&f&&((c=d.author)!=null?c.id:c)!==((c=f.viewer_current_actor)!=null?c.id:c)){f=b("nullthrows")(d.author);e.execCommand({__type:"PrefillMention",mentionableEntity:new(b("SearchableEntry"))({auxiliaryData:{authorativePerson:undefined,connectedPage:undefined,disableAutosuggest:undefined,nonCoworker:undefined,renderType:d.is_author_weak_reference?"non_member":"member",verified:undefined,workUser:undefined},title:b("nullthrows")(f.name),type:f.__typename==="User"?"user":"non_user",uniqueID:b("nullthrows")(f.id)})})}a&&a()}.bind(this),this.$8=function(a){if(this.props.comment===undefined||this.props.comment===null)return;var c=this.props.comment,d=this.state.translationState;this.setState(function(a){return{translationState:"FETCHING"}},function(){var a=d==="MACHINE_TRANSLATION"?"ORIGINAL":"MACHINE_TRANSLATION";this.props.relay.refetch({commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,id:c.id,scale:b("WebPixelRatio").get(),translation:a},null,function(){return this.setState({translationState:a})}.bind(this))}.bind(this))}.bind(this),c}a.prototype.componentDidMount=function(){var a=this.props.comment;a&&a.client_id&&a.optimistic_action&&b("UFICommonInteractionLogger").endInteraction(a.client_id+(a.optimistic_action==="ADD"?b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT))};a.prototype.componentDidUpdate=function(a){this.props.comment&&this.props.comment.client_id&&!this.props.comment.optimistic_action&&!this.props.comment.optimistic_error&&a.comment&&a.comment.optimistic_action&&b("UFICommonInteractionLogger").endInteraction(this.props.comment.client_id+a.comment.optimistic_action==="ADD"?b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT)};a.prototype.render=function(){__p&&__p();var a,c=this.props,d=c.className,e=c.comment,f=c.depth,g=c.isCommentFresh,i=c.isHighlighted;c=c.onReplyToComment;var q=this.state.translationState;if(!e)return null;var r=e.author,s=e.created_time,t=e.feedback,u=e.id;if(!r){b("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",u||"UNKNOWN").mustfix("UFI2Comment: Cant render comment without author");return null}g=g(e);s=b("React").createElement(b("Timestamp.react"),{autoUpdate:!0,minimize:!0,time:s,useLargerTimeUnits:!0,verbose:h._("{date} at {time}",[h._param("date",b("formatDate")(s,"l, F j, Y")),h._param("time",b("formatDate")(s,"g:i A"))])});var v=(a=this.props.feedback)!=null?(a=a.viewer_current_actor)!=null?a.id:a:a;t=e.optimistic_action?b("React").createElement(b("React").Fragment,null,e.optimistic_error?b("React").createElement(b("UFI2CommentErrorFooter.react"),{comment:e}):b("React").createElement(o,null,s)):b("React").createElement(b("React").Fragment,null,t&&((a=t)!=null?a.can_viewer_react:a)===!0?b("React").createElement(o,null,b("React").createElement("span",{className:"_44x4","data-testid":"UFI2ReactionLink/comment"},b("React").createElement(b("UFI2ReactionLink.react"),{className:"_mvp",feedback:t,hideDelay:k,interactionEvent:b("UFICommonInteractionEvents").UFI2_COMMENT_REACTION,showDelay:j}))):null,c?b("React").createElement(o,null,b("React").createElement(b("Link.react"),{className:"_mvp","data-testid":"UFI2Comment/reply-link",href:"#",onClick:this.$7,role:"button"},h._("Reply"))):null,e.chat_to_buy?b("React").createElement("li",{className:"_mvo"},b("React").createElement(b("Link.react"),{className:"_mvp",href:e.chat_to_buy,rel:"async-dialog",role:"button"},h._("Message"))):null,e.translation_available_for_viewer&&b("React").createElement(o,null,q==="FETCHING"?b("React").createElement(b("XUISpinner.react"),{"aria-label":h._("Loading Translation")}):b("React").createElement(b("Link.react"),{className:"_mvp",href:"#",onClick:this.$8,role:"button"},q==="MACHINE_TRANSLATION"?e.translatability_for_viewer&&e.translatability_for_viewer.source_dialect_name?h._("See Original ({language})",[h._param("language",e.translatability_for_viewer.source_dialect_name)]):h._("See Original"):h._("See Translation"))),e.can_viewer_disable_preview&&u&&v&&b("React").createElement(o,null,b("React").createElement(b("Link.react"),{className:"_mvp",href:"#",onClick:function(){return b("UFI2RemovePreviewMutation").commit(this.props.relay.environment,{actorID:v,commentID:u})}.bind(this),role:"button"},h._("Remove Preview"))),b("React").createElement(o,null,b("React").createElement(b("Link.react"),{className:"_2qil",href:e.url},s)),(((a=e.edit_history)!=null?a.count:a)||0)>0?b("React").createElement(o,null,b("React").createElement(b("Link.react"),babelHelpers["extends"]({ajaxify:new(b("URI"))("/ajax/edits/browser/comment").addQueryData("comment_token",u),className:"_mvt","data-testid":"UFI2Comment/view-history-link",href:"#",rel:"dialog"},b("TooltipData").propsFor(h._("Show edit history")),{role:"button"}),h._("Edited"))):null,e.is_markdown_enabled?b("React").createElement(o,null,b("React").createElement(b("Link.react"),babelHelpers["extends"]({ajaxify:b("XUFIViewMarkdownCommentSourceCodeController").getURIBuilder().setString("comment_graphql_id",e.id).getURI(),className:"_mvt","data-testid":"UFI2Comment/view-source-code-link",href:"#",rel:"dialog"},b("TooltipData").propsFor(h._("Formatted with Markdown. Click for original text.")),{role:"button"}),h._("Formatted"))):null);c=i&&!e.preferred_body;q=c?l:b("UFI2CommentRow.react");s=i?m:b("UFI2CommentBody.react");a={comment:e,contextForFeedback:this.props.contextForFeedback,depth:f,feedback:this.props.feedback,menuVisible:this.state.isHovered,onEdit:this.props.onEdit,topLevelFeedbackId:this.props.topLevelFeedbackID};c=!1;e.preferred_body!=null&&e.preferred_body.text!=null&&(c=b("isStandaloneEmoji")(e.preferred_body.text));i=void 0;var w=n(e),x=void 0;if(w){var y=this.$1(b("React").createElement("div",{className:"_2m5b"},b("React").createElement(b("UFI2CommentAttachments.react"),{comment:e,feedbackSource:this.props.feedbackSource})));e.preferred_body?x=b("React").createElement("div",{className:"_2nvt"},y):x=b("React").createElement("div",{className:"_2nvt"},b("React").createElement(p,a,y))}else if(c){y=this.$1(b("React").createElement("div",{className:"_1dlh"},b("React").createElement(b("UFI2CommentBodyStandaloneEmoji.react"),{comment:e,isHighlighted:this.props.isHighlighted})));i=b("React").createElement("div",null,b("React").createElement(p,a,y))}y=void 0;e.preferred_body&&!c?y=b("React").createElement(p,a,(w?b("emptyFunction").thatReturnsArgument:this.$1)(b("React").createElement(s,{className:"_2nwa"+(w?" _2nwb":"")+(w?"":" _2nwc"),comment:e,isHighlighted:this.props.isHighlighted}))):y=b("React").createElement(b("UFI2CommentActorLink.react"),{className:"_43-s",comment:e});return b("React").createElement(b("UFI2ErrorBoundary.react"),{getFBLoggerErrorMessage:this.$2},b("React").createElement(q,{actor:r,avatarWrapperClassName:e.optimistic_error?"_2nvx":"",className:b("joinClasses")((g?"_p20":"")+" _4eek",d),"data-testid":"UFI2Comment/root_depth_"+f,depth:f,onMouseEnter:this.$3,onMouseLeave:this.$4,onMouseMove:this.$5},b("React").createElement("div",{className:"_2qij"+(f===0?" _2nvy":"")+(f===1?" _2nvz":"")},b("React").createElement("div",{className:"_4eeo"},y),x,i,b("React").createElement("ul",{className:"_2qik",ref:this.$6},t))))};a.displayName="UFI2Comment";a.defaultProps={isCommentFresh:function(a){return a.is_locally_composed===!0}};function p(a){var c=a.children;a=babelHelpers.objectWithoutProperties(a,["children"]);return b("React").createElement(b("React").Fragment,null,c,q(a))}function q(a){var c=a.menuVisible;a=babelHelpers.objectWithoutProperties(a,["menuVisible"]);return b("React").createElement(b("UFI2CommentMenu.react"),babelHelpers["extends"]({className:c?"_1n6k":""},a))}e.exports=c(a,{comment:function(){return b("UFI2Comment_comment.graphql")},feedback:function(){return b("UFI2Comment_feedback.graphql")}},function(){return b("UFI2CommentRefetchQuery.graphql")})}),null);
__d("UFI2CommentActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentActionLink_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"can_viewer_comment",args:[{kind:"Literal",name:"use_default_actor",value:!1,type:"Boolean"}],storageKey:"can_viewer_comment(use_default_actor:false)"}]};e.exports=a}),null);
__d("UFI2CommentActionLink.react",["cx","fbt","AbstractButton.react","React","RelayModern","UFI2ActionLink.react","joinClasses","UFI2CommentActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){var c=a.className,d=a.feedback,e=a.onClick;return d&&d.can_viewer_comment?b("React").createElement(b("UFI2ActionLink.react"),null,function(a){a=a.className;return b("React").createElement(b("AbstractButton.react"),{className:b("joinClasses")("_666h",a,c),href:"#",label:h._("Comment"),onClick:e,role:"button",tabIndex:0,title:h._("Leave a comment")})}):null}a.displayName="UFI2CommentActionLink";e.exports=c(a,{feedback:function(){return b("UFI2CommentActionLink_feedback.graphql")}})}),null);
__d("UFI2CommentDisabledNotice_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentDisabledNotice_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"top_level_comments",storageKey:null,args:null,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"comments_disabled_notice",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFI2CommentDisabledNotice.react",["cx","React","RelayModern","TextWithEntities.react","linkifyEntityRange","UFI2CommentDisabledNotice_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.feedback;if(!a.comments_disabled_notice)return null;var c=a.comments_disabled_notice;c=b("React").createElement("div",{className:"_69g2"},b("React").createElement(b("TextWithEntities.react"),{interpolator:b("linkifyEntityRange"),ranges:c.ranges,text:c.text}));return b("React").createElement("div",{className:(a.top_level_comments&&a.top_level_comments.count&&a.top_level_comments.count>0?"_2o30":"")+" _69g3"},c)};function a(){h.apply(this,arguments)}e.exports=c(a,{feedback:function(){return b("UFI2CommentDisabledNotice_feedback.graphql")}})}),null);
__d("UFI2CommentsListState",["invariant","FBLogger","UFI2CommentsConfig"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){var b=a.count,c=a.direction,d=a.error,e=a.hasMore,f=a.isLoading,g=a.pageSize;a=a.totalCount;if(a!=null&&a===0)return null;return!e?null:{__type:"PAGER",count:Math.min(b,g),direction:c,status:{error:d,pending:f}}}function i(a){var b=a.count,c=a.expanded;a=a.minCountToShowCollapser;if(!c)return null;if(a==null)return null;return b<=a?null:{__type:"REPLIES_COLLAPSER",count:b}}function j(a){var b=a.error,c=a.expanded,d=a.isLoading;a=a.totalCount;return c||a===0?null:{__type:"REPLIES_EXPANDER",count:a,status:{error:b,pending:d}}}function k(a){var b=a.direction;a=a.page;if(b==="forward"){b=Math.max(0,a.afterCount-1);return babelHelpers["extends"]({},a,{afterCount:b,hasNext:b>0})}b=Math.max(0,a.beforeCount-1);return babelHelpers["extends"]({},a,{beforeCount:b,hasPrevious:b>0})}function l(a,b){__p&&__p();if(a.__type==="INITIAL_STATE"){var c=a.args,d=c.afterCount,e=c.beforeCount,f=c.canViewerComment,l=c.commentIDs,m=c.hasNext,o=c.hasPrevious,p=c.initiallyExpanded,q=c.pageSize;c=c.totalCount;q={backward:p?h({count:e,direction:"backward",error:null,hasMore:o,isLoading:!1,pageSize:q,totalCount:c}):null,forward:p?h({count:d,direction:"forward",error:null,hasMore:m,isLoading:!1,pageSize:q,totalCount:c}):null};d={commentPages:l.length>0?[{__type:"COMMENTS_PAGE",afterCount:d,beforeCount:e,commentIDs:l,hasNext:m,hasPrevious:o,state:"VISIBLE"}]:[],composer:f,expanded:p,hasPaged:{backward:!1,forward:!1},newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[]},pagers:q};if(a.args.depth===0)return babelHelpers["extends"]({},d,{__type:"DEPTH_0",status:{error:null,pending:!1}});e=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},d,{__type:"DEPTH_1",repliesCollapser:i({count:l.length,expanded:p,minCountToShowCollapser:e}),repliesExpander:j({error:null,expanded:p,isLoading:!1,totalCount:c})})}b!=null||g(0);switch(a.__type){case"COLLAPSE_LIST":m=a.args.totalCount;if(b.expanded===!1)return b;if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{expanded:!1});m>0&&b.expanded===!0&&b.commentPages.length===0&&!b.repliesExpander&&g(0);return babelHelpers["extends"]({},b,{expanded:!1,repliesCollapser:null,repliesExpander:j({error:b.repliesExpander?b.repliesExpander.status.error:null,expanded:!1,isLoading:!1,totalCount:m})});case"DELETE_COMMENT":o=function(){__p&&__p();var c=a.args,d=c.commentID;c=c.depth;var e=b.commentPages,f=b.expanded,h=b.newCommentsPage;f===!0||g(0);if(e.length===0&&h.commentIDs.length===0)return{v:b};f=h.commentIDs.filter(function(a){return a!==d});c=s.getVisibleCommentsCount({depth:c,state:b});var j=f.length<h.commentIDs.length;if(j){j=babelHelpers["extends"]({},h,{commentIDs:f});h=e.map(function(a){return k({direction:"backward",page:a})});if(b.__type==="DEPTH_0")return{v:babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:h,newCommentsPage:j})};a.args.depth===1||g(0);f=a.args.minCountToShowCollapser;return{v:babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:h,newCommentsPage:j,repliesCollapser:i({count:c-1,expanded:b.expanded,minCountToShowCollapser:f})})}}var l=null,m=!1;h=e.map(function(a,b){__p&&__p();if(m)return k({direction:"backward",page:a});var c=a.commentIDs.filter(function(a){return a!==d});if(c.length<a.commentIDs.length){a.state==="VISIBLE"||g(0);m=!0;l=b;return c.length===0?null:babelHelpers["extends"]({},a,{commentIDs:c})}return a}).map(function(a,b){return a&&l!=null&&b<l?k({direction:"forward",page:a}):a}).filter(Boolean);m===!0||g(0);if(b.__type==="DEPTH_0")return{v:babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:h})};a.args.depth===1||g(0);return{v:babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:h,repliesCollapser:i({count:c-1,expanded:b.expanded,minCountToShowCollapser:a.args.minCountToShowCollapser})})}}();if(typeof o==="object")return o.v;case"EXPAND_LIST":f=a.args;q=f.depth;d=f.totalCount;l=b.commentPages;if(b.expanded===!0)return b;if(q===1&&s.isRepliesExpanderLoading({depth:q,state:b}))return b;if(d===0)return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!0,repliesCollapser:null,repliesExpander:null});e=s.getVisibleCommentsCount({depth:q,state:b});if(e===0){if(l.length===0)return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0,status:{error:null,pending:!0}}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!1,repliesCollapser:null,repliesExpander:j({error:null,expanded:!1,isLoading:!0,totalCount:d})});p=l[0];p.beforeCount===0||g(0);c=[babelHelpers["extends"]({},p,{state:"VISIBLE"})].concat(l.slice(1));if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:c,expanded:!0});a.args.depth===1||g(0);return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:c,expanded:!0,repliesCollapser:i({count:p.commentIDs.length,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null})}if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",expanded:!0});a.args.depth===1||g(0);return babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:!0,repliesCollapser:i({count:e,expanded:!0,minCountToShowCollapser:a.args.minCountToShowCollapser}),repliesExpander:null});case"RECEIVE_COMMENTS_PAGE":m=b.commentPages;o=b.pagers;f=a.args;q=f.depth;d=f.direction;l=f.commentIDs;c=f.pageSize;p=f.totalCount;p>0||g(0);e=s.isPagerLoading({depth:q,direction:d,state:b})===!0;f=q===1&&s.isRepliesExpanderLoading({depth:q,state:b});if(m.length===0){a.args.direction==="forward"||g(0);b.__type==="DEPTH_1"||g(0);p=a.args;d=p.afterCount;p=p.hasNext;var r={backward:null,forward:h({count:d,direction:"forward",error:null,hasMore:p,isLoading:!1,pageSize:c})};d={__type:"COMMENTS_PAGE",afterCount:d,beforeCount:0,commentIDs:l,hasNext:p,hasPrevious:!1,state:f?"VISIBLE":"HIDDEN"};a.args.depth===1||g(0);p=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[d],expanded:f,pagers:r,repliesCollapser:i({count:l.length,expanded:f,minCountToShowCollapser:p}),repliesExpander:f?null:b.repliesExpander})}f===!1||g(0);d=m[0];r=m[m.length-1];p=s.getVisibleCommentsCount({depth:q,state:b});if(a.args.direction==="backward"){d.beforeCount>0||g(0);e&&(d.state==="VISIBLE"||g(0));f=a.args;q=f.beforeCount;f=f.hasPrevious;var t=babelHelpers["extends"]({},o,{backward:e?h({count:q,direction:"backward",error:null,hasMore:f,isLoading:!1,pageSize:c}):o.backward});d={__type:"COMMENTS_PAGE",afterCount:d.afterCount+d.commentIDs.length,beforeCount:q,commentIDs:l,hasNext:!0,hasPrevious:f,state:e?"VISIBLE":"HIDDEN"};if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[d].concat(m),pagers:t});a.args.depth===1||g(0);q=a.args.minCountToShowCollapser;f=d.state==="VISIBLE"?p+l.length:p;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[d].concat(m),pagers:t,repliesCollapser:i({count:f,expanded:b.expanded,minCountToShowCollapser:q})})}r.afterCount>0||g(0);e&&(r.state==="VISIBLE"||g(0));d=a.args;t=d.afterCount;f=d.hasNext;q=babelHelpers["extends"]({},o,{forward:e?h({count:t,direction:"forward",error:null,hasMore:f,isLoading:!1,pageSize:c}):o.forward});d={__type:"COMMENTS_PAGE",afterCount:t,beforeCount:r.beforeCount+r.commentIDs.length,commentIDs:l,hasNext:f,hasPrevious:!0,state:e?"VISIBLE":"HIDDEN"};if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[].concat(m,[d]),pagers:q});a.args.depth===1||g(0);c=a.args.minCountToShowCollapser;o=d.state==="VISIBLE"?p+l.length:p;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:[].concat(m,[d]),pagers:q,repliesCollapser:i({count:o,expanded:b.expanded,minCountToShowCollapser:c})});case"RECEIVE_NEW_COMMENT":t=a.args;r=t.commentID;f=t.depth;e=t.pageSize;l=t.totalCount;p=b.commentPages;m=b.expanded;d=b.newCommentsPage;q=b.pagers;o=p.length===0&&d.commentIDs.length===0;c=b.repliesExpander!=null?babelHelpers["extends"]({},b.repliesExpander,{count:l+1}):null;o&&m&&(l===0||g(0));if(l>0&&o)return b.__type==="DEPTH_0"?b:babelHelpers["extends"]({},b,{__type:"DEPTH_1",repliesExpander:c});if(p.length===0){t=babelHelpers["extends"]({},d,{commentIDs:[r].concat(d.commentIDs)});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",newCommentsPage:t});a.args.depth===1||g(0);l=a.args.minCountToShowCollapser;return babelHelpers["extends"]({},b,{__type:"DEPTH_1",expanded:o?!0:m,newCommentsPage:t,repliesCollapser:i({count:t.commentIDs.length,expanded:m,minCountToShowCollapser:l}),repliesExpander:c})}o=p[0];t=o.beforeCount-d.commentIDs.length===0;if(t){l=o.state==="VISIBLE";if(l){t=p.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});l=babelHelpers["extends"]({},d,{commentIDs:[r].concat(d.commentIDs)});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:t,newCommentsPage:l});a.args.depth===1||g(0);d=a.args.minCountToShowCollapser;f=s.getVisibleCommentsCount({depth:f,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:t,newCommentsPage:l,repliesCollapser:i({count:f+1,expanded:m,minCountToShowCollapser:d}),repliesExpander:c})}q.backward!=null||g(0);t=babelHelpers["extends"]({},q,{backward:babelHelpers["extends"]({},q.backward,{count:Math.min(q.backward.count+1,e)})});l=o.commentIDs.length<e;if(l){f=[babelHelpers["extends"]({},o,{commentIDs:[r].concat(o.commentIDs)})].concat(p.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:f,pagers:t}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:f,pagers:t,repliesExpander:c})}else{m=[{__type:"COMMENTS_PAGE",afterCount:o.afterCount+o.commentIDs.length,beforeCount:0,commentIDs:[r],hasNext:!0,hasPrevious:!1,state:"HIDDEN"},babelHelpers["extends"]({},o,{beforeCount:1,hasPrevious:!0})].concat(p.slice(1).map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})}));return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:m,pagers:t}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:m,pagers:t,repliesExpander:c})}}else{d=p.map(function(a){return babelHelpers["extends"]({},a,{beforeCount:a.beforeCount+1})});q.backward!=null||g(0);l=babelHelpers["extends"]({},q,{backward:babelHelpers["extends"]({},q.backward,{count:Math.min(q.backward.count+1,e)})});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:d,pagers:l}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:d,pagers:l,repliesExpander:c})}case"RECEIVE_REFETCH_LIST":f=a.args.depth;f===0||g(0);s.isListLoading({depth:f,state:b})||g(0);r=n.getInitialState(babelHelpers["extends"]({},a.args,{depth:0,initiallyExpanded:!0}));r.__type==="DEPTH_0"||g(0);return babelHelpers["extends"]({},r,{__type:"DEPTH_0",expanded:b.expanded,status:{error:null,pending:!1}});case"REQUEST_COMMENTS_PAGE":o=a.args;m=o.depth;t=o.direction;p=o.pageSize;q=b.commentPages;e=b.expanded;d=b.pagers;e||g(0);q.length>0||g(0);s.isPagerLoading({depth:m,direction:t,state:b})&&g(0);m===0&&(s.isListLoading({depth:m,state:b})&&g(0));m===1&&(s.isRepliesExpanderLoading({depth:m,state:b})&&g(0));if(t==="backward"){l=q.findIndex(function(a){return a.state==="VISIBLE"});l!==-1||g(0);c=q[l];c.hasPrevious===!0||g(0);f=l-1;r=q[f];if(r&&r.state==="HIDDEN"){o=[].concat(q);o[f]=babelHelpers["extends"]({},r,{state:"VISIBLE"});e=babelHelpers["extends"]({},d,{backward:h({count:r.beforeCount,direction:"backward",error:null,hasMore:r.hasPrevious,isLoading:!1,pageSize:p})});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:o,hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:e});a.args.depth===1||g(0);t=a.args.minCountToShowCollapser;c=s.getVisibleCommentsCount({depth:m,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:o,hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:e,repliesCollapser:i({count:c+r.commentIDs.length,expanded:b.expanded,minCountToShowCollapser:t})})}else{l=babelHelpers["extends"]({},d,{backward:babelHelpers["extends"]({},d.backward,{status:{error:null,pending:!0}})});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:l}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},b.hasPaged,{backward:!0}),pagers:l})}}f=[].concat(q).reverse().findIndex(function(a){return a.state==="VISIBLE"});o=f!==-1?q.length-1-f:0;o!==-1||g(0);e=q[o];e.hasNext===!0||g(0);c=o+1;r=q[c];if(r&&r.state==="HIDDEN"){t=[].concat(q);t[c]=babelHelpers["extends"]({},r,{state:"VISIBLE"});l=babelHelpers["extends"]({},d,{forward:h({count:r.afterCount,direction:"forward",error:null,hasMore:r.hasNext,isLoading:!1,pageSize:p})});if(b.__type==="DEPTH_0")return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:t,hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:l});a.args.depth===1||g(0);f=a.args.minCountToShowCollapser;e=s.getVisibleCommentsCount({depth:m,state:b});return babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:t,hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:l,repliesCollapser:i({count:e+r.commentIDs.length,expanded:b.expanded,minCountToShowCollapser:f})})}else{o=babelHelpers["extends"]({},d,{forward:babelHelpers["extends"]({},d.forward,{status:{error:null,pending:!0}})});return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:o}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",hasPaged:babelHelpers["extends"]({},b.hasPaged,{forward:!0}),pagers:o})}case"REQUEST_REFETCH_LIST":q=a.args.depth;q===0&&b.__type==="DEPTH_0"||g(0);s.isListLoading({depth:q,state:b})&&g(0);return babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:[],expanded:!0,hasPaged:{backward:!1,forward:!1},newCommentsPage:{__type:"NEW_COMMENTS_PAGE",commentIDs:[]},pagers:{backward:null,forward:null},status:{error:null,pending:!0}});case"SET_CAN_VIEWER_COMMENT":c=a.args.canViewerComment;return b.__type==="DEPTH_0"?babelHelpers["extends"]({},b,{__type:"DEPTH_0",composer:c}):babelHelpers["extends"]({},b,{__type:"DEPTH_1",composer:c});case"SET_SERVER_COMMENT_ID":p=function(){__p&&__p();var c=a.args,d=c.clientCommentID,e=c.serverCommentID;c=b.commentPages;var f=b.newCommentsPage,g=!1;f=f.commentIDs.map(function(a){if(a===d){g=!0;return e}return a});if(g)return b.__type==="DEPTH_0"?{v:babelHelpers["extends"]({},b,{__type:"DEPTH_0",newCommentsPage:babelHelpers["extends"]({},b.newCommentsPage,{commentIDs:f})})}:{v:babelHelpers["extends"]({},b,{__type:"DEPTH_1",newCommentsPage:babelHelpers["extends"]({},b.newCommentsPage,{commentIDs:f})})};f=c.map(function(a){if(g)return a;var b=a.commentIDs.map(function(a){if(a===d){g=!0;return e}return a});return g?babelHelpers["extends"]({},a,{commentIDs:b}):a});if(!g)return{v:b};return b.__type==="DEPTH_0"?{v:babelHelpers["extends"]({},b,{__type:"DEPTH_0",commentPages:f})}:{v:babelHelpers["extends"]({},b,{__type:"DEPTH_1",commentPages:f})}}();if(typeof p==="object")return p.v;case"INITIAL_STATE":default:a.__type;throw new Error("UFI2CommentsListState: Invalid action type: "+a.__type)}}function m(a,c){try{return l(a,c)}catch(c){b("FBLogger")("ufi2").catching(c).mustfix("UFI2CommentsListState.updater(...): Error while updating state. Action: %s",a.__type);throw c}}function a(a,b){return m(a,b)}function c(a,b){return m(a,b)}var n={collapseList:function(a){var b=a.args;a=a.state;return m({__type:"COLLAPSE_LIST",args:b},a)},deleteComment:function(a){var b=a.args;a=a.state;return m({__type:"DELETE_COMMENT",args:b},a)},expandList:function(a){var b=a.args;a=a.state;return m({__type:"EXPAND_LIST",args:b},a)},getInitialState:function(a){return m({__type:"INITIAL_STATE",args:a},null)},receiveCommentsPage:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_COMMENTS_PAGE",args:b},a)},receiveNewComment:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_NEW_COMMENT",args:b},a)},receiveRefetchList:function(a){var b=a.args;a=a.state;return m({__type:"RECEIVE_REFETCH_LIST",args:b},a)},requestCommentsPage:function(a){var b=a.args;a=a.state;return m({__type:"REQUEST_COMMENTS_PAGE",args:b},a)},requestRefetchList:function(a){var b=a.args;a=a.state;return m({__type:"REQUEST_REFETCH_LIST",args:b},a)},setCanViewerComment:function(a){var b=a.args;a=a.state;return m({__type:"SET_CAN_VIEWER_COMMENT",args:b},a)},setServerCommentID:function(a){var b=a.args;a=a.state;return m({__type:"SET_SERVER_COMMENT_ID",args:b},a)}};function o(a){var b=a.depth,c=a.direction;a=a.state;return s.isPagerLoading({depth:b,direction:c,state:a})||b===0&&s.isListLoading({depth:b,state:a})||b===1&&s.isRepliesExpanderLoading({depth:b,state:a})}function p(a){__p&&__p();var b=a.depth,c=a.direction,d=a.pageSize;a=a.state;c=s.getPagerCount({depth:b,direction:c,state:a});if(c!=null)return c;if(b===1){d!=null||g(0);c=s.getRepliesExpanderCount({depth:b,state:a});if(c!=null)return Math.min(c,d)}return null}var q={collapseList:function(a){var b=a.args;a=a.setState;a(function(a){return n.collapseList({args:{depth:b.depth,totalCount:b.totalCount},state:a})})},expandList:function(a){__p&&__p();var c=a.args,d=a.onDidFetchComments,e=a.onDidShowComments,f=a.onWillFetchComments;a=a.setState;var g=c.depth,h=c.fetch,i=c.pageSize,j=c.refetch,k=c.totalCount,l=!1;a(function(a){__p&&__p();var c=g===0?n.expandList({args:{depth:g,totalCount:k},state:a}):n.expandList({args:{depth:g,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,totalCount:k},state:a});if(g===0){var d=s.isListLoading({depth:g,state:a}),e=s.isListLoading({depth:g,state:c});l=!d&&e;return c}d=s.isRepliesExpanderLoading({depth:g,state:a});e=s.isRepliesExpanderLoading({depth:g,state:c});l=!d&&e;return c},function(a){__p&&__p();if(!l){e&&e();return}if(g===0){f&&f();j({onComplete:d});return}a=p({depth:g,direction:"forward",pageSize:i,state:a});if(a==null)return;f&&f();h({count:a,direction:"forward",onCommentsFetched:d})})},fetchComments:function(a){__p&&__p();var b=a.args,c=a.onComplete;a=a.state;var d=b.depth,e=b.direction,f=b.fetch,g=b.pageSize;b=b.totalCount;if(!s.canFetchInDirection({depth:d,direction:e,state:a,totalCount:b}))return;b=p({depth:d,direction:e,pageSize:g,state:a});if(b==null)return;f({count:b,direction:e,onCommentsFetched:c})},refetchCommentsList:function(a){__p&&__p();var b=a.args,c=a.onComplete;a=a.setState;var d=b.depth,e=b.refetch;if(d===1){c&&c();return}var f=!1;a(function(a){if(s.isListLoading({depth:d,state:a}))return null;f=!0;return n.requestRefetchList({args:{depth:d},state:a})},function(a){f?e({onComplete:c}):c&&c()})},requestComments:function(a){__p&&__p();var c=a.args,d=a.onDidFetchComments,e=a.onDidShowComments,f=a.onWillFetchComments;a=a.setState;var g=c.depth,h=c.direction,i=c.fetch,j=c.pageSize,k=!1;a(function(a){if(o({depth:g,direction:h,state:a}))return null;a=g===0?n.requestCommentsPage({args:{depth:0,direction:h,pageSize:j},state:a}):n.requestCommentsPage({args:{depth:1,direction:h,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:j},state:a});k=s.isPagerLoading({depth:g,direction:h,state:a});return a},function(a){if(!k){e&&e();return}a=p({depth:g,direction:h,pageSize:j,state:a});if(a==null)return;f&&f();i({count:a,direction:h,onCommentsFetched:d})})},toggleList:function(a){var b=a.args,c=a.onDidFetchComments,d=a.onDidHideComments,e=a.onDidShowComments,f=a.onWillFetchComments,g=a.state;a=a.setState;var h=b.depth,i=b.totalCount;!s.isListExpanded({depth:h,state:g})?q.expandList({args:b,onDidFetchComments:c,onDidShowComments:e,onWillFetchComments:f,setState:a}):q.collapseList({args:{depth:h,totalCount:i},onComplete:d,setState:a})}};function r(a){var b=a.direction;a=a.state;b=b==="forward"?[].concat(a.commentPages).reverse():a.commentPages;return b.find(function(a){return a.state==="VISIBLE"})}var s={canFetchInDirection:function(a){__p&&__p();var b=a.depth,c=a.direction,d=a.state;a=a.totalCount;if(a===0)return!1;a=d.commentPages;var e=s.isPagerLoading({depth:b,direction:c,state:d});if(e)return!1;e=b===0&&s.isListLoading({depth:b,state:d});if(e)return!1;e=b===1&&s.isRepliesExpanderLoading({depth:b,state:d});if(e)return!1;if(a.length===0&&c==="forward")return!0;else if(a.length===0&&c==="backward")return!1;b=a[0];d=a[a.length-1];return c==="backward"?b.state!=="HIDDEN"&&b.hasPrevious:d.state!=="HIDDEN"&&d.hasNext},getCommentsCount:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.reduce(function(a,b){return a.concat(b.commentIDs)},[])).length},getPagerCount:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.count:null},getPagerError:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return null;a=a[b];return a!=null?a.status.error:null},getRepliesCollapserCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesCollapser;return b!=null?b.count:null},getRepliesExpanderCount:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.count:null},getRepliesExpanderError:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return null;b=a.repliesExpander;return b!=null?b.status.error:null},getVisibleCommentIDs:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;return a.commentIDs.concat(b.filter(function(a){return a.state==="VISIBLE"}).reduce(function(a,b){return a.concat(b.commentIDs)},[]))},getVisibleCommentPages:function(a){a.depth;a=a.state;var b=a.commentPages;a=a.newCommentsPage;b=b.map(function(a){var b=a.commentIDs;a=a.state;return a==="HIDDEN"?null:{commentIDs:b,state:a}}).filter(Boolean);return a.commentIDs.length>0?[{commentIDs:a.commentIDs,state:"VISIBLE"}].concat(b):b},getVisibleCommentsCount:function(a){var b=a.depth;a=a.state;return s.getVisibleCommentIDs({depth:b,state:a}).length},hasLastPageLeftInDirection:function(a){a.depth;var b=a.direction,c=a.pageSize,d=a.state;a=a.totalCount;d=r({direction:b,state:d});if(!d)return b==="forward"?a<=c:!1;return b==="forward"?d.afterCount<=c:d.beforeCount<=c},hasMoreInDirection:function(a){a.depth;var b=a.direction,c=a.state;a=a.totalCount;c=r({direction:b,state:c});if(!c)return b==="forward"?a>0:!1;return b==="forward"?c.hasNext:c.hasPrevious},hasPagedInDirection:function(a){a.depth;var b=a.direction;a=a.state;a=a.hasPaged;return a[b]},hasVisibleComments:function(a){var b=a.depth;a=a.state;return s.getVisibleCommentIDs({depth:b,state:a}).length>0},isComposerVisible:function(a){a.depth;a=a.state;return a.composer},isListExpanded:function(a){a.depth;a=a.state;return a.expanded},isListLoading:function(a){var b=a.depth;a=a.state;return b===1||a.__type!=="DEPTH_0"?!1:a.status.pending},isPagerLoading:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null?a.status.pending:!1},isPagerVisible:function(a){a.depth;var b=a.direction;a=a.state;a=a.pagers;if(!a)return!1;a=a[b];return a!=null},isRepliesCollapserVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesCollapser;return b!=null},isRepliesExpanderLoading:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null?b.status.pending:!1},isRepliesExpanderVisible:function(a){var b=a.depth;a=a.state;if(b===0||a.__type!=="DEPTH_1")return!1;b=a.repliesExpander;return b!=null}};function t(a){var b=a.depth,c=a.feedback;a=a.topLevelFeedback;return b===0?Boolean(c.can_viewer_comment):Boolean(a&&a.can_viewer_comment)}function d(a){var c=a.commentIDs,d=a.connectionPageInfo,e=d.afterCount,f=d.beforeCount,g=d.hasNext,h=d.hasPrevious;d=d.pageSize;var i=a.depth,j=a.feedback,k=a.isInitiallyExpanded,l=a.topLevelFeedback;a=a.totalCount;j=t({depth:i,feedback:j,topLevelFeedback:l});l={afterCount:e,beforeCount:f,canViewerComment:j,commentIDs:c,hasNext:g,hasPrevious:h,initiallyExpanded:k,pageSize:d,totalCount:a};return i===0?n.getInitialState(babelHelpers["extends"]({},l,{depth:0})):n.getInitialState(babelHelpers["extends"]({},l,{depth:1,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies}))}function f(a,c){__p&&__p();var d=c.mirroredProps;c=c.listState;var e=d.feedback,f=d.isRefetchingConnection,g=d.topLevelFeedback;d=d.totalCount;var h=a.feedback,i=a.commentIDs,j=a.connectionPageInfo,k=a.depth,l=a.isRefetchingConnection,m=a.topLevelFeedback,o=a.totalCount,p={feedback:h,isRefetchingConnection:l,topLevelFeedback:m,totalCount:o},q=j.afterCount,r=j.beforeCount,u=j.hasNext,v=j.hasPrevious;j=j.pageSize;var w=c;if(k===0&&s.isListLoading({depth:k,state:w})){f=f===!0&&l===!1;f&&i.length>0&&(w=n.receiveRefetchList({args:{afterCount:q,beforeCount:r,canViewerComment:t({depth:k,feedback:h,topLevelFeedback:m}),commentIDs:i,depth:k,hasNext:u,hasPrevious:v,pageSize:j,totalCount:o},state:w}));return{listState:w,mirroredProps:p}}l=a.commentIDsUpdatedToServerIDs;l&&l.length>0&&l.forEach(function(a){var b=a.clientID;a=a.serverID;w=n.setServerCommentID({args:{clientCommentID:b,serverCommentID:a},state:w})});f=a.receivedCommentIDs;i=k===1||k===0&&s.getCommentsCount({depth:k,state:w})>0;if(f!=null&&i){o=f.commentIDs;l=f.direction;k===0?l==="backward"?w=n.receiveCommentsPage({args:{beforeCount:r,commentIDs:o,depth:k,direction:l,hasPrevious:v,pageSize:j,totalCount:d},state:w}):w=n.receiveCommentsPage({args:{afterCount:q,commentIDs:o,depth:k,direction:l,hasNext:u,pageSize:j,totalCount:d},state:w}):l==="backward"?w=n.receiveCommentsPage({args:{beforeCount:r,commentIDs:o,depth:k,direction:l,hasPrevious:v,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:j,totalCount:d},state:w}):w=n.receiveCommentsPage({args:{afterCount:q,commentIDs:o,depth:k,direction:l,hasNext:u,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:j,totalCount:d},state:w})}i=a.addedCommentID;if(i!=null){f=a.connectionPageInfo.pageSize;k===0?w=n.receiveNewComment({args:{commentID:i,depth:k,pageSize:f,totalCount:d},state:c}):w=n.receiveNewComment({args:{commentID:i,depth:k,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies,pageSize:f,totalCount:d},state:c})}r=a.removedCommentID;r!=null&&(k===0?w=n.deleteComment({args:{commentID:r,depth:k},state:c}):w=n.deleteComment({args:{commentID:r,depth:k,minCountToShowCollapser:b("UFI2CommentsConfig").minRepliesToToggleReplies},state:c}));v=t({depth:k,feedback:e,topLevelFeedback:g});q=t({depth:k,feedback:h,topLevelFeedback:m});v!==q&&(w=n.setCanViewerComment({args:{canViewerComment:q},state:w}));return{listState:w,mirroredProps:p}}e.exports={_updaterDepth0_DO_NOT_USE:a,_updaterDepth1_DO_NOT_USE:c,Actions:q,Selectors:s,StateUpdaters:n,getCanViewerComment:t,getDerivedStateFromProps:f,getInitialState:d}}),null);
__d("UFI2CommentsList_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentsList_feedback",type:"Feedback",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"includeNestedComments",type:"Boolean!",defaultValue:!0}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"can_viewer_comment",args:[{kind:"Literal",name:"use_default_actor",value:!1,type:"Boolean"}],storageKey:"can_viewer_comment(use_default_actor:false)"},{kind:"FragmentSpread",name:"UFI2CommentsProvider_feedback",args:[{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments",type:null}]}]};e.exports=a}),null);
__d("UFI2CommentsProviderPaginationQuery.graphql",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();var a=[{kind:"LocalArgument",name:"after",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"before",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth0",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth1",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"contextForFeedback",type:"String",defaultValue:null},{kind:"LocalArgument",name:"feedbackID",type:"ID!",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"focusCommentID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"includeNestedComments",type:"Boolean",defaultValue:!0},{kind:"LocalArgument",name:"isInitialFetch",type:"Boolean",defaultValue:null},{kind:"LocalArgument",name:"last",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null},{kind:"LocalArgument",name:"viewOption",type:"WebCommentViewOption",defaultValue:null}],b=[{kind:"Variable",name:"id",variableName:"feedbackID",type:"ID!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"Variable",name:"context_for_feedback",variableName:"contextForFeedback",type:"String"},e={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID",type:"ID"},f={kind:"ScalarField",alias:null,name:"after_count",args:null,storageKey:null},g={kind:"ScalarField",alias:null,name:"before_count",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},i={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},j={kind:"LinkedField",alias:null,name:"comment_menu_items",storageKey:null,args:null,concreteType:null,plural:!0,selections:[i,{kind:"InlineFragment",type:"CommentMenuItemDeleteAndRemoveMember",selections:[{kind:"ScalarField",alias:null,name:"show_remove_content_options",args:null,storageKey:null}]}]},k={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},l={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale",type:"Float"},n={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},o=[n],p=[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1",type:"Int"},m,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1",type:"Int"}],q=[{kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null}];q={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,k,l,i,{kind:"LinkedField",alias:"profile_picture_depth_0",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth0",type:"Int"},m,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth0",type:"Int"}],concreteType:"Image",plural:!1,selections:o},{kind:"LinkedField",alias:"profile_picture_depth_1",name:"profile_picture",storageKey:null,args:p,concreteType:"Image",plural:!1,selections:o},{kind:"InlineFragment",type:"Page",selections:q},{kind:"InlineFragment",type:"User",selections:q}]};var r={kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null},s={kind:"Literal",name:"height",value:396,type:"Int"},t={kind:"Literal",name:"width",value:396,type:"Int"},u={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},w=[u,n,v];n=[n,v,u];var x={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},y=[x],z=[{kind:"Literal",name:"height",value:80,type:"Int"},m,{kind:"Literal",name:"width",value:80,type:"Int"}];s={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},l,{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,{kind:"LinkedField",alias:"gifAnimatedImage_396",name:"animated_image",storageKey:null,args:[s,{kind:"Literal",name:"media_type",value:"image/gif",type:"String"},m,t],concreteType:"Image",plural:!1,selections:w},{kind:"LinkedField",alias:"image_396",name:"image",storageKey:null,args:[s,m,t],concreteType:"Image",plural:!1,selections:w},{kind:"LinkedField",alias:"webPAnimatedImage_396",name:"animated_image",storageKey:null,args:[s,{kind:"Literal",name:"media_type",value:"image/webp",type:"String"},m,t],concreteType:"Image",plural:!1,selections:w},c,{kind:"LinkedField",alias:"fallback_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:98,type:"Int"},m,{kind:"Literal",name:"width",value:98,type:"Int"}],concreteType:"Image",plural:!1,selections:w},{kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null},{kind:"InlineFragment",type:"Photo",selections:[{kind:"ScalarField",alias:null,name:"accessibility_caption",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:240,type:"Int"},m,{kind:"Literal",name:"width",value:240,type:"Int"}],concreteType:"Image",plural:!1,selections:n}]},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"animated_image_attribution",args:null,storageKey:null},v,u,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:o}]}]},{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:y},{kind:"LinkedField",alias:null,name:"title_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:y},{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,c,{kind:"InlineFragment",type:"ExternalUrl",selections:[l]}]},{kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[i,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"integrity_context_title",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null},{kind:"LinkedField",alias:"sticker",name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,c,{kind:"InlineFragment",type:"Sticker",selections:[{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[k,c]},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:z,concreteType:"Image",plural:!1,selections:o},{kind:"LinkedField",alias:"sticker_image",name:"image",storageKey:null,args:z,concreteType:"Image",plural:!1,selections:n}]}]}]};t={kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[c,i]};w={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null};m={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null};v={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation:"ORIGINAL")',args:[{kind:"Literal",name:"translation",value:"ORIGINAL",type:"CommentPreferredBodyTranslation"}],concreteType:null,plural:!1,selections:[i,{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[i,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT",type:"TextDelightSurface"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},c]},w,m]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[i,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},c]},{kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},w,m]},x]},{kind:"InlineFragment",type:"FBMarkdownCommentBody",selections:[{kind:"ScalarField",alias:null,name:"fb_workplace_commonmark_ast_serialized",args:null,storageKey:null}]}]};u={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_author_muted",args:null,storageKey:null}]};y={kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null};z={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null};n={kind:"ScalarField",alias:null,name:"comment_menu_tooltip",args:null,storageKey:null};w={kind:"ScalarField",alias:null,name:"is_hidden_by_viewer",args:null,storageKey:null};m={kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null};x={kind:"LinkedField",alias:null,name:"edit_history",storageKey:null,args:null,concreteType:"EditHistoryConnection",plural:!1,selections:[h]};var A={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null};A={kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},c,{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null},c,A]},{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null}]}]},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null},h]},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,c]},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[A,c]},{kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[A]}]};var B={kind:"ScalarField",alias:null,name:"chat_to_buy",args:null,storageKey:null},C={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},D={kind:"ScalarField",alias:null,name:"is_markdown_enabled",args:null,storageKey:null},E={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},F={kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null}]},G={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null};k={kind:"LinkedField",alias:null,name:"highlighted_comments",storageKey:null,args:null,concreteType:"Comment",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[i,k,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:p,concreteType:"Image",plural:!1,selections:o},c]},C,c]};p={kind:"ScalarField",alias:null,name:"is_initially_expanded",args:null,storageKey:null};o={kind:"ScalarField",alias:null,name:"page_size",args:null,storageKey:null};var H={kind:"ScalarField",alias:null,name:"view_option",args:null,storageKey:null},I={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null}]};return{kind:"Request",operationKind:"query",name:"UFI2CommentsProviderPaginationQuery",id:"1324749930961106",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2CommentsProviderPaginationQuery",type:"Query",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2CommentsProvider_feedback",args:[{kind:"Variable",name:"after",variableName:"after",type:null},{kind:"Variable",name:"before",variableName:"before",type:null},{kind:"Variable",name:"first",variableName:"first",type:null},{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments",type:null},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch",type:null},{kind:"Variable",name:"last",variableName:"last",type:null},{kind:"Variable",name:"viewOption",variableName:"viewOption",type:null}]}]}]},operation:{kind:"Operation",name:"UFI2CommentsProviderPaginationQuery",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:b,concreteType:"Feedback",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:[{kind:"Variable",name:"after",variableName:"after",type:"ID"},{kind:"Variable",name:"before",variableName:"before",type:"ID"},d,{kind:"Variable",name:"first",variableName:"first",type:"Int"},e,{kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch",type:"Boolean"},{kind:"Variable",name:"last",variableName:"last",type:"Int"},{kind:"Variable",name:"view_option",variableName:"viewOption",type:"WebCommentViewOption"}],concreteType:"DisplayCommentsConnection",plural:!1,selections:[f,g,h,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[j,c,q,r,s,t,v,u,y,z,n,w,m,x,A,B,C,l,D,E,F,i,{kind:"Condition",passingValue:!0,condition:"includeNestedComments",selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"can_viewer_comment",args:[{kind:"Literal",name:"use_default_actor",value:!1,type:"Boolean"}],storageKey:"can_viewer_comment(use_default_actor:false)"},{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:[d,e,{kind:"Literal",name:"is_initial_fetch",value:!0,type:"Boolean"}],concreteType:"DisplayCommentsConnection",plural:!1,selections:[f,g,h,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[j,c,q,r,s,t,v,u,y,z,n,w,m,x,A,B,C,l,D,E,F,i]},G]},k,p,o,H,I]},{kind:"LinkedHandle",alias:null,name:"display_comments",args:[d,e,{kind:"Literal",name:"is_initial_fetch",value:!0,type:"Boolean"}],handle:"connection",key:"UFI2CommentsProvider_feedback_display_comments",filters:["context_for_feedback","view_option"]}]}]}]},G]},p,o,H,I,{kind:"Condition",passingValue:!1,condition:"includeNestedComments",selections:[k]}]},{kind:"LinkedHandle",alias:null,name:"display_comments",args:[{kind:"Variable",name:"after",variableName:"after",type:"ID"},{kind:"Variable",name:"before",variableName:"before",type:"ID"},d,{kind:"Variable",name:"first",variableName:"first",type:"Int"},e,{kind:"Variable",name:"is_initial_fetch",variableName:"isInitialFetch",type:"Boolean"},{kind:"Variable",name:"last",variableName:"last",type:"Int"},{kind:"Variable",name:"view_option",variableName:"viewOption",type:"WebCommentViewOption"}],handle:"connection",key:"UFI2CommentsProvider_feedback_display_comments",filters:["context_for_feedback","view_option"]}]}]}}}();e.exports=a}),null);
__d("UFI2CommentsProviderState",["invariant","idx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){return a.startsWith("client:")}function i(a){return a!=null&&(a.is_locally_composed===!0||a.optimistic_error!=null)}function j(a){a=(a=a)!=null?(a=a.feedback)!=null?(a=a.display_comments)!=null?a.before_count:a:a:a;return typeof a==="number"?a:null}function k(a){return a.map(function(a,b){return h(a)?{commentID:a,index:b}:null}).filter(Boolean)}function l(a){var b={};a=a?a.map(function(a){a=a.node;if(a&&typeof a.id==="string"){b[a.id]=a;return a.id}return null}).filter(Boolean):[];return{commentIDs:a,commentsByID:b}}function m(a,b,c,d,e){__p&&__p();var f=d.length===0;a===0&&(f&&g(0));a=d.filter(function(a){return!i(c[a])});d=e.filter(function(a){return!i(c[a])});var h=a.length,j=d.length;j=j-h;j>0||g(0);a=a[0];var k=d[0];f=f?"forward":a!==k?"backward":"forward";if(f==="backward"){a=d.slice(0,j);k=e.filter(function(a){return i(c[a])});j=k.length;e=b!=null&&b<j;e=b!=null&&e?[].concat(k.slice(j-(j-b)),a):a;return{commentIDs:e,direction:f}}return{commentIDs:d.slice(h),direction:f}}function n(a,b){var c=Object.keys(a),d=Object.keys(b),e=c.length,f=d.length;e-f===1||g(0);d.every(function(b){return Object.prototype.hasOwnProperty.call(a,b)})||g(0);e=c.find(function(a){return!Object.prototype.hasOwnProperty.call(b,a)});e!=null||g(0);return e}function o(a,b,c){__p&&__p();b=b.length;var d=c.length;d=d!==b;if(d)return null;for(var b=a,d=Array.isArray(b),a=0,b=d?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(d){if(a>=b.length)break;e=b[a++]}else{a=b.next();if(a.done)break;e=a.value}e=e;var f=e.commentID;e=e.index;e=c[e];if(e==null)continue;if(h(e)&&f!==e){var g=c.find(function(a){return!h(a)});if(g!=null)return[{clientID:f,serverID:g}]}else if(!h(e))return[{clientID:f,serverID:e}]}return[]}function a(a,b){__p&&__p();var c=a.depth,d=b.commentsByID,e=b.commentIDs,f=l(a.edges),g=f.commentIDs;f=f.commentsByID;a=j(a);var h=e.length,p=d[e[0]];p=p&&p.id;var q=b.clientCommentIDs,r=g.length,s=f[g[0]],t=s!=null?s.id:null,u=k(g),v=b.selectedViewOption;b=b.isRefetchingConnection;s=r-h===1&&s!=null&&i(s)&&t!==p;p=s===!0?t:null;t=r>h;r=h-r===1;h=c===0&&t&&h===0;q=o(q,e,g);r=r&&!b;r=r?n(d,f):null;d=t&&!s&&!h&&!b;t=d?m(c,a,f,e,g):null;return{addedCommentID:p,clientCommentIDs:u,commentIDs:g,commentIDsUpdatedToServerIDs:q,commentsByID:f,isRefetchingConnection:b,receivedCommentIDs:t,removedCommentID:r,selectedViewOption:v}}function b(a){a=a.edges;a=l(a);var b=a.commentIDs;a=a.commentsByID;var c=k(b);return{addedCommentID:null,clientCommentIDs:c,commentIDs:b,commentIDsUpdatedToServerIDs:[],commentsByID:a,isRefetchingConnection:!1,receivedCommentIDs:null,removedCommentID:null,selectedViewOption:null}}e.exports={getBeforeCount:j,getClientCommentIDs:k,getCommentIDsUpdatedToServerIDs:o,getCommentsFromEdges:l,getDerivedStateFromProps:a,getInitialState:b,getReceivedCommentIDs:m,getRemovedCommentID:n}}),null);
__d("UFI2CommentsProvider_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};return{kind:"Fragment",name:"UFI2CommentsProvider_feedback",type:"Feedback",metadata:{connection:[{count:null,cursor:null,direction:"bidirectional",path:["display_comments"]}]},argumentDefinitions:[{kind:"LocalArgument",name:"after",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"before",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"first",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"last",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"includeNestedComments",type:"Boolean!",defaultValue:!0},{kind:"LocalArgument",name:"isInitialFetch",type:"Boolean!",defaultValue:!0},{kind:"LocalArgument",name:"viewOption",type:"WebCommentViewOption",defaultValue:null},{kind:"LocalArgument",name:"__false",type:"Boolean!",defaultValue:!1},{kind:"RootArgument",name:"contextForFeedback",type:"String"},{kind:"RootArgument",name:"focusCommentID",type:"ID"}],selections:[a,{kind:"LinkedField",alias:"display_comments",name:"__UFI2CommentsProvider_feedback_display_comments_connection",storageKey:null,args:[{kind:"Variable",name:"context_for_feedback",variableName:"contextForFeedback",type:"String"},{kind:"Variable",name:"view_option",variableName:"viewOption",type:"WebCommentViewOption"}],concreteType:"DisplayCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"after_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"before_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[a,{kind:"ScalarField",alias:null,name:"client_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_hidden_by_viewer",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_locally_composed",args:null,storageKey:null},{kind:"FragmentSpread",name:"UFI2Comment_comment",args:null},{kind:"ScalarField",alias:null,name:"optimistic_error",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"Condition",passingValue:!0,condition:"includeNestedComments",selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2CommentsList_feedback",args:[{kind:"Variable",name:"includeNestedComments",variableName:"__false",type:null},{kind:"Variable",name:"isInitialFetch",variableName:"isInitialFetch",type:null}]}]}]}]},{kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"is_initially_expanded",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"page_size",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"view_option",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null}]},{kind:"Condition",passingValue:!1,condition:"includeNestedComments",selections:[{kind:"LinkedField",alias:null,name:"highlighted_comments",storageKey:null,args:null,concreteType:"Comment",plural:!0,selections:[{kind:"FragmentSpread",name:"UFI2RepliesExpander_highlightedComments",args:null}]}]}]}]}}();e.exports=a}),null);
__d("UFI2CreateCommentSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();var a=[{kind:"LocalArgument",name:"commentProfilePictureSizeDepth0",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"commentProfilePictureSizeDepth1",type:"Int",defaultValue:null},{kind:"LocalArgument",name:"contextForFeedback",type:"String",defaultValue:null},{kind:"LocalArgument",name:"focusCommentID",type:"ID",defaultValue:null},{kind:"LocalArgument",name:"input",type:"CommentCreateSubscribeData!",defaultValue:null},{kind:"LocalArgument",name:"scale",type:"Float",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"CommentCreateSubscribeData!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},e=[d],f={kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:null,concreteType:"DisplayCommentsConnection",plural:!1,selections:e}]},g={kind:"ScalarField",alias:null,name:"cursor",args:null,storageKey:null},h={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},i={kind:"Variable",name:"scale",variableName:"scale",type:"Float"},j={kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null},k=[j],l={kind:"LinkedField",alias:"profile_picture_depth_0",name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth0",type:"Int"},i,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth0",type:"Int"}],concreteType:"Image",plural:!1,selections:k},m=[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1",type:"Int"},i,{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1",type:"Int"}],n={kind:"LinkedField",alias:"profile_picture_depth_1",name:"profile_picture",storageKey:null,args:m,concreteType:"Image",plural:!1,selections:k},o={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},p={kind:"LinkedField",alias:null,name:"comment_menu_items",storageKey:null,args:null,concreteType:null,plural:!0,selections:[o,{kind:"InlineFragment",type:"CommentMenuItemDeleteAndRemoveMember",selections:[{kind:"ScalarField",alias:null,name:"show_remove_content_options",args:null,storageKey:null}]}]},q={kind:"ScalarField",alias:null,name:"url",args:null,storageKey:null},r=[{kind:"ScalarField",alias:null,name:"is_verified",args:null,storageKey:null}];r={kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[c,h,q,o,l,n,{kind:"InlineFragment",type:"Page",selections:r},{kind:"InlineFragment",type:"User",selections:r}]};var s={kind:"Literal",name:"height",value:396,type:"Int"},t={kind:"Literal",name:"width",value:396,type:"Int"},u={kind:"ScalarField",alias:null,name:"height",args:null,storageKey:null},v={kind:"ScalarField",alias:null,name:"width",args:null,storageKey:null},w=[u,j,v];j=[j,v,u];var x={kind:"ScalarField",alias:null,name:"text",args:null,storageKey:null},y=[x],z=[{kind:"Literal",name:"height",value:80,type:"Int"},i,{kind:"Literal",name:"width",value:80,type:"Int"}];s={kind:"LinkedField",alias:null,name:"attachments",storageKey:null,args:null,concreteType:"StoryAttachment",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style_list",args:null,storageKey:null},q,{kind:"LinkedField",alias:null,name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,{kind:"LinkedField",alias:"gifAnimatedImage_396",name:"animated_image",storageKey:null,args:[s,{kind:"Literal",name:"media_type",value:"image/gif",type:"String"},i,t],concreteType:"Image",plural:!1,selections:w},{kind:"LinkedField",alias:"image_396",name:"image",storageKey:null,args:[s,i,t],concreteType:"Image",plural:!1,selections:w},{kind:"LinkedField",alias:"webPAnimatedImage_396",name:"animated_image",storageKey:null,args:[s,{kind:"Literal",name:"media_type",value:"image/webp",type:"String"},i,t],concreteType:"Image",plural:!1,selections:w},c,{kind:"LinkedField",alias:"fallback_image",name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:98,type:"Int"},i,{kind:"Literal",name:"width",value:98,type:"Int"}],concreteType:"Image",plural:!1,selections:w},{kind:"ScalarField",alias:null,name:"is_playable",args:null,storageKey:null},{kind:"InlineFragment",type:"Photo",selections:[{kind:"ScalarField",alias:null,name:"accessibility_caption",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:[{kind:"Literal",name:"height",value:240,type:"Int"},i,{kind:"Literal",name:"width",value:240,type:"Int"}],concreteType:"Image",plural:!1,selections:j}]},{kind:"InlineFragment",type:"Video",selections:[{kind:"ScalarField",alias:null,name:"animated_image_attribution",args:null,storageKey:null},v,u,{kind:"LinkedField",alias:null,name:"image",storageKey:null,args:null,concreteType:"Image",plural:!1,selections:k}]}]},{kind:"LinkedField",alias:null,name:"source",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:y},{kind:"LinkedField",alias:null,name:"title_with_entities",storageKey:null,args:null,concreteType:"TextWithEntities",plural:!1,selections:y},{kind:"LinkedField",alias:null,name:"target",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,c,{kind:"InlineFragment",type:"ExternalUrl",selections:[q]}]},{kind:"LinkedField",alias:null,name:"action_links",storageKey:null,args:null,concreteType:null,plural:!0,selections:[o,{kind:"InlineFragment",type:"ArticleContextActionLink",selections:[{kind:"ScalarField",alias:null,name:"object_id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"integrity_context_title",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"tracking",args:null,storageKey:null},{kind:"LinkedField",alias:"sticker",name:"media",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,c,{kind:"InlineFragment",type:"Sticker",selections:[{kind:"ScalarField",alias:null,name:"frame_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frame_rate",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_column",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"frames_per_row",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"label",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"pack",storageKey:null,args:null,concreteType:"StickerPack",plural:!1,selections:[h,c]},{kind:"LinkedField",alias:null,name:"sprite_image",storageKey:null,args:z,concreteType:"Image",plural:!1,selections:k},{kind:"LinkedField",alias:"sticker_image",name:"image",storageKey:null,args:z,concreteType:"Image",plural:!1,selections:j}]}]}]};t={kind:"LinkedField",alias:null,name:"attached_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[c,o]};w={kind:"ScalarField",alias:null,name:"length",args:null,storageKey:null};i={kind:"ScalarField",alias:null,name:"offset",args:null,storageKey:null};v={kind:"LinkedField",alias:null,name:"preferred_body",storageKey:'preferred_body(translation:"ORIGINAL")',args:[{kind:"Literal",name:"translation",value:"ORIGINAL",type:"CommentPreferredBodyTranslation"}],concreteType:null,plural:!1,selections:[o,{kind:"InlineFragment",type:"TextWithEntities",selections:[{kind:"LinkedField",alias:null,name:"delight_ranges",storageKey:null,args:null,concreteType:"DelightAtRange",plural:!0,selections:[o,{kind:"LinkedField",alias:null,name:"campaign",storageKey:null,args:null,concreteType:"TextDelightCampaign",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"delight_styles",storageKey:'delight_styles(delight_surface:"COMMENT")',args:[{kind:"Literal",name:"delight_surface",value:"COMMENT",type:"TextDelightSurface"}],concreteType:"TextDelightStylePair",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"style",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"value",args:null,storageKey:null}]},c]},w,i]},{kind:"LinkedField",alias:null,name:"ranges",storageKey:null,args:null,concreteType:"EntityAtRange",plural:!0,selections:[o,{kind:"LinkedField",alias:null,name:"entity",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,{kind:"ScalarField",alias:null,name:"url",args:[{kind:"Literal",name:"site",value:"www",type:"SiteEnum"}],storageKey:'url(site:"www")'},c]},{kind:"ScalarField",alias:null,name:"entity_is_weak_reference",args:null,storageKey:null},w,i]},x]},{kind:"InlineFragment",type:"FBMarkdownCommentBody",selections:[{kind:"ScalarField",alias:null,name:"fb_workplace_commonmark_ast_serialized",args:null,storageKey:null}]}]};u={kind:"LinkedField",alias:null,name:"group_comment_info",storageKey:null,args:null,concreteType:"GroupCommentInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"is_author_muted",args:null,storageKey:null}]};y={kind:"ScalarField",alias:null,name:"legacy_fbid",args:null,storageKey:null};z={kind:"ScalarField",alias:null,name:"legacy_token",args:null,storageKey:null};j={kind:"ScalarField",alias:null,name:"comment_menu_tooltip",args:null,storageKey:null};w={kind:"ScalarField",alias:null,name:"is_author_weak_reference",args:null,storageKey:null};i={kind:"ScalarField",alias:null,name:"can_viewer_disable_preview",args:null,storageKey:null};x={kind:"LinkedField",alias:null,name:"edit_history",storageKey:null,args:null,concreteType:"EditHistoryConnection",plural:!1,selections:e};e={kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null};var A={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},B={kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null},c,A]},{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null}]}]},C={kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null},d]},D={kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,c]},E={kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[A,c]};A={kind:"LinkedField",alias:null,name:"supported_reactions",storageKey:null,args:null,concreteType:"FeedbackReaction",plural:!0,selections:[A]};var F=[{kind:"Variable",name:"context_for_feedback",variableName:"contextForFeedback",type:"String"},{kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID",type:"ID"},{kind:"Literal",name:"is_initial_fetch",value:!0,type:"Boolean"}],G={kind:"ScalarField",alias:null,name:"after_count",args:null,storageKey:null},H={kind:"ScalarField",alias:null,name:"before_count",args:null,storageKey:null},I={kind:"ScalarField",alias:null,name:"is_hidden_by_viewer",args:null,storageKey:null},J={kind:"ScalarField",alias:null,name:"chat_to_buy",args:null,storageKey:null},K={kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null},L={kind:"ScalarField",alias:null,name:"is_markdown_enabled",args:null,storageKey:null},M={kind:"ScalarField",alias:null,name:"translation_available_for_viewer",args:null,storageKey:null},N={kind:"LinkedField",alias:null,name:"translatability_for_viewer",storageKey:null,args:null,concreteType:"PostTranslatability",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"source_dialect_name",args:null,storageKey:null}]},O={kind:"ScalarField",alias:null,name:"is_initially_expanded",args:null,storageKey:null},P={kind:"ScalarField",alias:null,name:"page_size",args:null,storageKey:null},Q={kind:"ScalarField",alias:null,name:"view_option",args:null,storageKey:null},R={kind:"LinkedField",alias:null,name:"page_info",storageKey:null,args:null,concreteType:"PageInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"end_cursor",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_next_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"has_previous_page",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"start_cursor",args:null,storageKey:null}]},S={kind:"LinkedHandle",alias:null,name:"display_comments",args:F,handle:"connection",key:"UFI2CommentsProvider_feedback_display_comments",filters:["context_for_feedback","view_option"]};return{kind:"Request",operationKind:"subscription",name:"UFI2CreateCommentSubscription",id:"1877357902309321",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2CreateCommentSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment_create_subscribe",storageKey:null,args:b,concreteType:"CommentCreateResponsePayload",plural:!1,selections:[f,{kind:"LinkedField",alias:null,name:"feedback_comment_edge",storageKey:null,args:null,concreteType:"CommentsEdge",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2Comment_comment",args:null},{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[h,l,n]},{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2CommentsProvider_feedback",args:null}]},{kind:"LinkedField",alias:null,name:"parent_post_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2CommentsCount_feedback",args:null}]}]}]}]}]}]},operation:{kind:"Operation",name:"UFI2CreateCommentSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment_create_subscribe",storageKey:null,args:b,concreteType:"CommentCreateResponsePayload",plural:!1,selections:[f,{kind:"LinkedField",alias:null,name:"feedback_comment_edge",storageKey:null,args:null,concreteType:"CommentsEdge",plural:!1,selections:[g,{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[p,r,c,s,t,v,u,y,z,j,w,i,x,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[e,c,B,C,D,E,A,{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:F,concreteType:"DisplayCommentsConnection",plural:!1,selections:[G,H,d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[p,c,r,w,s,t,v,u,y,z,j,I,i,x,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[e,c,B,C,D,E,A,{kind:"ScalarField",alias:null,name:"can_viewer_comment",args:[{kind:"Literal",name:"use_default_actor",value:!1,type:"Boolean"}],storageKey:"can_viewer_comment(use_default_actor:false)"},{kind:"LinkedField",alias:null,name:"display_comments",storageKey:null,args:F,concreteType:"DisplayCommentsConnection",plural:!1,selections:[G,H,d,{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"DisplayCommentsEdge",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"Comment",plural:!1,selections:[p,c,r,w,s,t,v,u,y,z,j,I,i,x,{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[e,c,B,C,D,E,A]},J,K,q,L,M,N,o]},g]},{kind:"LinkedField",alias:null,name:"highlighted_comments",storageKey:null,args:null,concreteType:"Comment",plural:!0,selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[o,h,{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:m,concreteType:"Image",plural:!1,selections:k},c]},K,c]},O,P,Q,R]},S]},J,K,q,L,M,N,o]},g]},O,P,Q,R]},S]},J,K,q,L,M,N,{kind:"LinkedField",alias:null,name:"parent_post_story",storageKey:null,args:null,concreteType:"Story",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[c,{kind:"LinkedField",alias:"comment_count",name:"top_level_comments",storageKey:null,args:null,concreteType:"TopLevelCommentsConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"total_count",args:null,storageKey:null}]},{kind:"ScalarField",alias:"i18n_comment_count",name:"comment_count_reduced",args:null,storageKey:null},q]},c]}]}]}]}]}}}();e.exports=a}),null);
__d("UFI2CreateCommentSubscription",["FBLogger","RelayModern","RelayRuntime","WebPixelRatio","idx","UFI2CreateCommentSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=b("RelayRuntime").ConnectionHandler,i=function(){return b("UFI2CreateCommentSubscription.graphql")};function a(a){__p&&__p();var c=a.commentProfilePictureSizeDepth0,d=a.commentProfilePictureSizeDepth1,e=a.contextForFeedback,f=a.environment,j=a.onCompleted,k=a.onNext,l=a.topLevelFeedbackTargetID;function m(a){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",l||"UNKNOWN").warn(a)}return g(f,{onCompleted:j,onNext:k,subscription:i,updater:function(a,c){__p&&__p();var d=a.getRootField("comment_create_subscribe");if(d==null){m("could not find comment create subscription payload");return}var f=d.getLinkedRecord("feedback");if(f==null){m("could not find feedback target in payload");return}var g=f.getDataID();if(g==null){m("could not get feedback target id");return}g=a.get(g);if(g==null){m("could not find feedback record");return}g=h.getConnection(g,"UFI2CommentsProvider_feedback_display_comments",{context_for_feedback:e});if(!g){m("Could not find a display_comments connection with the given context");return}d=d.getLinkedRecord("feedback_comment_edge");if(d==null){m("could not find comment edge");return}var i=d.getLinkedRecord("node");if(i==null){m("could not find comment node");return}var j=g.getLinkedRecords("edges");if(j==null){m("could not find comment edges");return}var k=!1;for(var j=j,n=Array.isArray(j),o=0,j=n?j:j[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var p;if(n){if(o>=j.length)break;p=j[o++]}else{o=j.next();if(o.done)break;p=o.value}p=p;p=p&&p.getLinkedRecord("node");if(p==null){m("could not find edge node");continue}if(p.getDataID()===i.getDataID()){k=!0;break}}if(k)return;p=g.getValue("before_count")||0;if(typeof p!=="number"){m("expected `before_count` to be a number");return}o=h.createEdge(a,g,i,d.getType());if(o==null){m("could not build comment edge");return}h.insertEdgeBefore(g,o);i.setValue(!0,"is_locally_composed");n=f.getLinkedRecord("display_comments");if(n==null){m("could not get display_comments from payload");return}j=n.getValue("count");if(j==null){m("could not get display_comments count from payload");return}g.setValue(j,"count");a=[(k=c.comment_create_subscribe)!=null?(k=k.feedback_comment_edge)!=null?(k=k.node)!=null?(k=k.author)!=null?(k=k.profile_picture_depth_0)!=null?k.uri:k:k:k:k:k,(p=c.comment_create_subscribe)!=null?(p=p.feedback_comment_edge)!=null?(p=p.node)!=null?(p=p.author)!=null?(p=p.profile_picture_depth_1)!=null?p.uri:p:p:p:p:p];if(a[0]==null||a[1]==null){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",l||"UNKNOWN").addMetadata("UFI","COMMENT_ID",((d=c.comment_create_subscribe)!=null?(d=d.feedback_comment_edge)!=null?(d=d.node)!=null?d.__id:d:d:d)||"UNKNOWN").warn("Profile photo missing on live comment")}},variables:{commentProfilePictureSizeDepth0:c,commentProfilePictureSizeDepth1:d,contextForFeedback:e,input:{top_level_feedback_id:l},scale:b("WebPixelRatio").get()}})}e.exports={subscribe:a}}),null);
__d("UFI2RealtimeContext",["React","warning"],(function(a,b,c,d,e,f){"use strict";a=b("React").createContext(function(){b("warning")(!1,"UFI2RealtimeContext: Using default context. Put an instance of `UFI2RealtimeRoot` in the tree.");return null});e.exports=a}),null);
__d("UFI2RealtimeContainer.react",["React","UFI2RealtimeContext"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function a(a){var c=a.children,d=a.subscribe;return b("React").createElement(b("UFI2RealtimeContext").Consumer,null,function(a){return b("React").createElement(h,{factory:a,subscribe:d},c)})}g=babelHelpers.inherits(h,b("React").Component);g&&g.prototype;h.prototype.componentDidMount=function(){this.$1||(this.$1=this.props.factory(new i(this.props.subscribe)))};h.prototype.componentWillUnmount=function(){this.$1&&(this.$1.dispose(),this.$1=null)};h.prototype.render=function(){return this.props.children||null};function h(){g.apply(this,arguments)}function i(a){this.$1=a}i.prototype.subscribe=function(){this.$2||(this.$2=this.$1())};i.prototype.unsubscribe=function(){this.$2&&(this.$2.dispose(),this.$2=null)};e.exports=a}),null);
__d("react-relay/modern/ReactRelayContextConsumer",["React","react-relay/classic/container/RelayPropTypes"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c;c=babelHelpers.inherits(d,b("React").Component);c&&c.prototype;d.prototype.render=function(){"use strict";return b("React").createElement(a,babelHelpers["extends"]({},this.props,{relay:this.context.relay}))};function d(){"use strict";c.apply(this,arguments)}d.contextTypes={relay:b("react-relay/classic/container/RelayPropTypes").Relay};return d}e.exports={injectContext:a}}),null);
__d("UFI2RelayConnectionRenderer.react",["invariant","React","RelayRuntime","deepFreeze","react-relay/classic/container/RelayPropTypes","react-relay/classic/environment/RelayContext","react-relay/modern/ReactRelayContextConsumer","react-relay/modern/ReactRelayQueryFetcher"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("RelayRuntime").ConnectionInterface,j=b("react-relay/classic/environment/RelayContext").assertRelayContext;c=b("react-relay/modern/ReactRelayContextConsumer").injectContext;d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a),this.$4=function(a,b){var c=this.state.isLoadingNext;if(!this.$5()||c)return;this.$2("forward",a,b||{})}.bind(this),this.$6=function(a,b){var c=this.state.isLoadingPrevious;if(!this.$7()||c)return;this.$2("backward",a,b||{})}.bind(this),this.$5=function(){var a=this.props.connection;a=k(a);return a?a.hasNext:!1}.bind(this),this.$7=function(){var a=this.props.connection;a=k(a);return a?a.hasPrevious:!1}.bind(this),this.$3=function(a,b){a==="forward"?this.setState({isLoadingNext:!0},b):a==="backward"&&this.setState({isLoadingPrevious:!0},b)}.bind(this),j(a.relay),this.state={isLoadingNext:!1,isLoadingPrevious:!1,prevProps:a,queryFetchers:{backward:new(b("react-relay/modern/ReactRelayQueryFetcher"))(),forward:new(b("react-relay/modern/ReactRelayQueryFetcher"))()}}}a.getDerivedStateFromProps=function(a,b){var c=j(a.relay);if(b.prevProps.paginationQuery!==a.paginationQuery||b.prevProps.relay.environment!==c.environment||b.prevProps.relay.variables!==c.variables){c=b.queryFetchers;return{isLoadingNext:!1,isLoadingPrevious:!1,prevProps:a,queryFetchers:babelHelpers["extends"]({},c)}}return null};a.prototype.componentDidUpdate=function(a,b){this.state.queryFetchers!==b.queryFetchers&&(b.queryFetchers.backward.dispose(),b.queryFetchers.forward.dispose())};a.prototype.componentWillUnmount=function(){var a=this.state.queryFetchers;a.backward.dispose();a.forward.dispose()};a.prototype.shouldComponentUpdate=function(a,b){return!0};a.prototype.$1=function(a,b){a==="forward"?this.setState({isLoadingNext:!1},b):a==="backward"&&this.setState({isLoadingPrevious:!1},b)};a.prototype.$2=function(a,b,c){__p&&__p();var d=this.props,e=d.connection,f=d.paginationQuery;d=d.relay;var h=this.state.queryFetchers;h=h[a];e=k(e);e||g(0);var i=l(a,b,e,c);if(!i)return;b=d.environment;var j=c.onLoaded;e=b.unstable_internal;d=e.createOperationSelector;c=e.getRequest;e=c(f);c=d(e,i);var m=!1;try{f=h.fetch({environment:b,onDataChange:function(b){__p&&__p();b=b.error;if(m)return;m=!0;if(b){j&&j(b);return}if(!i)return;this.$1(a,function(){j&&j(null)})}.bind(this),operation:c,preservePreviousReferences:!0});f?(m=!0,this.$1(a,function(){j&&j(null)})):this.$3(a)}catch(a){j&&j(a)}};a.prototype.render=function(){var a=this.props.connection;if(!a)return null;a=a.edges;var b=this.state,c=b.isLoadingNext;b=b.isLoadingPrevious;a={edges:a,hasNext:this.$5(),hasPrevious:this.$7(),isLoadingNext:c,isLoadingPrevious:b,loadNext:this.$4,loadPrevious:this.$6};return this.props.children(a)};a.contextTypes={relay:b("react-relay/classic/container/RelayPropTypes").Relay};function k(a){if(!a)return null;var b=i.get(),c=b.PAGE_INFO,d=b.HAS_NEXT_PAGE,e=b.HAS_PREV_PAGE,f=b.END_CURSOR;b=b.START_CURSOR;a=a[c];a||g(0);return{backwardCursor:a[b],forwardCursor:a[f],hasNext:a[d],hasPrevious:a[e]}}function l(a,b,c,d){switch(a){case"backward":a=b;var e=c.backwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:null,before:e,first:null,last:a}):babelHelpers["extends"]({after:null,before:e,first:null,last:a},d.queryVariables);case"forward":e=b;a=c.forwardCursor;return typeof d.queryVariables==="function"?d.queryVariables({after:a,before:null,first:e,last:null}):babelHelpers["extends"]({after:a,before:null,first:e,last:null},d.queryVariables);default:throw new Error("UFI2RelayConnectionRenderer: direction must be one of backward or forward")}}e.exports=c(a)}),null);
__d("UFI2CommentsProvider.react",["invariant","FBLogger","React","RelayModern","UFI2CommentsConfig","UFI2CommentsProviderState","UFI2CreateCommentSubscription","UFI2RealtimeContainer.react","UFI2RelayConnectionRenderer.react","WebPixelRatio","idx","UFI2CommentsProviderPaginationQuery.graphql","UFI2CommentsProvider_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createRefetchContainer;b("RelayModern").graphql;d=b("UFI2CommentsProviderState").getDerivedStateFromProps;var i=b("UFI2CommentsProviderState").getInitialState,j=50;f=babelHelpers.inherits(k,b("React").Component);h=f&&f.prototype;function k(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.state=i({edges:this.props.edges,feedback:this.props.feedback}),this.$1=function(a){__p&&__p();var c=a.count,d=a.direction,e=a.onCommentsFetched;a=this.props;var f=a.contextForFeedback,g=a.depth,h=a.feedback,i=a.loadNext;a=a.loadPrevious;var j=this.state.selectedViewOption;h=h.id;if(!h){b("FBLogger")("ufi2").mustfix("UFI2CommentsProvider: Cant fetch without a feedback id");return}f={commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,contextForFeedback:f,feedbackID:h,includeNestedComments:g===0,isInitialFetch:!1,scale:b("WebPixelRatio").get(),viewOption:j};h=e!=null?function(a){return e({direction:d,error:a||null})}:undefined;if(d==="backward")a(c,{onLoaded:h,queryVariables:f});else if(d==="forward")i(c,{onLoaded:h,queryVariables:f});else throw new Error("UFI2CommentsProvider: Invalid direction")}.bind(this),this.$2=function(a){a=this.state.commentsByID[a];a!=null||g(0);return a}.bind(this),this.$3=function(a){a=this.$2(a);a=a.client_id||a.id;a!=null||g(0);return a}.bind(this),this.$5=function(a){a=this.$2(a);return a.is_hidden_by_viewer===!0}.bind(this),this.$6=function(a){__p&&__p();var c=a.onComplete;a=a.queryVariables;var d=this.props,e=d.contextForFeedback,f=d.feedback,g=d.relay;d=this.state.selectedViewOption;f=f.id;if(!f){b("FBLogger")("ufi2").mustfix("UFI2CommentsProvider: Cant refetch without a feedback id");return}var h=babelHelpers["extends"]({commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,contextForFeedback:e,feedbackID:f,includeNestedComments:!0,isInitialFetch:!1,scale:b("WebPixelRatio").get(),viewOption:d},a);this.setState({isRefetchingConnection:!0},function(){g.refetch(function(a){return babelHelpers["extends"]({},a,h)},null,function(a){return this.$4(a||null,c)}.bind(this))}.bind(this))}.bind(this),this.$7=function(a){var b=a.onComplete;a=a.viewOption;this.setState({selectedViewOption:a},function(){this.$6({onComplete:b,queryVariables:{}})}.bind(this))}.bind(this),this.$8=function(){var a=this.props,c=a.contextForFeedback,d=a.depth,e=a.feedback;a=a.relay;e=e.id;return d===1||!e?null:b("UFI2CreateCommentSubscription").subscribe({commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,contextForFeedback:c,environment:a.environment,topLevelFeedbackTargetID:e})}.bind(this),c}k.prototype.$4=function(a,b){this.setState({isRefetchingConnection:!1},function(){b&&b(a)})};k.prototype.render=function(){__p&&__p();var a,c,d=this.props,e=d.children,f=d.feedback,g=d.hasNext,h=d.hasPrevious,i=d.isLoadingNext;d=d.isLoadingPrevious;var k=this.state,l=k.addedCommentID,m=k.commentIDs,n=k.isRefetchingConnection,o=k.receivedCommentIDs,p=k.removedCommentID,q=k.commentIDsUpdatedToServerIDs;k=k.selectedViewOption;a=this.props.pageSize!=null?this.props.pageSize:((a=f)!=null?(a=a.display_comments)!=null?a.page_size:a:a)||j;c={afterCount:((c=f)!=null?(c=c.display_comments)!=null?c.after_count:c:c)||0,beforeCount:((c=f)!=null?(c=c.display_comments)!=null?c.before_count:c:c)||0,hasNext:g,hasPrevious:h,pageSize:a};h=((g=f)!=null?(g=g.display_comments)!=null?g.is_initially_expanded:g:g)||!1;g=((a=f)!=null?(a=a.display_comments)!=null?a.highlighted_comments:a:a)||[];a=((a=f)!=null?(a=a.display_comments)!=null?a.count:a:a)||0;f=k||((k=f)!=null?(k=k.display_comments)!=null?k.view_option:k:k)||null;return b("React").createElement(b("UFI2RealtimeContainer.react"),{subscribe:this.$8},e({addedCommentID:l,commentIDs:m,commentIDsUpdatedToServerIDs:q,connectionPageInfo:c,fetchComments:this.$1,getComment:this.$2,getCommentRenderingKey:this.$3,highlightedComments:g,isCommentHidden:this.$5,isFetchingNextComments:i,isFetchingPreviousComments:d,isInitiallyExpanded:h,isRefetchingConnection:n,receivedCommentIDs:o,refetchConnection:this.$6,removedCommentID:p,setViewOption:this.$7,totalCount:a,viewOption:f}))};k.displayName="UFI2CommentsProviderInternal";k.getDerivedStateFromProps=d;function a(a){var c;c=(c=a)!=null?(c=c.feedback)!=null?c.display_comments:c:c;return b("React").createElement(b("UFI2RelayConnectionRenderer.react"),{connection:c,paginationQuery:l},function(c){return b("React").createElement(k,babelHelpers["extends"]({},a,c))})}a.displayName="UFI2CommentsProvider";a.defaultProps={depth:0};var l=function(){return b("UFI2CommentsProviderPaginationQuery.graphql")};e.exports=c(a,{feedback:function(){return b("UFI2CommentsProvider_feedback.graphql")}},l)}),null);
__d("UFI2CommentsList.react",["fbt","invariant","DOMScroll","React","ReactDOM","RelayModern","SubscriptionsHandler","UFI2CommentsConfig","UFI2CommentsListState","UFI2CommentsProvider.react","debounce","UFI2CommentsList_feedback.graphql"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var j=b("UFI2CommentsListState").Actions,k=b("UFI2CommentsListState").Selectors,l=b("UFI2CommentsListState").getCanViewerComment;d=b("UFI2CommentsListState").getDerivedStateFromProps;var m=b("UFI2CommentsListState").getInitialState,n=[{composerPlaceholder:g._("Write a comment\u2026")},{composerPlaceholder:g._("Write a reply\u2026")}];f=babelHelpers.inherits(o,b("React").Component);i=f&&f.prototype;function o(a){"use strict";__p&&__p();i.constructor.call(this,a),this.$1=b("React").createRef(),this.$2=new Map(),this.$4={},this.$5=!1,this.$6=new(b("SubscriptionsHandler"))(),this.state={listState:m(this.props),mirroredProps:{feedback:this.props.feedback,isRefetchingConnection:this.props.isRefetchingConnection,topLevelFeedback:this.props.topLevelFeedback,totalCount:this.props.totalCount}},this.$10=function(){var a=this.props,b=a.depth;a=a.totalCount;if(b===0)return;j.collapseList({args:{depth:1,totalCount:a},setState:this.$11})}.bind(this),this.$12=function(a){a=a.focusComposer;var b=this.props,c=b.depth,d=b.fetchComments,e=b.connectionPageInfo.pageSize,f=b.refetchConnection;b=b.totalCount;a&&(this.$5=!0);j.expandList({args:{depth:c,fetch:d,pageSize:e,refetch:f,totalCount:b},setState:this.$11})}.bind(this),this.$13=function(){var a=this.props,b=a.contextForFeedback,c=a.depth,d=a.feedback,e=a.relay;a=a.totalCount;var f=this.state.listState;e=e.environment;var g=n[c].composerPlaceholder;d.id!=null||h(0);return{Selectors:k,contextForFeedback:b,depth:c,environment:e,feedbackTargetID:d.id,listState:f,placeholder:g,totalCount:a}}.bind(this),this.$14=function(a){__p&&__p();var b=this.props,c=b.contextForFeedback,d=b.depth,e=b.getComment,f=b.getCommentRenderingKey,g=b.relay,h=b.topLevelFeedback;b=b.totalCount;var i=this.state.listState;g=g.environment;e=e(a);f=f(a);var j=this.$1!=null?this.$1.current:null;h=h!=null?h.id:null;e={Selectors:k,comment:e,composerRef:j,contextForFeedback:c,depth:d,environment:g,key:f,listState:i,onReplyToComment:function(){return this.$15(a)}.bind(this),totalCount:b};return!h?e:babelHelpers["extends"]({},e,{topLevelFeedbackID:h})}.bind(this),this.$16=function(){var a=this.props,b=a.contextForFeedback,c=a.depth,d=a.feedback,e=a.relay,f=a.topLevelFeedback;a=a.totalCount;var g=this.state.listState;e=e.environment;f=f!=null?f.id:null;var h=n[c].composerPlaceholder;b={Selectors:k,componentRef:this.$1,contextForFeedback:b,depth:c,environment:e,feedback:d,listState:g,placeholder:h,totalCount:a};return!f?b:babelHelpers["extends"]({},b,{topLevelFeedbackID:f})}.bind(this),this.$17=function(a){var c=this.props,d=c.depth,e=c.contextForFeedback,f=c.feedback;c=c.getComment;d===0||h(0);d=c(a);c=d&&d.feedback;d=b("React").createRef();this.$4[a]=d;c!=null||h(0);return{componentRef:d,contextForFeedback:e,depth:1,feedback:c,topLevelFeedback:f}}.bind(this),this.$22=function(){return this.$18("forward")}.bind(this),this.$23=function(){return this.$18("backward")}.bind(this),this.$24=function(){var a=this.props,b=a.depth,c=a.relay;a=a.totalCount;var d=this.state.listState;c=c.environment;return{Selectors:k,depth:b,environment:c,listState:d,totalCount:a}}.bind(this),this.$25=function(){var a=this.props,b=a.depth,c=a.relay;a=a.totalCount;var d=this.state.listState;c=c.environment;b===1||h(0);return{Selectors:k,collapseList:this.$10,depth:b,environment:c,listState:d,totalCount:a}}.bind(this),this.$26=function(){var a=this.props,b=a.depth,c=a.highlightedComments,d=a.relay,e=a.totalCount;a=a.viewOption;var f=this.state.listState;d=d.environment;b===1||h(0);return{Selectors:k,depth:b,environment:d,expandList:this.$12,highlightedComments:c,listState:f,onMouseEnter:function(){return this.$21("forward")}.bind(this),totalCount:e,viewOption:a}}.bind(this),this.$27=function(){this.$3()}.bind(this),this.$28=function(){this.$3.reset()}.bind(this),this.$19=function(a){a=a?a.onCommentsRendered:undefined;this.$29("forward",a)}.bind(this),this.$20=function(a){a=a?a.onCommentsRendered:undefined;this.$29("backward",a)}.bind(this),this.$11=function(a,b){this.setState(function(b){b=a(b.listState);return!b?null:{listState:b}},function(){return b&&b(this.state.listState)}.bind(this))}.bind(this),this.$30=function(a){var b=a.onComplete,c=a.viewOption;a=this.props;var d=a.depth,e=a.setViewOption;j.refetchCommentsList({args:{depth:d,refetch:function(){return e({onComplete:b,viewOption:c})}},setState:this.$11})}.bind(this),this.$31=function(a){a=a.focusComposer;var b=this.props,c=b.depth,d=b.fetchComments,e=b.connectionPageInfo.pageSize,f=b.refetchConnection;b=b.totalCount;a&&(this.$5=!0);j.toggleList({args:{depth:c,fetch:d,pageSize:e,refetch:f,totalCount:b},setState:this.$11,state:this.state.listState})}.bind(this),this.Actions={collapseList:this.$10,expandList:this.$12,loadNewerComments:this.$20,loadOlderComments:this.$19,setViewOption:this.$30,toggleList:this.$31},this.$3=b("debounce")(function(){return this.$7("forward")}.bind(this),b("UFI2CommentsConfig").firstPagePreloadDelay,this,!0),this.$6.addSubscriptions(this.$3)}o.prototype.componentDidUpdate=function(a,c){"use strict";__p&&__p();a=this.props;c=a.depth;var d=a.totalCount;a=a.receivedCommentIDs;a!=null&&this.$8(a.direction);a=this.state.listState;var e=k.hasVisibleComments({depth:c,state:a});e=e||d===0;d=c===0&&e&&!k.isListLoading({depth:c,state:a});a=c===1&&e;if(this.$5===!0&&this.$1!=null&&(d||a)){this.$5=!1;if(!this.$1.current)return;this.$1.current.focus();c=b("ReactDOM").findDOMNode(this.$1.current);c&&b("DOMScroll").ensureVisible(c,null,15,!0)}};o.prototype.componentWillUnmount=function(){"use strict";this.$6.release()};o.prototype.$9=function(a,b){"use strict";var c=this.$2.get(a)||[];c.push(b);this.$2.set(a,c)};o.prototype.$7=function(a){"use strict";var b=this.props,c=b.depth,d=b.fetchComments,e=b.connectionPageInfo.pageSize;b=b.totalCount;var f=this.state.listState;j.fetchComments({args:{depth:c,direction:a,fetch:d,pageSize:e,totalCount:b},state:f})};o.prototype.$18=function(a){"use strict";var b=this.props,c=b.connectionPageInfo.pageSize,d=b.depth,e=b.relay,f=b.totalCount;b=b.viewOption;var g=this.state.listState;e=e.environment;var h=a==="forward"?this.$19:this.$20;return{Selectors:k,depth:d,direction:a,environment:e,listState:g,loadMoreComments:h,onMouseEnter:function(){return this.$21(a)}.bind(this),pageSize:c,totalCount:f,viewOption:b}};o.prototype.$21=function(a){"use strict";this.$7(a)};o.prototype.$15=function(a){"use strict";__p&&__p();var b=this.props,c=b.depth,d=b.feedback;b=b.topLevelFeedback;d=l({depth:c,feedback:d,topLevelFeedback:b});if(!d)return;if(c===0){b=this.$4[a];b&&b.current&&b.current.$12({focusComposer:!0})}else this.$12({focusComposer:!0})};o.prototype.$29=function(a,b){"use strict";var c=this.props,d=c.connectionPageInfo.pageSize,e=c.depth,f=c.fetchComments;c=c.totalCount;j.requestComments({args:{depth:e,direction:a,fetch:f,pageSize:d,totalCount:c},onDidShowComments:b,onWillFetchComments:function(){b!=null&&this.$9(a,b)}.bind(this),setState:this.$11})};o.prototype.$8=function(a){"use strict";__p&&__p();var b=this.$2.get(a)||[];for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;e()}this.$2["delete"](a)};o.prototype.render=function(){"use strict";var a=this.props,b=a.children,c=a.depth,d=a.isCommentHidden,e=a.isInitiallyExpanded,f=a.relay,g=a.totalCount;a=a.viewOption;var h=this.state.listState;f=f.environment;f={Actions:this.Actions,Selectors:k,environment:f,getCommentEditorProps:this.$13,getCommentProps:this.$14,getComposerProps:this.$16,getPagerPropsForNewerComments:this.$23,getPagerPropsForOlderComments:this.$22,getPaginationProgressProps:this.$24,isCommentHidden:d,isInitiallyExpanded:e,listState:h,onCommentsListMouseEnter:this.$27,onCommentsListMouseLeave:this.$28,totalCount:g,viewOption:a};d=c===0?babelHelpers["extends"]({},f,{depth:0,getNestedCommentsListProps:this.$17}):babelHelpers["extends"]({},f,{depth:1,getRepliesCollapserProps:this.$25,getRepliesExpanderProps:this.$26});return b(d)};o.displayName="UFI2CommentsListInternal";o.getDerivedStateFromProps=d;function a(a){var c=a.children,d=a.componentRef,e=a.contextForFeedback,f=a.depth,g=a.feedback,i=a.relay,j=a.topLevelFeedback;a=babelHelpers.objectWithoutProperties(a,["children","componentRef","contextForFeedback","depth","feedback","relay","topLevelFeedback"]);f===1&&(j!=null||h(0));return b("React").createElement(b("UFI2CommentsProvider.react"),babelHelpers["extends"]({contextForFeedback:e,depth:f,feedback:g},a),function(a){return b("React").createElement(o,babelHelpers["extends"]({},a,{children:c,contextForFeedback:e,depth:f,feedback:g,ref:d,relay:i,topLevelFeedback:j}))})}a.displayName="UFI2CommentsList";a.defaultProps={depth:0};g=c(a,{feedback:function(){return b("UFI2CommentsList_feedback.graphql")}});e.exports=g}),null);
__d("UFI2CommentsPagerRenderer.react",["cx","AbstractButton.react","React","XUISpinner.react","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children,d=a.className,e=a.depth,f=a.isLoading,g=a.linkClassName,h=a.nestedPagerIconClassName,i=a.onClick,j=a.onMouseEnter;a=a.trackingInfo;var k=e===1,l=(k?"_4sso":"")+" _4ssp";c=c(l);return b("React").createElement("div",{className:b("joinClasses")("_4swz",d),onMouseEnter:j},b("React").createElement(b("AbstractButton.react"),{className:b("joinClasses")("_4sxc",g),"data-ft":a,"data-testid":"UFI2CommentsPagerRenderer/pager_depth_"+e,disabled:f,href:"#",label:[b("React").createElement("div",{className:"_4sxd"+(f?" _4sxe":""),key:"pager"},k?b("React").createElement("i",{className:b("joinClasses")("_4sxf",h)}):null,c,f?b("React").createElement(b("XUISpinner.react"),{className:"_4sxg",size:"small"}):null)],onClick:i,role:"button"}))}e.exports=a}),null);
__d("UFI2CommentsPager_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2CommentsPager_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"is_group_q_and_a",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_q_and_a",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2ViewOption",[],(function(a,b,c,d,e,f){"use strict";a={isChronologicalOrder:function(a){switch(a){case"RECENT_ACTIVITY":case"RANKED_THREADED":case"FILTERED":case"LIVE_STREAMING":return!1}return!0}};e.exports=a}),null);
__d("getUFI2CommentsPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 comment");case"view_more":return g._("View more comments");case"view_one_more":return g._("View 1 more comment");case"view_more_explicit":return g._({"*":{"*":"View {count} more comments","_1":"View {count} more comment"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous comments");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous comments","_1":"View {count} previous comment"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_all":default:return g._({"*":"View all {count} comments"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2GroupQAndAPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 answer");case"view_more":return g._("View more answers");case"view_one_more":return g._("View 1 more answer");case"view_more_explicit":return g._({"*":{"*":"View {count} more answers","_1":"View {count} more answer"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous answers");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous answers","_1":"View {count} previous answer"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_all":default:return g._({"*":"View all {count} answers"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2QAndAPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 question");case"view_more":return g._("View more questions");case"view_one_more":return g._("View 1 more question");case"view_more_explicit":return g._({"*":{"*":"View {count} more questions","_1":"View {count} more question"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous questions");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous questions","_1":"View {count} previous question"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_all":default:return g._({"*":"View all {count} questions"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2RepliesPagerLabel",["fbt","NumberFormat"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.labelType,d=a.numCommentsToShow;a=a.numCommentsTotal;switch(c){case"view_one":return g._("View 1 reply");case"view_more":return g._("View more replies");case"view_one_more":return g._("View 1 more reply");case"view_more_explicit":return g._({"*":{"*":"View {count} more replies","_1":"View {count} more reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_previous":return g._("View previous replies");case"view_previous_explicit":return g._({"*":{"*":"View {count} previous replies","_1":"View {count} previous reply"}},[g._param("count",b("NumberFormat").formatInteger(d),[0,d]),g._plural(d)]);case"view_all":default:return g._({"*":"View all {count} replies"},[g._param("count",b("NumberFormat").formatInteger(a),[0,a])])}}e.exports=a}),null);
__d("getUFI2PagerLabel",["invariant","UFI2ViewOption","getUFI2CommentsPagerLabel","getUFI2GroupQAndAPagerLabel","getUFI2QAndAPagerLabel","getUFI2RepliesPagerLabel","idx"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function h(a){__p&&__p();var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState,g=a.pageSize,h=a.pagerCount,i=a.totalCount;a=a.viewOption;var j=c.getVisibleCommentsCount({depth:d,state:f});c=c.hasLastPageLeftInDirection({depth:d,direction:e,pageSize:g,state:f,totalCount:i});f=b("UFI2ViewOption").isChronologicalOrder(a);a=(f&&e==="backward"||!f&&e==="forward")&&d===0;if(j===0)return h===1?"view_one":"view_all";else if(c&&i<=g)if(h===1)return"view_one_more";else return"view_more_explicit";if(a)return"view_more";else return"view_previous"}function a(a){__p&&__p();var c,d=a.Selectors,e=a.depth,f=a.direction,i=a.feedback,j=a.listState,k=a.totalCount;c=((c=i)!=null?c.is_group_q_and_a:c)||!1;i=((i=i)!=null?i.is_q_and_a:i)||!1;var l=d.isPagerVisible({depth:e,direction:f,state:j});if(!l)return null;l=d.getPagerCount({depth:e,direction:f,state:j});l!=null||g(0);d=h(babelHelpers["extends"]({},a,{pagerCount:l}));f=e>0;if(f)return b("getUFI2RepliesPagerLabel")({labelType:d,numCommentsToShow:l,numCommentsTotal:k});else if(i)return b("getUFI2QAndAPagerLabel")({labelType:d,numCommentsToShow:l,numCommentsTotal:k});else if(c)return b("getUFI2GroupQAndAPagerLabel")({labelType:d,numCommentsToShow:l,numCommentsTotal:k});return b("getUFI2CommentsPagerLabel")({labelType:d,numCommentsToShow:l,numCommentsTotal:k})}e.exports=a}),null);
__d("UFI2CommentsPager.react",["React","RelayModern","TrackingNodes","UFI2CommentsPagerRenderer.react","UFICommonInteractionEvents","UFICommonInteractionLogger","getUFI2PagerLabel","UFI2CommentsPager_feedback.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);g=d&&d.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={pagerLabel:b("getUFI2PagerLabel")(this.props)},this.$1=function(){var a=this.props,c=a.depth;a=a.loadMoreComments;var d=b("UFICommonInteractionLogger").startInteraction(c===0?b("UFICommonInteractionEvents").UFI2_TOP_LEVEL_COMMENTS_PAGINATION:b("UFICommonInteractionEvents").UFI2_REPLY_COMMENTS_PAGINATION);a({onCommentsRendered:function(){return b("UFICommonInteractionLogger").endInteraction(d)}})}.bind(this),c}a.getDerivedStateFromProps=function(a){var c=a.Selectors,d=a.depth,e=a.direction,f=a.listState;c=c.isPagerLoading({depth:d,direction:e,state:f});return!c?{pagerLabel:b("getUFI2PagerLabel")(a)}:null};a.prototype.render=function(){var a=this.props,c=a.Selectors,d=a.className,e=a.depth,f=a.direction,g=a.linkClassName,h=a.listState,i=a.nestedPagerIconClassName;a=a.onMouseEnter;var j=this.state.pagerLabel;if(j==null)return null;c=c.isPagerLoading({depth:e,direction:f,state:h});f=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);return b("React").createElement(b("UFI2CommentsPagerRenderer.react"),{className:d,depth:e,isLoading:c,linkClassName:g,nestedPagerIconClassName:i,onClick:this.$1,onMouseEnter:a,trackingInfo:f},function(a){return b("React").createElement("span",{className:a},j)})};e.exports=c(a,{feedback:function(){return b("UFI2CommentsPager_feedback.graphql")}})}),null);
__d("UFI2ComposerActions.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return b("React").createElement("ul",{className:"_1obb"},b("React").Children.map(a.children,function(a){return b("React").createElement("li",{className:"_1obc"},a)}))}e.exports=a}),null);
__d("UFI2Composer_actor.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2Composer_actor",type:"Actor",metadata:null,argumentDefinitions:[{kind:"LocalArgument",name:"__false",type:"Boolean",defaultValue:!1}],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"FragmentSpread",name:"UFI2CommentActorName_author",args:null},{kind:"FragmentSpread",name:"UFI2CommentRow_actor",args:[{kind:"Variable",name:"shouldFetchProfileLinkData",variableName:"__false",type:null}]}]};e.exports=a}),null);
__d("UFI2Composer_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2Composer_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2ProgressiveComposerInput.react",["cx","invariant","FBLogger","JSResource","Keys","React","ReactDOMSelection","getActiveElement","ifRequired","isSoftNewlineEvent","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Keys").RETURN;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=!1,this.$2=null,this.state={getEditorStateFromUFI2ComposerStateFn:b("ifRequired")("getEditorStateFromUFI2ComposerState",function(a){return a},function(){return null}),proxyIsInCompositionMode:!1,richComposerInputComponent:b("ifRequired")("UFI2RichComposerInput.react",function(a){return a},function(){return null})},this.$5=function(a){this.setState({proxyIsInCompositionMode:!0})}.bind(this),this.$6=function(a){this.setState({proxyIsInCompositionMode:!1})}.bind(this),this.$7=function(a){var b=a.target.innerText||"";this.props.onComposerStateChange(function(a){var c=a.inputState;c.__type==="plain-text"||h(0);return babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},c,{text:b})})})}.bind(this),this.$8=function(a){a.keyCode===j&&!b("isSoftNewlineEvent")(a)&&(a.preventDefault(),this.props.onCommit())}.bind(this),this.$9=function(a){var b=this.props.handlePastedFiles;if(b){var c=a.clipboardData;c=Array.from(c.items).map(function(a){return a.getAsFile()}).filter(Boolean);c.length&&(b(c)==="handled"&&a.preventDefault())}}.bind(this),c}a.prototype.$3=function(){return this.state.getEditorStateFromUFI2ComposerStateFn!=null&&this.state.proxyIsInCompositionMode===!1&&this.props.composerState.inputState.__type==="plain-text"};a.prototype.$4=function(){this.props.onComposerStateChange(function(a){var c=this.state.getEditorStateFromUFI2ComposerStateFn;c!=null||h(0);var d=a.inputState;d.__type==="plain-text"||h(0);d=babelHelpers["extends"]({},a,{inputState:babelHelpers["extends"]({},d,{selectionOffsets:b("getActiveElement")()===this.$2?b("ReactDOMSelection").getOffsets(this.$2):d.selectionOffsets})});return babelHelpers["extends"]({},a,{inputState:{__type:"editor-state-based",editorState:c(d)}})}.bind(this))};a.prototype.$10=function(a,c){__p&&__p();if(a.composerState.inputState.__type!=="plain-text")return;c=this.$2;if(c){a=a.composerState.inputState;var d=void 0,e=void 0;switch(a.__type){case"plain-text":d=a.text;e=a.selectionOffsets;break;case"editor-state-based":default:d=a.editorState.getCurrentContent().getBlockMap().map(function(a){return a?a.getText():""}).join("\n");b("FBLogger")("ufi2").warn("Unimplemented: tried to update the UFI2 proxy input's selection using an `EditorState` but we have not yet implemented a function that maps from an `EditorState` to selection offsets.");break}e==null&&(e=b("getActiveElement")()===c?b("ReactDOMSelection").getOffsets(c):null);d!==c.innerText&&(c.innerText=d,e!=null&&(d===""?(c.innerText="\xa0",b("ReactDOMSelection").setOffsets(c,{end:1,start:1}),document.execCommand("delete",!1,null)):b("ReactDOMSelection").setOffsets(c,e)))}};a.prototype.componentDidMount=function(){this.$1=!0;var a=this.props.composerState.inputState;this.$2&&a.__type==="plain-text"&&this.$10(this.props,this.state);this.bootloadModules()};a.prototype.bootloadModules=function(){b("JSResource").loadAll([b("JSResource")("getEditorStateFromUFI2ComposerState").__setRef("UFI2ProgressiveComposerInput.react"),b("JSResource")("UFI2RichComposerInput.react").__setRef("UFI2ProgressiveComposerInput.react")],function(a,b){if(this.$1===!1)return;this.setState({getEditorStateFromUFI2ComposerStateFn:a,richComposerInputComponent:b});this.$3()&&this.$4()}.bind(this))};a.prototype.componentDidUpdate=function(a,b){this.props.composerState.inputState.__type==="plain-text"&&this.$3()&&this.$4(),this.$10(this.props,this.state)};a.prototype.componentWillUnmount=function(){this.$1=!1};a.prototype.execCommand=function(a){this.props.handleCommand&&this.props.handleCommand(a)};a.prototype.render=function(){var a=this.state.richComposerInputComponent,c=this.props.depth?"UFI2ComposerInput/reply":"UFI2ComposerInput/comment";if(a&&this.props.composerState.inputState.__type==="editor-state-based"){var d=this.props;d.depth;d=babelHelpers.objectWithoutProperties(d,["depth"]);return b("React").createElement(a,babelHelpers["extends"]({},d,{className:b("joinClasses")("_65tb",this.props.className),composerState:this.props.composerState,onCommit:this.props.onCommit,onComposerStateChange:this.props.onComposerStateChange,onInputRefUpdated:this.props.onInputRefUpdated,placeholder:this.props.placeholder,webDriverTestID:c+":rich-input"}))}else return b("React").createElement("div",{className:b("joinClasses")((this.props.composerState.isLocked?"_65tc":"")+" _65td",this.props.className),contentEditable:this.props.composerState.isLocked===!1,onBlur:this.props.onBlur,onCompositionEnd:this.$6,onCompositionStart:this.$5,onFocus:this.props.onFocus,onInput:this.$7,onKeyDown:this.$8,onPaste:this.$9,placeholder:this.props.placeholder,ref:function(a){this.$2=a,this.props.onInputRefUpdated&&this.props.onInputRefUpdated(a)}.bind(this),webDriverTestID:c+":proxy-input"})};e.exports=a}),null);
__d("composeUFI2Plugins",[],(function(a,b,c,d,e,f){"use strict";function a(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return b.reduce(function(a,b){return function(){return a(b.apply(undefined,arguments))}})}e.exports=a}),null);
__d("createUFI2ComposerPluginPipeline",["React","composeUFI2Plugins"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();if(a.length===0)return function(a){var c=a.render;a=babelHelpers.objectWithoutProperties(a,["render"]);return b("React").createElement(c,a)};var c=a;return function(){__p&&__p();var a,d;a=babelHelpers.inherits(e,b("React").Component);d=a&&a.prototype;function e(){var a,e;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return e=(a=d.constructor).call.apply(a,[this].concat(g)),this.state={Pipeline:b("composeUFI2Plugins").apply(undefined,c)(this.props.render),mirroredRenderProp:this.props.render},e}e.getDerivedStateFromProps=function(a,d){"use strict";return d.mirroredRenderProp!==a.render?{Pipeline:b("composeUFI2Plugins").apply(undefined,c)(a.render),mirroredRenderProp:a.render}:null};e.prototype.render=function(){"use strict";var a=this.props;a.render;a=babelHelpers.objectWithoutProperties(a,["render"]);var c=this.state.Pipeline;return b("React").createElement(c,a)};return e}()}e.exports=a}),null);
__d("getCommentDataFromComposerState",["UnicodeUtils","emptyFunction"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();var c=a.attachment,d=a.attachmentMappers,e=a.feedbackID,f=a.formattingStyle,g=a.inputState,h=a.contentBlockToTextWithEntitiesInputMessageMappers;a=c&&(c.__type==="ExistingAttachment"?[]:d.map(function(a){return a(c)}).filter(Boolean));var i={};switch(g.__type){case"plain-text":return{commentData:{attachments:a,feedback_id:e,formatting_style:f,message:{text:g.text}},entitiesByID:i};case"editor-state-based":default:d=g.editorState;var j=[],k=[],l=0;d.getCurrentContent().getBlockMap().forEach(function(a){__p&&__p();var c="",d=0;a.findEntityRanges(b("emptyFunction").thatReturnsTrue,function(e,f){__p&&__p();var g=h.some(function(g){__p&&__p();g=g(a,e,f);var h=a.getText().slice(0,e),j=Math.max(0,h.length-b("UnicodeUtils").strlen(h));if(g!=null){h=g.entitiesByID;g=g.message;Object.assign(i,h);c+=g.text;g.ranges&&k.push.apply(k,g.ranges.map(function(a){return a?babelHelpers["extends"]({},a,{offset:a.offset+l-j+d}):a}));d+=g.text.length-(f-e);return!0}return!1});g===!1&&(c+=a.getText().slice(e,f).replace("@[","@ ["))});l+=b("UnicodeUtils").strlen(c)+1;j.push(c)});g=j.join("\n");return g.trim()===""&&c==null?null:{commentData:{attachments:a,feedback_id:e,formatting_style:f,message:{ranges:k,text:g}},entitiesByID:i}}}e.exports=a}),null);
__d("isUFI2ComposerStateEmpty",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){var b=a.attachment;a=a.inputState;if(b!=null)return!1;switch(a.__type){case"editor-state-based":return!a.editorState.getCurrentContent().hasText();case"plain-text":return!(a.text&&a.text.trim().length);default:return a.__type}}e.exports=a}),null);
__d("UFI2Composer.react",["cx","fbt","invariant","Bootloader","FBLogger","Random","React","RelayModern","Run","SubscriptionsHandler","UFI2CommentRow.react","UFI2CommentsConfig","UFI2ComposerActions.react","UFI2Config","UFI2CreateCommentMutation","UFI2ErrorBoundary.react","UFI2ProgressiveComposerInput.react","UFICommonInteractionEvents","UFICommonInteractionLogger","UFINavigationCheck","Vector","WebFunnelLogger","createUFI2ComposerPluginPipeline","emptyFunction","getCommentDataFromComposerState","gkx","idx","isUFI2ComposerStateEmpty","joinClasses","memoize","nullthrows","UFI2Composer_actor.graphql","UFI2Composer_feedback.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;d=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var k=b("UFI2Config").composerInputSamplingRateDenominator;function l(){var a=arguments.length<=0||arguments[0]===undefined?b("emptyFunction"):arguments[0];return b("Bootloader").loadModules(["clearUFIComposerInputState"],a,"UFI2Composer.react")}var m=b("memoize")(function(){var a=k||100;return b("Random").coinflip(a)&&b("gkx")("AT4CwCHYFesh3isEevURm9wr2H182iubeBfCjG7hNeTxr0eT9TvRwcBCi6AIxWupDk47ypLb4FP3vtAAYEHRcdJk")}),n=function(){__p&&__p();var a={};function b(a){__p&&__p();a.actions;a.actor;a.className;a.commentAction;a.depth;a.initialComposerState;a.onCommit;a.onInputRefUpdated;a.placeholder;a.relay;a=babelHelpers.objectWithoutProperties(a,["actions","actor","className","commentAction","depth","initialComposerState","onCommit","onInputRefUpdated","placeholder","relay"]);return JSON.stringify(a)}return{popState:function(c){c=b(c);var d=a[c];delete a[c];return d},pushState:function(c,d){c=b(c);a[c]=d.composerState}}}();f=function(a){var c=a.actorID,d=a.clientID,e=a.commentData,f=a.contextForFeedback,g=a.entitiesByID,h=a.environment;a=a.topLevelFeedbackID;return b("UFI2CreateCommentMutation").commit({actorID:c,clientID:d,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,contextForFeedback:f,entitiesByID:g,environment:h,input:e,topLevelFeedbackId:a})};g=babelHelpers.inherits(c,b("React").Component);j=g&&g.prototype;function c(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.$3=!1,this.$4=null,this.$5=!1,this.$6=null,this.state={UFI2ComposerPluginPipeline:b("createUFI2ComposerPluginPipeline")(this.props.initialPlugins),composerState:this.props.initialComposerState||n.popState(this.props)||{attachment:null,attachmentMappers:[],contentBlockToTextWithEntitiesInputMessageMappers:[],feedbackID:b("nullthrows")(this.props.feedback.id,"A `UFI2Composer` was mounted without a feedback target ID. This is a fatal error, since there's nothing useful a composer can do without one. Please check why the GraphQL query for this feedback object failed to materialize an ID."),formattingStyle:"PLAIN_TEXT",inputDecorators:[],inputState:{__type:"plain-text",selectionOffsets:null,text:""},isLocked:!1}},this.$7=new(b("SubscriptionsHandler"))(),this.$9=function(){__p&&__p();var a=this,c=this.props,d=c.actor,e=c.contextForFeedback,f=c.onCommit,g=c.relay,h=c.topLevelFeedbackID,j=b("UFICommonInteractionLogger").makeTrackingID(),k=d.id;k!=null||i(0);var m=function(a){var b=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];f({actorID:k,clientID:j,commentData:a,contextForFeedback:e,entitiesByID:b,environment:g.environment,topLevelFeedbackID:h})},n=this.state.composerState.inputState;if(n.__type==="plain-text"){c=function(){__p&&__p();if(n.text.trim()===""&&a.state.composerState.attachment==null)return{v:void 0};a.$10();a.$8(j);var b=a.state.composerState,c=b.attachment;b=b.attachmentMappers;m({attachments:c&&(c.__type==="ExistingAttachment"?[]:b.map(function(a){return a(c)}).filter(Boolean)),feedback_id:a.state.composerState.feedbackID,formatting_style:a.state.composerState.formattingStyle,message:{text:n.text}});a.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{attachment:null,formattingStyle:"PLAIN_TEXT",inputState:{__type:"plain-text",selectionOffsets:{end:0,start:0},text:""}})}})}();if(typeof c==="object")return c.v}else this.$8(j),this.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!0})}}),l(function(a){__p&&__p();if(this.$5===!1)return;var c=b("getCommentDataFromComposerState")(this.state.composerState);if(c==null){this.setState(function(a){return{composerState:babelHelpers["extends"]({},a.composerState,{isLocked:!1})}});return}this.$10();m(c.commentData,c.entitiesByID);this.setState(function(b){return{composerState:babelHelpers["extends"]({},a(b.composerState),{attachment:null,formattingStyle:"PLAIN_TEXT",isLocked:!1})}})}.bind(this))}.bind(this),this.$11=function(){this.$2&&!this.$3&&(new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("first_input").log(),this.$3=!0);m()&&(this.$6=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI2_COMPOSER_KEYPRESS_LATENCY));return"not-handled"}.bind(this),this.$12=function(a){__p&&__p();this.setState(function(b){__p&&__p();b=b.composerState;if(b.isLocked)return{};var c=a(b);c&&c.inputState&&c.inputState.__type==="editor-state-based"&&c.inputState.editorState.getCurrentContent().getBlockMap().some(function(a){return a.getText()!=null})&&l();if(c){b=babelHelpers["extends"]({},b,c);return{composerState:b}}else return null})}.bind(this),this.$13=function(a){this.$1=a}.bind(this),this.$14=function(a){this.$4=a,this.props.onInputRefUpdated&&this.props.onInputRefUpdated(a)}.bind(this),this.$15=function(){if(!this.$2){var a;a=(a=this.props)!=null?(a=a.actor)!=null?a.id:a:a;a&&(this.$2=a+"_"+Date.now(),new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("focus").setFunnelTags(["depth_"+this.props.depth]).markStart().log())}}.bind(this),this.$17=function(a){var c=a.actions;a=a.inputProps;var d=this.props,e=d.depth;d=d.placeholder;var f=a.composerState;return b("React").createElement("form",{className:(f.isLocked?"_4w75":"")+" _129h"},b("React").createElement(b("UFI2ProgressiveComposerInput.react"),{className:b("joinClasses")("_4w79",a.className),composerState:a.composerState,depth:e,handleBeforeInput:this.$11,handleCommand:a.handleCommand,handleKeyCommand:a.handleKeyCommand,handlePastedFiles:a.handlePastedFiles,keyBindingFn:a.keyBindingFn,onBlur:a.onBlur,onCommit:a.onCommit,onComposerStateChange:a.onComposerStateChange,onFocus:this.$15,onInputRefUpdated:a.onInputRefUpdated,placeholder:a.placeholder||d,ref:this.$13,webDriverTestID:a.webDriverTestID}),c?b("React").createElement(b("UFI2ComposerActions.react"),null,c):null)}.bind(this),c}c.prototype.$8=function(a){var c=this.props.commentAction,d=c==="ADD"?b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT:b("UFICommonInteractionEvents").UFI2_OPTIMISTIC_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d);d=c==="ADD"?b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT:b("UFICommonInteractionEvents").UFI2_PERSISTED_COMMENT_EDIT;b("UFICommonInteractionLogger").startInteraction(d,a+d)};c.prototype.componentDidUpdate=function(a,c){a=this.$6;a&&c.composerState!==this.state.composerState&&(this.$6=null,b("UFICommonInteractionLogger").endInteractionAtEndOfFrame(a))};c.prototype.$10=function(){this.$2&&(new(b("WebFunnelLogger"))("UFI2ComposerWebFunnelDefinition").setSessionKey(this.$2).setAction("commit").markEnd().log(),delete this.$2,this.$3=!1)};c.prototype.$16=function(){if(this.props.initialComposerState){if(this.props.initialComposerState!==this.state.composerState)return!0}else if(!b("isUFI2ComposerStateEmpty")(this.state.composerState))return!0;return!1};c.prototype.componentDidMount=function(){this.$5=!0,this.$7.addSubscriptions(b("Run").onBeforeUnload(function(){return a.PageTransitions&&b("UFINavigationCheck").isLeaving(a.PageTransitions)&&this.$16()?h._("You haven't finished your comment yet. Do you want to leave without finishing?"):null}.bind(this)))};c.prototype.componentWillUnmount=function(){this.$16()&&n.pushState(this.props,this.state),this.$5=!1,this.$7.release()};c.prototype.execCommand=function(a){this.$1?this.$1.execCommand(a):b("FBLogger")("ufi2").mustfix("Someone tried to run a `%s` command, but a ref to the composer was not yet available.",a.__type)};c.prototype.focus=function(){var a=this.$4;if(a){var c=b("Vector").getScrollPosition();a.focus();window.scrollTo(c.x,c.y)}};c.prototype.render=function(){var a=this.props,c=a.actor,d=a.className;a=a.depth;var e=this.state.UFI2ComposerPluginPipeline;return b("React").createElement(b("UFI2ErrorBoundary.react"),null,b("React").createElement(b("UFI2CommentRow.react"),{actor:c,className:d,"data-testid":"UFI2Composer/root",depth:a,isComposer:!0},b("React").createElement(e,{actions:this.props.actions,inputProps:{composerState:this.state.composerState,onCommit:this.$9,onComposerStateChange:this.$12,onInputRefUpdated:this.$14},render:this.$17})))};c.defaultProps={actions:[],initialPlugins:[],onCommit:f};c.displayName="UFI2Composer";e.exports=d(c,{actor:function(){return b("UFI2Composer_actor.graphql")},feedback:function(){return b("UFI2Composer_feedback.graphql")}})}),null);
__d("UFI2FeedbackCommentReactSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"CommentLikeSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"CommentLikeSubscribeData!"}],c=[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2FeedbackCommentReactSubscription_feedback",args:null}]}],d={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},e={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null};e=[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[e,f,{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null}]}]}]},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"count_reduced",args:null,storageKey:null}]},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[e,f]},f,{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[d,f]}]}];return{kind:"Request",operationKind:"subscription",name:"UFI2FeedbackCommentReactSubscription",id:"1977813325580249",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2FeedbackCommentReactSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment_like_subscribe",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"FeedbackUnlikeResponsePayload",selections:c},{kind:"InlineFragment",type:"FeedbackLikeResponsePayload",selections:c}]}]},operation:{kind:"Operation",name:"UFI2FeedbackCommentReactSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"comment_like_subscribe",storageKey:null,args:b,concreteType:null,plural:!1,selections:[d,{kind:"InlineFragment",type:"FeedbackUnlikeResponsePayload",selections:e},{kind:"InlineFragment",type:"FeedbackLikeResponsePayload",selections:e}]}]}}}();e.exports=a}),null);
__d("UFI2FeedbackCommentReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2FeedbackCommentReactSubscription_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"FragmentSpread",name:"UFI2FeedbackReactMutation_feedback",args:null},{kind:"FragmentSpread",name:"UFI2CommentTopReactions_feedback",args:null}]};e.exports=a}),null);
__d("UFI2FeedbackCommentReactSubscription",["RelayModern","UFI2FeedbackCommentReactSubscription_feedback.graphql","UFI2FeedbackCommentReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;var g=b("RelayModern").requestSubscription;({feedback:function(){return b("UFI2FeedbackCommentReactSubscription_feedback.graphql")}});var h=function(){return b("UFI2FeedbackCommentReactSubscription.graphql")};function a(a,b){return g(a,{subscription:h,variables:{input:b}})}e.exports={subscribe:a}}),null);
__d("UFI2FeedbackReactSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FeedbackLikeSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"FeedbackLikeSubscribeData!"}],c={kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},d=[c];d=[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[c,{kind:"FragmentSpread",name:"UFI2FeedbackReactMutation_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback",args:null},{kind:"FragmentSpread",name:"UFI2TopReactions_feedback",args:null}]},{kind:"LinkedField",alias:null,name:"liker",storageKey:null,args:null,concreteType:null,plural:!1,selections:d},{kind:"LinkedField",alias:"viewer",name:"__viewer_viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:d}]}];var e={kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},f={kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null},g={kind:"ScalarField",alias:"i18n_reaction_count",name:"reaction_count_reduced",args:null,storageKey:null},h=[{kind:"ScalarField",alias:null,name:"count",args:null,storageKey:null}],i={kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},j=[e,c];f=[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[c,{kind:"LinkedField",alias:null,name:"top_reactions",storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])',args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"],type:"[TopReactionsOrderByCallArgument]"}],concreteType:"TopReactionsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"edges",storageKey:null,args:null,concreteType:"TopReactionsEdge",plural:!0,selections:[{kind:"ScalarField",alias:null,name:"reaction_count",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"node",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[f,c,{kind:"ScalarField",alias:null,name:"localized_name",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"reaction_type",args:null,storageKey:null}]},g]}]},{kind:"LinkedField",alias:null,name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:h},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[f,c,e]},g,{kind:"LinkedField",alias:null,name:"important_reactors",storageKey:"important_reactors(first:2)",args:[{kind:"Literal",name:"first",value:2,type:"Int"}],concreteType:"ImportantReactorsConnection",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"nodes",storageKey:null,args:null,concreteType:null,plural:!0,selections:[e,i,c]}]},{kind:"LinkedField",alias:"reaction_count",name:"reactors",storageKey:null,args:null,concreteType:"ReactorsOfContentConnection",plural:!1,selections:h},{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[e,c,i]}]},{kind:"LinkedField",alias:null,name:"liker",storageKey:null,args:null,concreteType:null,plural:!1,selections:j},{kind:"LinkedField",alias:null,name:"viewer",storageKey:null,args:null,concreteType:"Viewer",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:j}]},{kind:"LinkedHandle",alias:null,name:"viewer",args:null,handle:"viewer",key:"",filters:null}];return{kind:"Request",operationKind:"subscription",name:"UFI2FeedbackReactSubscription",id:"2028379233871092",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2FeedbackReactSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback_like_subscribe",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"FeedbackUnlikeResponsePayload",selections:d},{kind:"InlineFragment",type:"FeedbackLikeResponsePayload",selections:d}]}]},operation:{kind:"Operation",name:"UFI2FeedbackReactSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback_like_subscribe",storageKey:null,args:b,concreteType:null,plural:!1,selections:[e,{kind:"InlineFragment",type:"FeedbackUnlikeResponsePayload",selections:f},{kind:"InlineFragment",type:"FeedbackLikeResponsePayload",selections:f}]}]}}}();e.exports=a}),null);
__d("UFI2FeedbackReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2FeedbackReactSubscription_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"FragmentSpread",name:"UFI2FeedbackReactMutation_feedback",args:null},{kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback",args:null},{kind:"FragmentSpread",name:"UFI2TopReactions_feedback",args:null}]};e.exports=a}),null);
__d("UFI2FeedbackReactSubscription_liker.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2FeedbackReactSubscription_liker",type:"Actor",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2FeedbackReactSubscription_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2FeedbackReactSubscription_viewer",type:"Viewer",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFI2FeedbackReactSubscription",["RelayModern","idx","UFI2FeedbackReactSubscription_feedback.graphql","UFI2FeedbackReactSubscription_liker.graphql","UFI2FeedbackReactSubscription_viewer.graphql","UFI2FeedbackReactSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";__p&&__p();b("RelayModern").graphql;var g=b("RelayModern").requestSubscription;({feedback:function(){return b("UFI2FeedbackReactSubscription_feedback.graphql")}});({liker:function(){return b("UFI2FeedbackReactSubscription_liker.graphql")}});({viewer:function(){return b("UFI2FeedbackReactSubscription_viewer.graphql")}});var h=function(){return b("UFI2FeedbackReactSubscription.graphql")};function a(a,b){__p&&__p();return g(a,{subscription:h,updater:function(a,b){__p&&__p();var c,d;c=(c=b)!=null?(c=c.feedback_like_subscribe)!=null?(c=c.liker)!=null?c.id:c:c:c;d=(d=b)!=null?(d=d.feedback_like_subscribe)!=null?(d=d.viewer)!=null?(d=d.actor)!=null?d.id:d:d:d:d;if(c!==d){d=(c=b)!=null?(c=c.feedback_like_subscribe)!=null?(c=c.feedback)!=null?c.id:c:c:c;if(d){b=a.get(d);b&&b.setValue(!0,"is_unseen")}}},variables:{input:b}})}e.exports={subscribe:a}}),null);
__d("UFI2PaginationProgressIndicator.react",["cx","fbt","NumberFormat","React","joinClasses"],(function(a,b,c,d,e,f,g,h){"use strict";a=function(a){var c=a.Selectors,d=a.className,e=a.depth,f=a.listState;a=a.totalCount;var g=c.hasMoreInDirection({depth:e,direction:"forward",state:f,totalCount:a});c=c.getVisibleCommentsCount({depth:e,state:f});return g?b("React").createElement("span",{className:b("joinClasses")("_3bu3",d)},h._("{number of comments displayed} of {total number of comments}",[h._param("number of comments displayed",b("NumberFormat").formatInteger(c)),h._param("total number of comments",b("NumberFormat").formatInteger(a))])):null};e.exports=a}),null);
__d("UFI2ReactionActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2ReactionActionLink_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"can_viewer_react",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"viewer_feedback_reaction_info",storageKey:null,args:null,concreteType:"FeedbackReactionInfo",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"key",args:null,storageKey:null}]},{kind:"FragmentSpread",name:"UFI2ReactionLink_feedback",args:null}]};e.exports=a}),null);
__d("UFI2ReactionActionLink.react",["cx","React","RelayModern","UFI2ActionLink.react","UFI2ReactionLink.react","UFI2ReactionUtils","UFICommonInteractionEvents","UFIReactionIconImpl.react","UFIReactionTypes","idx","joinClasses","UFI2ReactionActionLink_feedback.graphql"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;var i=525,j=750;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a,c=this.props.feedback;a=(a=c)!=null?(a=a.viewer_feedback_reaction_info)!=null?a.key:a:a;var d=b("UFI2ReactionUtils").checkReactionKey(a),e=void 0;!d?e=null:d&&d!==b("UFIReactionTypes").LIKE&&(e=b("React").createElement(b("UFIReactionIconImpl.react"),{className:"_2lk8",reaction:d,size:"18"}));return((a=c)!=null?a.can_viewer_react:a)?b("React").createElement(b("UFI2ActionLink.react"),{showIcon:!e},function(a){a=a.className;return b("React").createElement("div",{className:"_666k","data-testid":"UFI2ReactionLink/actionLink"},b("React").createElement(b("UFI2ReactionLink.react"),{className:b("joinClasses")((d===b("UFIReactionTypes").LIKE?"_3l2s":"")+" _3l2t"+(d?"":" _3l2u"),a,this.props.className),feedback:c,hideDelay:j,interactionEvent:b("UFICommonInteractionEvents").UFI2_STORY_REACTION,showDelay:i},e))}.bind(this)):null};function a(){h.apply(this,arguments)}a.displayName="UFI2ReactionActionLink";e.exports=c(a,{feedback:function(){return b("UFI2ReactionActionLink_feedback.graphql")}})}),null);
__d("UFI2SubscriptionManager",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1=new Set(),this.$2=!1}a.prototype.add=function(a){this.$1.add(a);this.$2&&a.subscribe();return{dispose:function(){a.unsubscribe(),this.$1&&this.$1["delete"](a)}.bind(this)}};a.prototype.subscribeAll=function(){__p&&__p();if(!this.$2){this.$2=!0;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.subscribe()}}};a.prototype.unsubscribeAll=function(){__p&&__p();if(this.$2){this.$2=!1;for(var a=this.$1,b=Array.isArray(a),c=0,a=b?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var d;if(b){if(c>=a.length)break;d=a[c++]}else{c=a.next();if(c.done)break;d=c.value}d=d;d.unsubscribe()}}};a.prototype.reset=function(){this.unsubscribeAll(),this.$1=new Set()};e.exports=a}),null);
__d("UFI2RealtimeRoot.react",["React","UFI2RealtimeContext","UFI2SubscriptionManager"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=new(b("UFI2SubscriptionManager"))(),this.$3=function(a){return this.$1.add(a)}.bind(this),c}a.prototype.$2=function(){this.$1.unsubscribeAll()};a.prototype.subscribe=function(){this.props.enabled&&this.$1.subscribeAll()};a.prototype.componentDidMount=function(){this.subscribe()};a.prototype.componentWillUnmount=function(){this.$2(),this.$1.reset()};a.prototype.render=function(){return b("React").createElement(b("UFI2RealtimeContext").Provider,{value:this.$3},this.props.children)};e.exports=a}),null);
__d("UFI2RepliesCollapser.react",["cx","fbt","invariant","AbstractButton.react","NumberFormat","React","joinClasses"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a){var c=a.Selectors,d=a.className,e=a.collapseList,f=a.depth;a=a.listState;f===1||i(0);if(!c.isRepliesCollapserVisible({depth:f,state:a}))return null;c=c.getVisibleCommentsCount({depth:f,state:a});f=h._({"*":{"*":"Hide {count} Replies","_1":"Hide {count} Reply"}},[h._param("count",b("NumberFormat").formatInteger(c),[0,c]),h._plural(c)]);return b("React").createElement(b("AbstractButton.react"),{className:b("joinClasses")("_3_qk",d),href:"#",label:[b("React").createElement("div",{className:"_3_ql",key:"toggler"},b("React").createElement("i",{className:"_3_qm"}),b("React").createElement("span",{className:"_3_qo"},f))],onClick:e,role:"button"})}e.exports=a}),null);
__d("UFI2RepliesExpander_highlightedComments.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2RepliesExpander_highlightedComments",type:"Comment",metadata:{plural:!0},argumentDefinitions:[{kind:"RootArgument",name:"scale",type:"Float"},{kind:"RootArgument",name:"commentProfilePictureSizeDepth1",type:"Int"}],selections:[{kind:"LinkedField",alias:null,name:"author",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"name",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"profile_picture",storageKey:null,args:[{kind:"Variable",name:"height",variableName:"commentProfilePictureSizeDepth1",type:"Int"},{kind:"Variable",name:"scale",variableName:"scale",type:"Float"},{kind:"Variable",name:"width",variableName:"commentProfilePictureSizeDepth1",type:"Int"}],concreteType:"Image",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"uri",args:null,storageKey:null}]}]},{kind:"ScalarField",alias:null,name:"created_time",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2RepliesExpander.react",["cx","fbt","invariant","FBLogger","Image.react","LiveTimer","Middot.react","NumberFormat","React","RelayModern","Timestamp.react","TrackingNodes","UFI2CommentsPagerRenderer.react","formatDate","idx","timeString","UFI2RepliesExpander_highlightedComments.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function a(a){__p&&__p();var c=a.Selectors,d=a.className,e=a.depth,f=a.expandList,g=a.listState,h=a.onMouseEnter,k=a.viewOption;e===1||i(0);if(!c.isRepliesExpanderVisible({depth:e,state:g}))return null;var l=c.getRepliesExpanderCount({depth:e,state:g});if(l==null){b("FBLogger")("ufi2").warn("UFI2RepliesExpander: Tried rendering a visible replies expander without a count");return null}c=c.isRepliesExpanderLoading({depth:e,state:g});var m=a.highlightedComments||[];g=m[0];g=(a=g)!=null?a.author:a;a=b("TrackingNodes").getTrackingInfo(b("TrackingNodes").types.VIEW_ALL_COMMENTS);return b("React").createElement(b("UFI2CommentsPagerRenderer.react"),{className:d,depth:e,isLoading:c,nestedPagerIconClassName:g!=null?"_3eof":"",onClick:function(){return f({focusComposer:!0})},onMouseEnter:h,trackingInfo:a},function(a){return b("React").createElement(j,{count:l,highlightedComments:m,pagerTextClassName:a,viewOption:k})})}function j(a){__p&&__p();var c,d=a.count,e=a.highlightedComments,f=a.pagerTextClassName;a=a.viewOption;e=e[0];c=(c=e)!=null?c.author:c;var g=c!=null;e=(e=e)!=null?e.created_time:e;var i=b("LiveTimer").getApproximateServerTime();i=g&&e&&i&&(i/1e3-e<43200||a==="RECENT_ACTIVITY");a=i&&e!=null?b("React").createElement(l,{timestamp:e}):null;i=h._({"*":{"*":"{count} Replies","_1":"{count} Reply"}},[h._param("count",b("NumberFormat").formatInteger(d),[0,d]),h._plural(d)]);return b("React").createElement(b("React").Fragment,null,b("React").createElement("span",{className:f},g&&c?b("React").createElement(b("React").Fragment,null,b("React").createElement(k,{actor:c}),"\xa0",b("React").createElement(b("Middot.react"),null),"\xa0"):null,i),a)}function k(a){var c;a=a.actor;c=(c=a)!=null?c.name:c;a=(a=a)!=null?(a=a.profile_picture)!=null?a.uri:a:a;if(!c)return null;return!a?null:b("React").createElement("div",{className:"_3eog"},b("React").createElement("span",{className:"_3eoh"},b("React").createElement(b("Image.react"),{alt:c,className:"img _3eoi",src:a})),b("React").createElement("span",{className:"_3eol"},h._("{actor} replied",[h._param("actor",c)])))}function l(a){a=a.timestamp;return b("React").createElement("span",{className:"_3eom"},"\xa0",b("React").createElement(b("Middot.react"),null),"\xa0",b("React").createElement(b("Timestamp.react"),{shorten:!0,text:b("timeString")(a*1e3,b("LiveTimer").getApproximateServerTime()*1e3),time:a,verbose:b("formatDate")(new Date(a*1e3),"l, M j, Y g:ia")}))}d=c(a,{highlightedComments:function(){return b("UFI2RepliesExpander_highlightedComments.graphql")}});d.PagerLabel=j;e.exports=d}),null);
__d("UFI2ScrollHoldingContainer.react",["React","ViewportBounds","getElementRect","getScrollPosition","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=b("React").createRef(),c}a.prototype.componentDidMount=function(){this.$1.current&&(this.$2=b("ifRequired")("ScrollableArea",function(a){return a.getInstance(this.$1.current)}.bind(this),function(){return null}))};a.prototype.componentWillUnmount=function(){delete this.$2};a.prototype.getSnapshotBeforeUpdate=function(a){return this.$1.current?b("getElementRect")(this.$1.current):null};a.prototype.componentDidUpdate=function(a,c,d){__p&&__p();a=this.$1.current;if(a&&d){c=b("getElementRect")(a);var e=c.height-d.height;if(e===0)return;var f=this.$2;if(f){var g=f.getScrollTop();a=f.getScrollOffsetForElement(a);a=a+c.height<g;a&&f.setScrollTop(g+e)}else{c=b("ViewportBounds").getTop();a=d.bottom<c;if(a){f=b("getScrollPosition")(window);g=f.x;d=f.y;window.scrollTo(g,d+e)}}}};a.prototype.render=function(){var a=this.props,c=a.children;a=a.className;return b("React").createElement("div",{className:a,ref:this.$1},c)};e.exports=a}),null);
__d("UFI2ShareActionLink_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2ShareActionLink_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"LinkedField",alias:null,name:"viewer_current_actor",storageKey:null,args:null,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFI2ShareActionLink_shareableConfig.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2ShareActionLink_shareableConfig",type:"ShareableConfig",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"intercept_for_page_post",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"misinformation_confirm_dialog_uri",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"share_action_link_primer_attributes",storageKey:null,args:null,concreteType:"PrimerAttributes",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"rel",args:null,storageKey:null}]},{kind:"ScalarField",alias:null,name:"share_action_link_uri",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"share_now_menu_uri",args:null,storageKey:null}]};e.exports=a}),null);
__d("UFI2ShareActionLink.react",["cx","fbt","invariant","Promise","ActorURI","Arbiter","AsyncRequest","BootloadedComponent.react","Bootloader","CurrentUser","FBLogger","JSResource","React","RelayModern","TrackingNodes","UFI2ActionLink.react","UFICommonInteractionEvents","UFICommonInteractionLogger","URI","XUISpinner.react","clearTimeout","idx","joinClasses","setTimeoutAcrossTransitions","UFI2ShareActionLink_feedback.graphql","UFI2ShareActionLink_shareableConfig.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;d=babelHelpers.inherits(a,b("React").Component);j=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$2=!1,this.$3=!1,this.$4=null,this.state={focusOnInit:!1,interacted:!1,isLoading:!1,misinformationDialogConfirmed:!1,openAfterMisinformationConfirmed:!1,openAfterPagePostInterceptionConfirmed:!1,openOnInit:!1},this.$5=function(){this.$1&&(b("UFICommonInteractionLogger").endInteraction(this.$1),this.$1=null),this.$3=!0,this.$6()}.bind(this),this.$7=function(){this.$3=!1}.bind(this),this.$8=function(){var a=this.props.shareableConfig,c=(a=a)!=null?a.misinformation_confirm_dialog_uri:a;c!=null||i(0);var d="MISINFORMATION_RESHARE_ALERT_FUNNEL";b("Bootloader").loadModules(["AsyncDialog","FunnelLogger"],function(a,e){e.startFunnel(d),a.send(new(b("AsyncRequest"))(c),function(a){a.subscribe("confirm",function(){this.setState({misinformationDialogConfirmed:!0,openAfterMisinformationConfirmed:!0}),e.appendAction(d,"continue"),e.endFunnel(d),a.hide()}.bind(this)),a.subscribe("cancel",function(){e.appendAction(d,"cancel"),e.endFunnel(d),a.hide()})}.bind(this))}.bind(this),"UFI2ShareActionLink.react");this.$6()}.bind(this),this.$10=function(){!this.$1&&!this.$3&&(this.$1=b("UFICommonInteractionLogger").startInteraction(b("UFICommonInteractionEvents").UFI2_SHARE_DIALOG_OPENS))}.bind(this),this.$11=function(){if(this.$2)return;this.setState({focusOnInit:!0,interacted:!0})}.bind(this),this.$12=function(){this.$2||this.$13()}.bind(this),this.$14=function(){this.$2=!0}.bind(this),this.$15=function(){this.setState({interacted:!0})}.bind(this),this.$13=function(){this.setState({interacted:!0,openOnInit:!0},function(){b("clearTimeout")(this.$4),this.$4=b("setTimeoutAcrossTransitions")(function(){return this.setState(function(a){return a.openOnInit?{isLoading:!0}:null})}.bind(this),300)}.bind(this)),this.$10()}.bind(this),c}a.prototype.componentWillUnmount=function(){b("clearTimeout")(this.$4)};a.prototype.$6=function(){var a=this.props.feedbackTargetID;b("Arbiter").inform("share_initiated",{entidentifier:a})};a.prototype.$9=function(a){__p&&__p();b("Bootloader").loadModules(["PagePostEngagementFrictionActions","PagePostEngagementFictionDialogStrings","promiseDone"],function(c,d,e){__p&&__p();var f=new(b("Promise"))(function(b,e){c.showReshareEngagementFrictionDialog(a,function(){return b(!0)},function(){return b(!1)},function(){b(!1);var e=d.getStrings(a);c.goToPage(e.pageId)})}).then(function(a){a&&(this.setState({interacted:!0,openAfterPagePostInterceptionConfirmed:!0}),this.$10())}.bind(this),function(a){throw a});e(f)}.bind(this),"UFI2ShareActionLink.react")};a.prototype.render=function(){__p&&__p();var a,c,d=this.props,e=d.className,f=d.feedback,g=d.feedbackTargetID;d=d.shareableConfig;var h=this.state,i=h.focusOnInit,j=h.interacted,k=h.isLoading,m=h.misinformationDialogConfirmed,n=h.openAfterMisinformationConfirmed,o=h.openOnInit;if(!d||!d.share_action_link_uri)return null;f=(h=f)!=null?(h=h.viewer_current_actor)!=null?h.id:h:h;h=(h=d)!=null?h.misinformation_confirm_dialog_uri:h;a=(a=d)!=null?a.intercept_for_page_post:a;var p=(c=d)!=null?(c=c.share_action_link_primer_attributes)!=null?c.rel:c:c,q=new(b("URI"))((c=d)!=null?c.share_action_link_uri:c);d=(c=d)!=null?c.share_now_menu_uri:c;if(h&&!m)return b("React").createElement(b("UFI2ActionLink.react"),null,function(a){a=a.className;return b("React").createElement(l,{className:a,onClick:this.$8})}.bind(this));if(a&&!this.$3&&!this.state.openAfterPagePostInterceptionConfirmed)return b("React").createElement(b("UFI2ActionLink.react"),null,function(a){a=a.className;return b("React").createElement(l,{className:a,onClick:function(a){return this.$9(g)}.bind(this)})}.bind(this));var r=void 0;f&&(q=q&&b("ActorURI").create(q,f),r=d&&new(b("URI"))(d).addQueryData("actor_id",f));if(!r)return b("React").createElement(b("UFI2ActionLink.react"),null,function(a){a=a.className;return b("React").createElement(l,{className:a,href:q,onClick:function(){return this.$6()}.bind(this),openDialogOnMount:n,rel:p})}.bind(this));h&&b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",g||"UNKNOWN").mustfix("UFI2ShareActionLink: Did not expect both a misinformationConfirmDialogURI and a shareNowMenuURI");var s={isLoading:k,onClick:this.$12,onFocus:this.$11,onMouseDown:this.$14,onMouseOver:this.$15,onMouseUp:this.$13};return b("React").createElement(b("UFI2ActionLink.react"),null,function(a){a=a.className;return b("React").createElement("span",{className:b("joinClasses")("_1j6m",e)},r&&j?b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("UFIShareNowMenu.react").__setRef("UFI2ShareActionLink.react"),bootloadPlaceholder:b("React").createElement(l,babelHelpers["extends"]({},s,{className:a})),className:"_6800",endpoint:r.getPath(),endpointData:r.getQueryData(),focusOnInit:i,onHide:this.$7,onShow:this.$5,openOnInit:o||this.state.openAfterPagePostInterceptionConfirmed},b("React").createElement(l,{className:a,onMouseUp:this.$10})):b("React").createElement(l,babelHelpers["extends"]({},s,{className:a})))}.bind(this))};a.displayName="UFI2ShareActionLink";f=babelHelpers.inherits(l,b("React").Component);k=f&&f.prototype;function l(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=k.constructor).call.apply(a,[this].concat(d)),this.$1=null,this.$3=function(event){var a=this.props.onClick;a&&(event.preventDefault(),a(event))}.bind(this),b}l.prototype.componentDidMount=function(){var a=this.props.openDialogOnMount;a===!0&&this.$1&&this.$1.click()};l.prototype.$2=function(){var a=this.props.href;return!a||a.isEmpty()?null:new(b("URI"))(a.getPath()).setQueryData(a.getQueryData()).qualify()};l.prototype.render=function(){var a=this.props,c=a.className,d=a.isLoading,e=a.rel;a=babelHelpers.objectWithoutProperties(a,["className","isLoading","rel"]);var f=this.$2()||"#",g=b("CurrentUser").isWorkUser()?h._("Send this to coworkers or post it on your timeline."):h._("Send this to friends or post it on your timeline."),i='{ "tn": "'+b("TrackingNodes").encodeTN(b("TrackingNodes").types.SHARE_LINK)+'", "type": 25 }';d=d===!0?b("React").createElement(b("XUISpinner.react"),{className:"_2nj6"}):null;return b("React").createElement("a",babelHelpers["extends"]({},a,{className:b("joinClasses")("_2nj7",c),"data-ft":i,href:f,onClick:this.$3,ref:function(a){this.$1=a}.bind(this),rel:e,role:"button",tabIndex:0,title:g}),h._("Share"),d)};e.exports=c(a,{feedback:function(){return b("UFI2ShareActionLink_feedback.graphql")},shareableConfig:function(){return b("UFI2ShareActionLink_shareableConfig.graphql")}})}),null);
__d("UFI2ToggleCommentPermissionSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FeedbackCommentPermissionToggleSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"FeedbackCommentPermissionToggleSubscribeData!"}],c={kind:"ScalarField",alias:null,name:"have_comments_been_disabled",args:null,storageKey:null},d={kind:"ScalarField",alias:null,name:"can_viewer_comment",args:null,storageKey:null};return{kind:"Request",operationKind:"subscription",name:"UFI2ToggleCommentPermissionSubscription",id:"1706426756112937",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2ToggleCommentPermissionSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback_comment_permission_toggle_subscribe",storageKey:null,args:b,concreteType:"FeedbackCommentPermissionToggleSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[c,d]}]}]},operation:{kind:"Operation",name:"UFI2ToggleCommentPermissionSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback_comment_permission_toggle_subscribe",storageKey:null,args:b,concreteType:"FeedbackCommentPermissionToggleSubscribeResponsePayload",plural:!1,selections:[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[c,d,{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null}]}]}]}}}();e.exports=a}),null);
__d("UFI2ToggleCommentPermissionSubscription",["RelayModern","UFI2ToggleCommentPermissionSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";b("RelayModern").graphql;var g=b("RelayModern").requestSubscription,h=function(){return b("UFI2ToggleCommentPermissionSubscription.graphql")};function a(a,b){return g(a,{subscription:h,variables:{input:b}})}e.exports={subscribe:a}}),null);
__d("MercuryTypingAnimation.react",["cx","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=b("React").PropTypes;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a="_4a0v _1x3z";return b("React").createElement("div",{className:b("joinClasses")(this.props.className,a)},b("React").createElement("div",{className:"_4b0g"},b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"}),b("React").createElement("div",{className:"_5pd7"})))};function a(){h.apply(this,arguments)}a.propTypes={color:c.oneOf(["light","dark"])};a.defaultProps={color:"dark"};e.exports=a}),null);
__d("UFI2TypingIndicator_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"Fragment",name:"UFI2TypingIndicator_feedback",type:"Feedback",metadata:null,argumentDefinitions:[],selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_eligible_for_real_time_updates",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"feedback_typers",storageKey:null,args:null,concreteType:"FeedbackTypersConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"friend_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"other_count",args:null,storageKey:null}]}]};e.exports=a}),null);
__d("UFI2TypingSubscription.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"LocalArgument",name:"input",type:"FeedbackTypingSubscribeData!",defaultValue:null}],b=[{kind:"Variable",name:"data",variableName:"input",type:"FeedbackTypingSubscribeData!"}],c=[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"FragmentSpread",name:"UFI2TypingIndicator_feedback",args:null}]}],d=[{kind:"LinkedField",alias:null,name:"feedback",storageKey:null,args:null,concreteType:"Feedback",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"id",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"is_eligible_for_real_time_updates",args:null,storageKey:null},{kind:"LinkedField",alias:null,name:"feedback_typers",storageKey:null,args:null,concreteType:"FeedbackTypersConnection",plural:!1,selections:[{kind:"ScalarField",alias:null,name:"friend_count",args:null,storageKey:null},{kind:"ScalarField",alias:null,name:"other_count",args:null,storageKey:null}]}]}];return{kind:"Request",operationKind:"subscription",name:"UFI2TypingSubscription",id:"1824129120972170",text:null,metadata:{},fragment:{kind:"Fragment",name:"UFI2TypingSubscription",type:"Subscription",metadata:null,argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback_typing_subscribe",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"InlineFragment",type:"FeedbackStopTypingResponsePayload",selections:c},{kind:"InlineFragment",type:"FeedbackStartTypingResponsePayload",selections:c}]}]},operation:{kind:"Operation",name:"UFI2TypingSubscription",argumentDefinitions:a,selections:[{kind:"LinkedField",alias:null,name:"feedback_typing_subscribe",storageKey:null,args:b,concreteType:null,plural:!1,selections:[{kind:"ScalarField",alias:null,name:"__typename",args:null,storageKey:null},{kind:"InlineFragment",type:"FeedbackStopTypingResponsePayload",selections:d},{kind:"InlineFragment",type:"FeedbackStartTypingResponsePayload",selections:d}]}]}}}();e.exports=a}),null);
__d("UFI2TypingSubscription",["RelayModern","UFI2TypingSubscription.graphql"],(function(a,b,c,d,e,f){"use strict";var g;b("RelayModern").graphql;var h=b("RelayModern").requestSubscription;function a(a,c){return h(a,{subscription:g||(g=function(){return b("UFI2TypingSubscription.graphql")}),variables:{input:{feedback_id:c}}})}e.exports={subscribe:a}}),null);
__d("UFI2TypingIndicator.react",["cx","fbt","MercuryTypingAnimation.react","OnVisible.react","React","RelayModern","UFI2RealtimeContainer.react","UFI2TypingSubscription","gkx","idx","shallowEqual","UFI2TypingIndicator_feedback.graphql"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("RelayModern").createFragmentContainer;b("RelayModern").graphql;function j(a,c){var d;c=!c||c.isVisible;if(!a.feedback.is_eligible_for_real_time_updates)return{isTyping:!1,isVisible:c,label:null};a=a.feedback.feedback_typers;if(((d=a)!=null?d.friend_count:d)&&!b("gkx")("AT6uSYnMIeAMBMdhoEmUwQ3AjOoG6s5QLGII3asncrSU2PHF4mPhpDCQtOX0dX1e1gemHrpJMUyKKt6KcYiq-7QLXF9yrKb0OJrV6G1r2G2oZA"))return{isTyping:!0,isVisible:c,label:h._("A friend is typing a comment...")};return((d=a)!=null?d.other_count:d)?{isTyping:!0,isVisible:c,label:h._("Someone is typing a comment...")}:{isTyping:!1,isVisible:c,label:null}}d=babelHelpers.inherits(a,b("React").PureComponent);i=d&&d.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state=j(this.props),this.$1=function(){var a=this.props.feedback,c=a.id;a=a.is_eligible_for_real_time_updates;return c&&a?b("UFI2TypingSubscription").subscribe(this.props.relay.environment,c):null}.bind(this),this.$2=function(){this.setState({isVisible:!1})}.bind(this),this.$3=function(){this.setState(function(a){return j(this.props,babelHelpers["extends"]({},a,{isVisible:!0}))}.bind(this))}.bind(this),c}a.getDerivedStateFromProps=function(a,c){a=j(a,c);return b("shallowEqual")(a,c)?null:a};a.prototype.render=function(){return b("React").createElement(b("UFI2RealtimeContainer.react"),{subscribe:this.$1},b("React").createElement(b("OnVisible.react"),{onHidden:this.$2,onVisible:this.$3},b("React").createElement("div",{className:"_3bem"},b("React").createElement("div",{className:(this.state.isVisible?"_1kyy":"")+" _3bep"+(this.state.isTyping?" __f9":"")},b("React").createElement(b("MercuryTypingAnimation.react"),{className:"__fa"}),b("React").createElement("div",{className:"__fb"},this.state.label)))))};e.exports=c(a,{feedback:function(){return b("UFI2TypingIndicator_feedback.graphql")}})}),null);
__d("UFI2ComposerAction.react",["Focus","React","ifRequired","promiseDone"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.state={Component:b("ifRequired").call(b("ifRequired"),this.props.resource.getModuleId(),function(a){return a})},this.$1=!1,this.$2=!1,this.$3=!1,this.$4=null,this.$5=function(a){this.$3=!1,this.props.placeholder.props.onBlur&&this.props.placeholder.props.onBlur(a)}.bind(this),this.$6=function(a){this.$3=!0,this.$7(),this.props.placeholder.props.onFocus&&this.props.placeholder.props.onFocus(a)}.bind(this),this.$8=function(a){this.$1=!this.$1,this.$7(),this.props.placeholder.props.onClick&&this.props.placeholder.props.onClick(a)}.bind(this),this.$9=function(a){this.$7(),this.props.placeholder.props.onMouseOver&&this.props.placeholder.props.onMouseOver(a)}.bind(this),this.$10=function(a){a!=null&&this.$3&&(this.$3=!1,b("Focus").set(a,!0))}.bind(this),c}a.prototype.$7=function(){this.state.Component==null&&this.$4==null&&(this.$4=this.props.resource.load(),b("promiseDone")(this.$4,function(a){if(this.$2===!1)return;this.setState({Component:a})}.bind(this)))};a.prototype.componentDidMount=function(){this.$2=!0};a.prototype.componentWillUnmount=function(){this.$2=!1};a.prototype.render=function(){var a=this.state.Component;if(a!=null)return b("React").createElement(a,this.props.createComponentProps({clicked:this.$1,onFocusableElementRefChange:this.$10}));else return b("React").cloneElement(this.props.placeholder,{onBlur:this.$5,onClick:this.$8,onFocus:this.$6,onMouseOver:this.$9})};e.exports=a}),null);
__d("UFI2ComposerActionPlaceholder.react",["cx","Link.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=h.constructor).call.apply(a,[this].concat(d)),this.state={isLoading:!1},this.onClick=function(a){this.setState({isLoading:!0});if(this.props.onClick)return this.props.onClick(a)}.bind(this),b}a.prototype.render=function(){return this.state.isLoading?b("React").createElement(b("XUISpinner.react"),{className:"_2wv6",size:"small"}):b("React").createElement("div",{className:this.props.buttonClassName},b("React").createElement(b("Link.react"),{"aria-label":this.props.tooltip,className:this.props.iconClassName,"data-hover":"tooltip","data-tooltip-alignh":"center","data-tooltip-content":this.props.tooltip,onBlur:this.props.onBlur,onClick:this.onClick,onFocus:this.props.onFocus,onMouseOver:this.props.onMouseOver,role:"button"}))};e.exports=a}),null);
__d("UFI2InsertEmojiComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(b){var c=b.clicked;b=b.onFocusableElementRefChange;return{buttonClassName:"_1t9_ _1ta3",iconActiveClassName:"UFICommentEmojiIconActive",iconClassName:"InsertEmoji",initiallyVisible:c,onComposerStateChange:a.onComposerStateChange,onFocusableElementRefChange:b}},placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ta3",iconClassName:"InsertEmoji",tooltip:h._("Insert an emoji")}),resource:b("JSResource")("UFI2EmojiInputButton.react").__setRef("UFI2InsertEmojiComposerAction.react"),resourceType:null})}e.exports=a}),null);
__d("withReparentingGuard",["React","isReactClassComponent","withDisplayName"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();function c(c){__p&&__p();var d=b("isReactClassComponent")(c)?c:function(){__p&&__p();var a;a=babelHelpers.inherits(d,b("React").Component);a&&a.prototype;d.prototype.render=function(){"use strict";return b("React").createElement(c,this.props)};function d(){"use strict";a.apply(this,arguments)}return d}(),e=void 0;function f(b){b&&(e&&e!==b&&a(c),e=b)}return function(){__p&&__p();var a;a=babelHelpers.inherits(c,b("React").Component);a&&a.prototype;c.prototype.render=function(){"use strict";return b("React").createElement(d,babelHelpers["extends"]({},this.props,{ref:f}))};function c(){"use strict";a.apply(this,arguments)}return c}()}return b("withDisplayName")(c)}e.exports=a}),null);
__d("createUFI2ComposerPlugin",["invariant","FBLogger","React","injectSubscriptionsHandler.react","withDisplayName","withReparentingGuard"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();a.config;function c(a){__p&&__p();var c,d;a=b("withReparentingGuard")(function(a){a=a.displayName||a.name||"Unknown";a="The UFI2 comment composer plugin that wraps the `"+a+"` component caused it to be reparented. Learn how to remedy this mustfix here: https://fburl.com/ufi-composer-plugins-must-never-reparent-wrapped-components";b("FBLogger")("ufi2").blameToPreviousFile().mustfix(a)})(a);c=babelHelpers.inherits(e,b("React").Component);d=c&&c.prototype;function e(){__p&&__p();var a,b;for(var c=arguments.length,e=Array(c),f=0;f<c;f++)e[f]=arguments[f];return b=(a=d.constructor).call.apply(a,[this].concat(e)),this.$1=!1,this.$2=!1,this.$3=!1,this.$4=function(a){this.$1===!1||g(0);return this.$5(function(){this.$1=!0,this.props.inputProps.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{attachmentMappers:[].concat(b.attachmentMappers,a)})})}.bind(this),function(){this.$1=!1,this.props.inputProps.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{attachmentMappers:b.attachmentMappers.filter(function(b){return a.includes(b)===!1})})})}.bind(this))}.bind(this),this.$6=function(a){this.$2===!1||g(0);return this.$5(function(){this.$2=!0,this.props.inputProps.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{contentBlockToTextWithEntitiesInputMessageMappers:[].concat(b.contentBlockToTextWithEntitiesInputMessageMappers,a)})})}.bind(this),function(){this.$2=!1,this.props.inputProps.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{contentBlockToTextWithEntitiesInputMessageMappers:b.contentBlockToTextWithEntitiesInputMessageMappers.filter(function(b){return a.includes(b)===!1})})})}.bind(this))}.bind(this),this.$7=function(a){this.$3===!1||g(0);return this.$5(function(){this.$3=!0,this.props.inputProps.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{inputDecorators:[].concat(b.inputDecorators,a)})})}.bind(this),function(){this.$3=!1,this.props.inputProps.onComposerStateChange(function(b){return babelHelpers["extends"]({},b,{inputDecorators:b.inputDecorators.filter(function(b){return a.includes(b)===!1})})})}.bind(this))}.bind(this),b}e.prototype.$5=function(a,b){"use strict";__p&&__p();a();var c=!1,d=function(){if(c===!0)return;c=!0;b()};this.props.subscriptionsHandler.addSubscriptions({remove:function(){d()}});return{uninstall:d}};e.prototype.render=function(){"use strict";return b("React").createElement(a,{actions:this.props.actions,inputProps:this.props.inputProps,onInstallAttachmentMappers:this.$4,onInstallContentBlockToTextWithEntitiesInputMessageMappers:this.$6,onInstallInputDecorators:this.$7})};return b("injectSubscriptionsHandler.react")(e)}return b("withDisplayName")(c)}e.exports=a}),null);
__d("createUFI2EmojiComposerPlugin",["Bootloader","React","UFI2InsertEmojiComposerAction.react","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2EmojiComposerPlugin",function(b){return b(a)},function(){return null})},this.$1=function(a){if(this.state.upgradedPlugin!=null)return this.state.upgradedPlugin.handleKeyCommand(this.props.inputProps,a);else return this.props.inputProps.handleKeyCommand?this.props.inputProps.handleKeyCommand(a):"not-handled"}.bind(this),d}f.prototype.$2=function(){"use strict";this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2EmojiComposerPlugin"],function(b){this.setState({upgradedPlugin:b(a)})}.bind(this),"createUFI2EmojiComposerPlugin"))};f.prototype.componentDidMount=function(){"use strict";this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props):this.$2()};f.prototype.componentDidUpdate=function(a,b){"use strict";b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props)};f.prototype.render=function(){"use strict";return b("React").createElement(c,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2InsertEmojiComposerAction.react"),{key:"emojiComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange})]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleKeyCommand:this.$1})}))};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("createUFI2EmoticonsComposerPlugin",["Bootloader","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2EmoticonsComposerPlugin",function(b){return b(a)},function(){return null})},d}f.prototype.$1=function(){"use strict";this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2EmoticonsComposerPlugin"],function(b){this.setState({upgradedPlugin:b(a)})}.bind(this),"createUFI2EmoticonsComposerPlugin"))};f.prototype.componentDidMount=function(){"use strict";this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props):this.$1()};f.prototype.componentDidUpdate=function(a,b){"use strict";b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props)};f.prototype.render=function(){"use strict";if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,c);else return b("React").createElement(c,this.props)};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("UFI2ComposerPreviewArea.react",["cx","CloseButton.react","React","joinClasses"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var c=a.children,d=a.className,e=a.onRemoveClick,f=a.removeButtonLabel;a=babelHelpers.objectWithoutProperties(a,["children","className","onRemoveClick","removeButtonLabel"]);return b("React").createElement("div",babelHelpers["extends"]({},a,{className:b("joinClasses")(d,"_1llh")}),c,b("React").createElement(b("CloseButton.react"),{ariaLabel:f,className:"_1lli",onClick:e,tooltip:f}))}e.exports=a}),null);
__d("UFI2InsertGIFComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(b){var c=b.clicked;b=b.onFocusableElementRefChange;return{buttonClassName:"_1t9_ _1ny6",iconActiveClassName:"_1ny9",iconClassName:"_1nyp",initiallyVisible:c,onComposerStateChange:a.onComposerStateChange,onFocusableElementRefChange:b}},placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1ny6",iconClassName:"_1nyp",tooltip:h._("Post a GIF")}),resource:b("JSResource")("UFI2InsertGIFButton.react").__setRef("UFI2InsertGIFComposerAction.react"),resourceType:null})}e.exports=a}),null);
__d("createUFI2GIFComposerPlugin",["cx","fbt","Image.react","React","UFI2ComposerPreviewArea.react","UFI2InsertGIFComposerAction.react","createUFI2ComposerPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return a.attachment&&a.attachment.__type==="GIF"?a.attachment.data:null}function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){var a,b;for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return b=(a=e.constructor).call.apply(a,[this].concat(d)),this.$1=function(a){this.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})}.bind(this),b}f.prototype.componentDidMount=function(){"use strict";this.props.onInstallAttachmentMappers([function(a){return a.__type==="GIF"?{link:{external:{url:a.data.source.url}}}:null}])};f.prototype.componentDidUpdate=function(a){"use strict";__p&&__p();var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var c=i(b);if(a.attachment==null&&c&&i(a)==null){c=b.inputState;a=!1;switch(c.__type){case"plain-text":a=c.text.trim()!=="";break;case"editor-state-based":a=c.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:c.__type}a===!1&&this.props.inputProps.onCommit()}};f.prototype.render=function(){"use strict";var a=h._("Remove GIF"),d=this.props.inputProps.composerState,e=i(d);return b("React").createElement("div",{className:"_17pg"},b("React").createElement(c,babelHelpers["extends"]({},this.props,{actions:d.attachment?this.props.actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2InsertGIFComposerAction.react"),{key:"gifComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange})])})),e?b("React").createElement(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$1,removeButtonLabel:a},b("React").createElement(b("Image.react"),{className:"_17pj mas",height:e.media.preview.height,src:e.media.preview.url,width:e.media.preview.width})):null)};return b("createUFI2ComposerPlugin")({config:a})(f)}.bind(this)}e.exports=a}),null);
__d("createUFI2HashtagComposerPlugin",["Bootloader","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2HashtagComposerPlugin",function(b){return b(a)},function(){return null})},d}f.prototype.$1=function(){"use strict";this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2HashtagComposerPlugin"],function(b){this.setState({upgradedPlugin:b(a)})}.bind(this),"createUFI2HashtagComposerPlugin"))};f.prototype.componentDidMount=function(){"use strict";this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props):this.$1()};f.prototype.componentDidUpdate=function(a,b){"use strict";b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props)};f.prototype.render=function(){"use strict";return b("React").createElement(c,this.props)};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("createUFI2LiveTypingBroadcastComposerPlugin",["Bootloader","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.$1=!1,this.$2=!1,this.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2LiveTypingBroadcastComposerPlugin",function(b){return b(a)},function(){return null})},d}f.prototype.componentWillUnmount=function(){"use strict";this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.componentWillUnmount()};f.prototype.$3=function(){"use strict";if(this.state.upgradedPlugin||this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2LiveTypingBroadcastComposerPlugin"],function(b){b=b(a);b.onBootload(this.props,this.state,this.$2);this.setState({upgradedPlugin:b})}.bind(this),"createUFI2LiveTypingBroadcastComposerPlugin"))};f.prototype.render=function(){"use strict";__p&&__p();if(this.state.upgradedPlugin!=null)return this.state.upgradedPlugin.render(this.props,this.state,c);else return b("React").createElement(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{onBlur:function(a){this.props.inputProps.onBlur&&this.props.inputProps.onBlur(a);if(a.isDefaultPrevented())return;this.$2=!1}.bind(this),onFocus:function(a){this.props.inputProps.onFocus&&this.props.inputProps.onFocus(a);if(a.isDefaultPrevented())return;this.$2=!0;this.$3()}.bind(this)})}))};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("UFI2ToggleMarkdownComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=h._("Format text with Markdown");return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(b){var d=b.clicked;b=b.onFocusableElementRefChange;return{buttonClassName:"_1t9_ _1qtn",formattingStyle:a.formattingStyle,iconActiveClassName:"_15tt",iconClassName:"_15t_",initiallyEnabled:d,onComposerStateChange:a.onComposerStateChange,onFocusableElementRefChange:b,tooltip:c}},placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _1qtn",iconClassName:"_15t_",tooltip:c}),resource:b("JSResource")("UFI2ToggleMarkdownButton.react").__setRef("UFI2ToggleMarkdownComposerAction.react"),resourceType:null})}e.exports=a}),null);
__d("getPlainTextFromUFI2InputState",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a.__type){case"plain-text":return a.text;case"editor-state-based":return a.editorState.getCurrentContent().getPlainText();default:return a}}e.exports=a}),null);
__d("createUFI2MarkdownComposerPlugin",["cx","Bootloader","React","UFI2ToggleMarkdownComposerAction.react","XUISpinner.react","createUFI2ComposerPlugin","getPlainTextFromUFI2InputState","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.$1=!1,this.state={sourceCodeToPreview:b("getPlainTextFromUFI2InputState")(this.props.inputProps.composerState.inputState),upgradedPlugin:b("ifRequired")("getUpgradedUFI2MarkdownComposerPlugin",function(b){return b(a)},function(){return null})},d}f.prototype.$2=function(){"use strict";if(this.state.upgradedPlugin||this.$1)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2MarkdownComposerPlugin"],function(b){this.setState({upgradedPlugin:b(a)})}.bind(this),"createUFI2MarkdownComposerPlugin"))};f.prototype.componentDidMount=function(){"use strict";this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidMount(this.props):this.$3()&&this.$2()};f.prototype.$3=function(){"use strict";if(this.state.upgradedPlugin||this.$1)return!1;var a=this.props.inputProps.composerState;return a.formattingStyle==="MARKDOWN"};f.prototype.componentDidUpdate=function(a,b){"use strict";this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidUpdate(this.props,this.state,this.setState.bind(this)):this.$3()&&this.$2()};f.prototype.render=function(){"use strict";if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),a.environment,a.topLevelFeedbackTargetID,c);var d=this.props.inputProps.composerState.formattingStyle,e=b("React").createElement(c,babelHelpers["extends"]({},this.props,{actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2ToggleMarkdownComposerAction.react"),{formattingStyle:d,key:"markdownComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange})])}));return b("React").createElement("div",{className:"_21qf"},e,this.state.sourceCodeToPreview&&d==="MARKDOWN"?b("React").createElement("div",{className:"_21qj"},b("React").createElement(b("XUISpinner.react"),{className:"_691k",size:"large"})):null)};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("UFI2MediaUploadComposerAction.react",["cx","fbt","Event","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react","UFICommentFileInputAcceptValues","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){var b=a.target.files.item(0);this.props.onComposerStateChange(function(a){return babelHelpers["extends"]({},a,{attachment:{__type:"Media",reference:{__type:"File",file:b}}})})}.bind(this),this.$2=function(a){a=document.createElement("input");a.setAttribute("accept",b("UFICommentFileInputAcceptValues").both);a.setAttribute("type","file");this.props.subscriptionsHandler.addSubscriptions(b("Event").listen(a,"change",this.$1));a.click()}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(a){a.clicked;a=a.onFocusableElementRefChange;return{fileIsHoveringOverDropTarget:this.props.fileIsHoveringOverDropTarget,hasErrored:this.props.hasErrored,onComposerStateChange:this.props.onComposerStateChange,onFocusableElementRefChange:a}}.bind(this),placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_",iconClassName:(this.props.fileIsHoveringOverDropTarget?"_3n42":"")+(!this.props.fileIsHoveringOverDropTarget&&!this.props.hasErrored?" _3n43":"")+(this.props.hasErrored?" _3nb4":""),onClick:this.$2,tooltip:this.props.hasErrored?h._("There was a problem attaching the file, please try again"):h._("Attach a photo or video")}),resource:b("JSResource")("UFI2MediaUploadButton.react").__setRef("UFI2MediaUploadComposerAction.react"),resourceType:null})};a.defaultProps={fileIsHoveringOverDropTarget:!1,hasErrored:!1};e.exports=b("injectSubscriptionsHandler.react")(a)}),null);
__d("isMimeTypeForMedia",["UFICommentFileInputAcceptValues"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("UFICommentFileInputAcceptValues").photos,h=b("UFICommentFileInputAcceptValues").videos,i=void 0,j=void 0;function k(a){return a.split(",").map(function(a){return a.trim()}).map(function(a){return a.replace(/\/\*$/,"/")})}function a(a){j==null&&(j=k(g));return j.some(function(b){return a.startsWith(b)})}function c(a){i==null&&(i=k(h));return i.some(function(b){return a.startsWith(b)})}e.exports={isMimeTypeForPhoto:a,isMimeTypeForVideo:c}}),null);
__d("mimeTypeIsAcceptableToUFI2MediaUploadPlugin",["isMimeTypeForMedia"],(function(a,b,c,d,e,f){"use strict";var g=b("isMimeTypeForMedia").isMimeTypeForPhoto,h=b("isMimeTypeForMedia").isMimeTypeForVideo;function a(a){return g(a)||h(a)}e.exports=a}),null);
__d("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin",["mimeTypeIsAcceptableToUFI2MediaUploadPlugin"],(function(a,b,c,d,e,f){"use strict";function g(a){return a.kind==="file"&&b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)}function a(a){var b=a.items;a=a.types;return b==null||a==null||Array.from(a).includes("Files")===!1?-1:Array.from(b).findIndex(function(a){return g(a)})}e.exports=a}),null);
__d("createUFI2MediaUploadComposerPlugin",["cx","fbt","Bootloader","ProgressBar.react","React","UFI2ComposerPreviewArea.react","UFI2MediaUploadComposerAction.react","createUFI2ComposerPlugin","idx","ifRequired","indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin","injectSubscriptionsHandler.react","mimeTypeIsAcceptableToUFI2MediaUploadPlugin"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a,b){a.inputProps.onComposerStateChange(function(a){return{attachment:{__type:"Media",reference:{__type:"File",file:b}}}})}function j(a){return((a=a)!=null?(a=a.attachment)!=null?a.__type:a:a)==="Media"}function k(a,b){if(b==="ufi-commit"){var c=a.inputProps.composerState;c=c&&c.attachment&&c.attachment.__type==="Media"&&c.attachment.reference.__type;if(c==="File"||c==="UploadingFile")return"handled"}return a.inputProps.handleKeyCommand?a.inputProps.handleKeyCommand(b):"not-handled"}function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){__p&&__p();var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.$1=0,this.$2=!1,this.state={fileIsHoveringOverDropTarget:!1,upgradedPlugin:b("ifRequired")("getUpgradedUFI2MediaUploadComposerPlugin",function(b){return b(a)},function(){return null}),uploadError:null},this.$4=function(a){this.$1++,b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(a.dataTransfer)!==-1&&(a.preventDefault(),this.$1>0&&this.setState({fileIsHoveringOverDropTarget:!0}))}.bind(this),this.$5=function(a){this.$1--,this.$1===0&&this.setState({fileIsHoveringOverDropTarget:!1})}.bind(this),this.$7=function(a){a.preventDefault(),this.$3(a.dataTransfer),this.$1=0,this.setState({fileIsHoveringOverDropTarget:!1})}.bind(this),this.$8=function(a){if(a.isDefaultPrevented())return;b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(a.clipboardData)!==-1&&a.preventDefault();this.$3(a.clipboardData)}.bind(this),this.$9=function(a){a=a.find(function(a){return b("mimeTypeIsAcceptableToUFI2MediaUploadPlugin")(a.type)});if(a){i(this.props,new Blob([a],{type:a.type}));return"handled"}return"not-handled"}.bind(this),this.$10=function(a){this.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})}.bind(this),d}f.prototype.$3=function(a){"use strict";if(a==null)return;var c=b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(a);if(c===-1)return;a=Array.from(a.items);a=c<a.length?a[c].getAsFile():null;a!=null&&i(this.props,a)};f.prototype.$6=function(a){"use strict";b("indexOfFirstItemInDataTransferAcceptableToUFI2MediaUploadPlugin")(a.dataTransfer)!==-1&&a.preventDefault()};f.prototype.$11=function(){"use strict";if(this.state.upgradedPlugin||this.$2)return;this.$2=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2MediaUploadComposerPlugin"],function(b){this.setState({upgradedPlugin:b(a)})}.bind(this),"createUFI2MediaUploadComposerPlugin"))};f.prototype.componentDidMount=function(){"use strict";this.state.upgradedPlugin?this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.prototype.$12=function(){"use strict";if(this.state.upgradedPlugin||this.$2)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Media"};f.prototype.componentDidUpdate=function(a,b){"use strict";b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props,this.state,this.setState.bind(this)),this.state.upgradedPlugin?this.state.upgradedPlugin.componentDidUpdate(a,this.props,this.state,this.setState.bind(this)):this.$12()&&this.$11()};f.prototype.render=function(){"use strict";if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),this.$4,this.$5,this.$6,this.$7,k,this.$8,this.$9,c);var a=j(this.props.inputProps.composerState),d=b("React").createElement(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2MediaUploadComposerAction.react"),{fileIsHoveringOverDropTarget:this.state.fileIsHoveringOverDropTarget,key:"mediaUploadComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange})]),inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleKeyCommand:function(a){return k(this.props,a)}.bind(this),handlePastedFiles:this.$9})})),e=h._("Cancel upload");return b("React").createElement("div",{className:"_25-w",onDragEnter:this.$4,onDragLeave:this.$5,onDragOver:this.$6,onDrop:this.$7},d,a?b("React").createElement(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$10,removeButtonLabel:e},b("React").createElement(b("ProgressBar.react"),{label:h._("{value}\u0025",[h._param("value","0")]),value:0})):null)};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("createUFI2MentionsComposerPlugin",["Bootloader","React","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.state={characterOffset:0,mentionableEntities:[],selectedMentionableEntity:null,upgradedPlugin:b("ifRequired").call(b("ifRequired"),a.upgradedPluginResource.getModuleId(),function(b){return b(a)},function(){return null})},d}f.prototype.componentDidMount=function(){"use strict";this.state.upgradedPlugin!=null?this.state.upgradedPlugin.installPlugin(this.props):this.$1()};f.prototype.componentDidUpdate=function(a,b){"use strict";b.upgradedPlugin==null&&this.state.upgradedPlugin!=null&&this.state.upgradedPlugin.installPlugin(this.props),this.state.upgradedPlugin&&this.state.upgradedPlugin.componentDidUpdate(a,b,this.props,this.state,this.setState.bind(this))};f.prototype.componentWillUnmount=function(){"use strict";this.state.upgradedPlugin&&this.state.upgradedPlugin.componentWillUnmount()};f.prototype.$1=function(){"use strict";this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules.call(b("Bootloader"),[a.upgradedPluginResource.getModuleId()],function(b){this.setState({upgradedPlugin:b(a)})}.bind(this)))};f.prototype.render=function(){"use strict";var a=this.props;a.subscriptionsHandler;a=babelHelpers.objectWithoutProperties(a,["subscriptionsHandler"]);if(this.state.upgradedPlugin)return this.state.upgradedPlugin.render(this.props,this.state,this.setState.bind(this),c);else return b("React").createElement(c,a)};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("createUFI2PrefillMentionComposerPlugin",["Bootloader","FBLogger","React","UFIODSLogger","UFIVersion","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.$1=!1,this.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2PrefillMentionComposerPlugin",function(b){return b(a)},function(){return null})},this.$2=function(a){var c=this.state.upgradedPlugin;c?(a.__type==="PrefillMention"&&b("UFIODSLogger").bump("prefill_mention_plugin.prefill_requested.with_implementation",b("UFIVersion").RELAY),c.handleCommand(a,this.props.inputProps)):(a.__type==="PrefillMention"&&(b("UFIODSLogger").bump("prefill_mention_plugin.prefill_requested.without_implementation",b("UFIVersion").RELAY),b("FBLogger")("ufi2").warn("Someone called for the composer to be prefilled with a mention before the prefill code had loaded. Nothing fatal happened, but the users involved experienced a degraded experience; the original author of the comment that was being replied to was likely not mentioned, hence they might not have been notified of the reply.")),this.props.inputProps.handleCommand&&this.props.inputProps.handleCommand(a))}.bind(this),d}f.prototype.componentDidMount=function(){"use strict";if(this.state.upgradedPlugin)return;this.$1=!0;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2PrefillMentionComposerPlugin"],function(b){this.setState({upgradedPlugin:b(a)})}.bind(this),"createUFI2PrefillMentionComposerPlugin"))};f.prototype.render=function(){"use strict";return b("React").createElement(c,babelHelpers["extends"]({},this.props,{inputProps:babelHelpers["extends"]({},this.props.inputProps,{handleCommand:this.$2})}))};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("UFI2InsertStickerComposerAction.react",["cx","fbt","JSResource","React","UFI2ComposerAction.react","UFI2ComposerActionPlaceholder.react"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var c=h._("Post a sticker");return b("React").createElement(b("UFI2ComposerAction.react"),{createComponentProps:function(b){var d=b.clicked;b=b.onFocusableElementRefChange;return{buttonClassName:"_1t9_ _2r-o",iconActiveClassName:"_2r-q",iconClassName:"_2r-r",initiallyVisible:d,label:c,onComposerStateChange:a.onComposerStateChange,onFocusableElementRefChange:b}},placeholder:b("React").createElement(b("UFI2ComposerActionPlaceholder.react"),{buttonClassName:"_1t9_ _2r-o",iconClassName:"_2r-r",tooltip:c}),resource:b("JSResource")("UFI2InsertStickerButton.react").__setRef("UFI2InsertStickerComposerAction.react"),resourceType:null})}e.exports=a}),null);
__d("createUFI2StickersComposerPlugin",["cx","fbt","Bootloader","FBLogger","LoadingIndicator.react","React","UFI2ComposerPreviewArea.react","UFI2InsertStickerComposerAction.react","createUFI2ComposerPlugin","ifRequired","injectSubscriptionsHandler.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function i(a){return a.attachment&&a.attachment.__type==="Sticker"?a.attachment.id:null}function a(a){__p&&__p();return function(c){__p&&__p();var d,e;d=babelHelpers.inherits(f,b("React").Component);e=d&&d.prototype;function f(){__p&&__p();var c,d;for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return d=(c=e.constructor).call.apply(c,[this].concat(g)),this.$1=!1,this.state={upgradedPlugin:b("ifRequired")("getUpgradedUFI2StickersComposerPlugin",function(b){return b(a)},function(){return null})},this.$2=function(a){this.props.inputProps.onComposerStateChange(function(a){return{attachment:null}})}.bind(this),this.$3=function(a){this.props.inputProps.onComposerStateChange(function(){return{attachment:null}}),b("FBLogger")("ufi2").catching(a).mustfix("Encoutered an error while rendering a sticker.")}.bind(this),d}f.prototype.$4=function(c){"use strict";var d=b("React").createElement(b("LoadingIndicator.react"),{className:"_1rwi mal",color:"blue",size:"small"});if(this.state.upgradedPlugin)return this.state.upgradedPlugin.renderSticker(a.environment,d,this.$3,c);else return d};f.prototype.$5=function(){"use strict";if(this.state.upgradedPlugin||this.$1)return!1;var a=this.props.inputProps.composerState;return a.attachment!=null&&a.attachment.__type==="Sticker"};f.prototype.$6=function(){"use strict";if(this.state.upgradedPlugin||this.$1)return;this.props.subscriptionsHandler.addSubscriptions(b("Bootloader").loadModules(["getUpgradedUFI2StickersComposerPlugin"],function(b){this.setState({upgradedPlugin:b(a)})}.bind(this),"createUFI2StickersComposerPlugin"))};f.prototype.componentDidMount=function(){"use strict";this.props.onInstallAttachmentMappers([function(a){return a.__type==="Sticker"?{media:{id:a.id}}:null}]),this.$5()&&this.$6()};f.prototype.componentDidUpdate=function(a){"use strict";__p&&__p();var b=this.props.inputProps.composerState;a=a.inputProps.composerState;var c=i(b);if(a.attachment==null&&c&&i(a)==null){c=b.inputState;a=!1;switch(c.__type){case"plain-text":a=c.text.trim()!=="";break;case"editor-state-based":a=c.editorState.getCurrentContent().getPlainText().trim()!=="";break;default:c.__type}a===!1&&this.props.inputProps.onCommit()}this.$5()&&this.$6()};f.prototype.render=function(){"use strict";var a=i(this.props.inputProps.composerState);return b("React").createElement("div",{className:"_1rwk"},b("React").createElement(c,babelHelpers["extends"]({},this.props,{actions:this.props.inputProps.composerState.attachment?this.props.actions:[].concat(this.props.actions,[b("React").createElement(b("UFI2InsertStickerComposerAction.react"),{key:"stickersComposerAction",onComposerStateChange:this.props.inputProps.onComposerStateChange})])})),a?b("React").createElement(b("UFI2ComposerPreviewArea.react"),{onRemoveClick:this.$2,removeButtonLabel:h._("Remove sticker")},this.$4(a)):null)};return b("createUFI2ComposerPlugin")({config:a})(b("injectSubscriptionsHandler.react")(f))}.bind(this)}e.exports=a}),null);
__d("FeedStoryUFIRoot.react",["cx","fbt","invariant","BootloadedComponent.react","Bootloader","CurrentUser","FBLogger","FeedStoryUFISummary.react","JSResource","React","RelayAPIConfig","RelayFBEnvironment","RelayModern","RelayPreloadedQueryRenderer.react","RelayUFI2Environment","UFI2ActorSelector.react","UFI2AnswerActionLink.react","UFI2Comment.react","UFI2CommentActionLink.react","UFI2CommentDisabledNotice.react","UFI2CommentsConfig","UFI2CommentsList.react","UFI2CommentsPager.react","UFI2Composer.react","UFI2FeedbackCommentReactSubscription","UFI2FeedbackReactSubscription","UFI2PaginationProgressIndicator.react","UFI2ReactionActionLink.react","UFI2RealtimeContainer.react","UFI2RealtimeRoot.react","UFI2RepliesCollapser.react","UFI2RepliesExpander.react","UFI2ScrollHoldingContainer.react","UFI2ShareActionLink.react","UFI2ToggleCommentPermissionSubscription","UFI2TypingIndicator.react","UFI2ViewOption","UFIODSLogger","UFIVersion","XUISpinner.react","createUFI2EmojiComposerPlugin","createUFI2EmoticonsComposerPlugin","createUFI2GIFComposerPlugin","createUFI2HashtagComposerPlugin","createUFI2LiveTypingBroadcastComposerPlugin","createUFI2MarkdownComposerPlugin","createUFI2MediaUploadComposerPlugin","createUFI2MentionsComposerPlugin","createUFI2PrefillMentionComposerPlugin","createUFI2StickersComposerPlugin","gkx","idx","tooltipPropsFor","FeedStoryUFIRootQuery.graphql"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j,k,l,m=b("RelayModern").QueryRenderer;b("RelayModern").graphql;var n=b("BootloadedComponent.react").create(b("JSResource")("UFI2ViewOptionsSelector.react").__setRef("FeedStoryUFIRoot.react")),o=b("BootloadedComponent.react").create(b("JSResource")("UFI2AddCommentLink.react").__setRef("FeedStoryUFIRoot.react"));function p(a){return b("React").createElement(b("BootloadedComponent.react"),babelHelpers["extends"]({},a,{bootloadLoader:b("JSResource")("UFI2CommentEditor.react").__setRef("FeedStoryUFIRoot.react"),bootloadPlaceholder:a.editorPlaceholder}))}b("gkx")("AT6fJDcAD_FWDZG52-q7i2doHnnyhB1sEP7UXR8prU4-xjxbWicCMANW6HQBHxIwGyGo2S8gxg1PZD7dqMqNEN9l")&&b("Bootloader").loadModules(["ReactJsAsyncLogging"],function(a){a.initializeAndStartLogging()},"FeedStoryUFIRoot.react");var q=b("RelayAPIConfig").actorID;a=babelHelpers.inherits(r,b("React").PureComponent);k=a&&a.prototype;function r(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=k.constructor).call.apply(a,[this].concat(e)),this.state={actorID:q},this.$1=function(a){__p&&__p();var c=a.error;a=a.props;var d=this.props,e=d.feedLocation,f=d.queryVariables;d=d.streamLastViewTime;var g=this.props.feedbackSource;if(c)return b("React").createElement(b("BootloadedComponent.react"),{bootloadLoader:b("JSResource")("FeedStoryUFIError.react").__setRef("FeedStoryUFIRoot.react"),bootloadPlaceholder:b("React").createElement(b("XUISpinner.react"),{className:"_2sy3",size:"large"}),error:c});if(a==null)return b("React").createElement(b("XUISpinner.react"),{className:"_2sy3",size:"large"});c=a.feedback;var h=a.group;a=a.shareable_config;if(!c){b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",f.feedbackTargetID||"UNKNOWN").mustfix("Query is missing feedback data.");return null}var i=f.contextForFeedback,j=f.feedbackTargetID;f=f.focusCommentID;return b("React").createElement(w,{contextForFeedback:i,feedLocation:e,feedback:c,feedbackSource:g,feedbackTargetID:j,group:h,linkedCommentID:f,onActorChange:this.$2,shareable_config:a,streamLastViewTime:d})}.bind(this),this.$2=function(a){this.setState({actorID:a})}.bind(this),c}r.prototype.componentDidMount=function(){b("UFIODSLogger").bump("componentDidMount",b("UFIVersion").RELAY)};r.prototype.render=function(){var a=this.state.actorID;if(this.props.usePreloadedQueryRenderer)return b("React").createElement(b("RelayPreloadedQueryRenderer.react"),{environment:b("RelayUFI2Environment").forActor(a),query:r.query,render:this.$1});var c=this.props.queryVariables;return b("React").createElement(m,{environment:b("RelayUFI2Environment").forActor(a),query:r.query,render:this.$1,variables:c})};r.query=j||(j=function(){return b("FeedStoryUFIRootQuery.graphql")});r.displayName="FeedStoryUFIRoot";function s(a){return a===1}function t(a){__p&&__p();var b=a.comment,c=a.group;a=a.streamLastViewTime;if(b.is_locally_composed)return!0;if(c!=null&&a){c=b.created_time;if(c)return a<c}return!1}function u(a){return a!=null?b("RelayUFI2Environment").forActor(a):b("RelayFBEnvironment")}function v(a){var c,d=a.feedback,e=a.group,f=d.viewer_current_actor,g=d.mentions_datasource_js_constructor_args_json,h=f&&f.id,i=u(h);return{composerPluginProps:{initialPlugins:[e?b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{__type:"GroupMentions",sortFn:function(a,b){var c=a.getAuxiliaryData().renderType,d=b.getAuxiliaryData().renderType;if(c===d)return a.getOrder()-b.getOrder();a={member:0,non_member:1};return a[c]-a[d]},viewProps:{member:{aux:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.member_aux:c:c,title:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.member_title:c:c},nonMember:{aux:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_aux:c:c,title:(c=e)!=null?(c=c.group_mentions_sections_info)!=null?c.nonmember_title:c:c}}},upgradedPluginResource:b("JSResource")("createUpgradedUFI2GroupMentionsComposerPlugin").__setRef("FeedStoryUFIRoot.react")}):b("createUFI2MentionsComposerPlugin")({maxResults:5,mentions_datasource_js_constructor_args_json:g,typeaheadViewProps:{},upgradedPluginResource:b("JSResource")("createUpgradedUFI2MentionsComposerPlugin").__setRef("FeedStoryUFIRoot.react")}),b("createUFI2HashtagComposerPlugin")(),b("createUFI2EmojiComposerPlugin")({size:16}),b("createUFI2EmoticonsComposerPlugin")({size:16}),a.feedback.is_comment_markdown_eligible?b("createUFI2MarkdownComposerPlugin")({environment:i,topLevelFeedbackTargetID:a.feedbackTargetID}):null,b("createUFI2MediaUploadComposerPlugin")({viewer:f}),b("createUFI2GIFComposerPlugin")(),b("createUFI2StickersComposerPlugin")({environment:i}),b("createUFI2LiveTypingBroadcastComposerPlugin")({feedbackID:d.id,relayEnvironment:i,viewer:f}),b("createUFI2PrefillMentionComposerPlugin")()].filter(Boolean)},editingCommentID:null,mirroredCurrentActor:h,mirroredMentionsDataSourceJSON:g}}c=babelHelpers.inherits(w,b("React").Component);l=c&&c.prototype;function w(){__p&&__p();var a,c;for(var d=arguments.length,e=Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=l.constructor).call.apply(a,[this].concat(e)),this.$1=null,this.state=v(this.props),this.$2=function(){var a;a=(a=this.props.feedback)!=null?a.id:a;return a!=null?b("UFI2FeedbackCommentReactSubscription").subscribe(u(this.state.mirroredCurrentActor),{top_level_feedback_id:a}):null}.bind(this),this.$3=function(){var a;a=(a=this.props.feedback)!=null?a.id:a;return a!=null?b("UFI2FeedbackReactSubscription").subscribe(u(this.state.mirroredCurrentActor),{feedback_id:a}):null}.bind(this),this.$4=function(){var a;a=(a=this.props.feedback)!=null?a.id:a;return a!=null?b("UFI2ToggleCommentPermissionSubscription").subscribe(u(this.state.mirroredCurrentActor),{feedback_id:a}):null}.bind(this),this.$5=function(){this.$1&&this.$1.Actions.toggleList({focusComposer:!1})}.bind(this),this.$6=function(event){this.$1?(this.$1.Actions.expandList({focusComposer:!0}),event.preventDefault()):b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",this.props.feedbackTargetID||"UNKNOWN").mustfix("The 'comment' button was clicked but no comments list ref could be found. That ref is needed to make sure the comments list is open.")}.bind(this),this.$7=function(){this.$1&&this.$1.Actions.expandList({focusComposer:!0})}.bind(this),this.$8=function(a){this.setState({editingCommentID:a})}.bind(this),c}w.getDerivedStateFromProps=function(a,b){var c,d=b.mirroredCurrentActor;b=b.mirroredMentionsDataSourceJSON;var e=a.feedback;return((c=e)!=null?(c=c.viewer_current_actor)!=null?c.id:c:c)!==d||e.mentions_datasource_js_constructor_args_json!==b?v(a):null};w.prototype.render=function(){var a=this.props,c=a.contextForFeedback,d=a.feedback,e=a.feedbackSource,f=a.feedbackTargetID,g=a.feedLocation,h=a.group,i=a.linkedCommentID,j=a.onActorChange,k=a.shareable_config,l=a.streamLastViewTime;a=this.state;var m=a.composerPluginProps,n=a.editingCommentID;return b("React").createElement(b("UFI2RealtimeRoot.react"),{enabled:d.is_eligible_for_real_time_updates===!0},b("CurrentUser").isEmployee()?b("React").createElement("a",babelHelpers["extends"]({},b("tooltipPropsFor")("[FB-Only] UFI2 Feedback","below","right"),{className:"_4nlk",href:"https://fburl.com/1yvcgcek",target:"_blank"}),"UFI2"):null,b("React").createElement(b("UFI2RealtimeContainer.react"),{subscribe:this.$2},b("React").createElement(b("UFI2CommentsList.react"),{componentRef:function(a){this.$1=a}.bind(this),contextForFeedback:c,feedback:d},function(a){return b("React").createElement(b("React").Fragment,null,b("React").createElement(b("UFI2RealtimeContainer.react"),{subscribe:this.$3},b("React").createElement(x,{commentsListRenderProps:a,feedback:d,feedbackSource:e,feedbackTargetID:f,onActorChange:j,onClickCommentsCount:this.$5,onCommentClick:this.$6,shareableConfig:k})),b("React").createElement(b("UFI2RealtimeContainer.react"),{subscribe:this.$4},b("React").createElement(y,{commentsListRenderProps:a,composerPluginProps:m,contextForFeedback:c,editingCommentID:n,feedLocation:g,feedback:d,feedbackSource:e,feedbackTargetID:f,isCommentFresh:function(a){return t({comment:a,group:h,streamLastViewTime:l})},linkedCommentID:i,onAddCommentClick:this.$7,setEditingCommentID:this.$8})))}.bind(this))))};w.displayName="FeedStoryUFIRootRenderer";function x(a){var c=a.commentsListRenderProps,d=a.feedback,e=a.feedbackTargetID,f=a.feedbackSource,g=a.onActorChange,h=a.onCommentClick,i=a.onClickCommentsCount;a=a.shareableConfig;c=b("React").createElement("div",{className:"_3vuk"},b("React").createElement(b("FeedStoryUFISummary.react"),{commentsListRenderProps:c,feedback:d,feedbackTargetID:e,onClickCommentsCount:i}),b("React").createElement("div",{className:"_1dnh"},d.can_see_voice_switcher?b("React").createElement(b("UFI2ActorSelector.react"),{className:"_1dnk",feedback:d,onActorChange:g}):null,b("React").createElement("div",{className:"_3vuz"},b("React").createElement(b("UFI2ReactionActionLink.react"),{feedback:d}),d.is_q_and_a?b("React").createElement(b("UFI2AnswerActionLink.react"),{feedback:d,onClick:h}):b("React").createElement(b("UFI2CommentActionLink.react"),{feedback:d,onClick:h}),b("React").createElement(b("UFI2ShareActionLink.react"),{feedback:d,feedbackTargetID:e,shareableConfig:a}))));return s(f)?b("React").createElement(b("UFI2ScrollHoldingContainer.react"),null,c):c}function y(a){__p&&__p();var c=a.commentsListRenderProps,d=a.composerPluginProps,e=a.editingCommentID,f=a.feedback,g=a.feedbackSource,j=a.feedbackTargetID,k=a.isCommentFresh,l=a.linkedCommentID,m=a.onAddCommentClick,q=a.setEditingCommentID;c.depth===0||i(0);var r=c.Actions.setViewOption;a=c.Selectors;var t=c.depth,u=c.getCommentEditorProps,v=c.getCommentProps,w=c.getComposerProps,x=c.getPagerPropsForNewerComments,y=c.getPagerPropsForOlderComments,A=c.getPaginationProgressProps,B=c.getNestedCommentsListProps,C=c.isCommentHidden,D=c.isInitiallyExpanded,E=c.listState,F=c.onCommentsListMouseEnter,G=c.onCommentsListMouseLeave,H=c.totalCount;c=c.viewOption;var I=a.getVisibleCommentIDs({depth:t,state:E}),J=a.isComposerVisible({depth:t,state:E}),K=a.isListExpanded({depth:t,state:E}),L=a.isListLoading({depth:t,state:E});if(!K)return null;if(K&&I.length===0&&L)return b("React").createElement("div",{className:"_3w53 _vaw"},b("React").createElement(b("XUISpinner.react"),{className:"_2sy3",size:"large"}));K=b("UFI2ViewOption").isChronologicalOrder(c);L=K?[].concat(I).reverse():I;I=(I=f)!=null?I.viewer_current_actor:I;I||b("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",j||"UNKNOWN").mustfix("FeedStoryUFI: Cant render composer without actor");j=f.have_comments_been_disabled?b("React").createElement(b("UFI2CommentDisabledNotice.react"),{feedback:f}):J&&I!=null?b("React").createElement(b("UFI2Composer.react"),babelHelpers["extends"]({},d,w(),{actor:I,className:"clearfix _4eez _43u6"+(L.length===0?" _4jby":"")+(K?"":" _1k8x"),commentAction:"ADD",key:"composerForUID"+(I.id||"UNKNOWN")})):null;J=a.hasPagedInDirection({depth:t,direction:"forward",state:E});w=!K&&j&&J;I=b("React").createElement(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},x(),{className:"_293g",feedback:f}));a=b("React").createElement(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},y(),{className:"_293g",feedback:f}));E=((t=f)!=null?(t=t.available_view_options)!=null?t.available_view_options:t:t)||[];J=!D&&H>0&&E&&E.length>1;x=b("React").createElement("div",{className:"_3w53","data-testid":"UFI2CommentsList/root_depth_0",onMouseEnter:F,onMouseLeave:G},b("React").createElement("h6",{className:"accessible_elem"},h._("Comments")),b("React").createElement("div",{className:"_3tz_"},K?a:I,J?b("React").createElement("div",{className:"_2pln"},b("React").createElement(n,{alignh:"left",bootloadPlaceholder:b("React").createElement("div",{className:"_68x7"}),caretClassName:"_2plo",className:"_2pm1",feedback:f,linkClassName:"_2pm3",onChange:function(a){return r({viewOption:a})},selectedViewOption:c,viewOptions:E})):b("React").createElement(b("UFI2PaginationProgressIndicator.react"),babelHelpers["extends"]({},A(),{className:"_293g"}))),!K&&j,L.length>0?b("React").createElement("ul",null,L.map(function(a){if(C(a))return null;var c=v(a),h=b("React").createElement(b("UFI2Comment.react"),babelHelpers["extends"]({},c,{className:"_4eez clearfix",feedback:f,feedbackSource:g,isCommentFresh:k,isHighlighted:l===a,onEdit:function(){return q(a)}}));return b("React").createElement("li",{key:c.key||a},a===e?b("React").createElement(p,babelHelpers["extends"]({},d,u(),{commentId:a,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,editorPlaceholder:b("React").createElement("div",{"aria-busy":"true",className:"aero"},h),feedbackSource:g,onFinishEdit:function(){return q(null)}})):h,b("React").createElement(b("UFI2CommentsList.react"),B(a),function(a){return b("React").createElement(z,{composerPluginProps:d,editingCommentID:e,feedback:f,feedbackSource:g,isCommentFresh:k,linkedCommentID:l,repliesListRenderProps:a,setEditingCommentID:q})}))})):null,b("React").createElement("div",{className:"_3tz_"},K?I:a),b("React").createElement(b("UFI2TypingIndicator.react"),{feedback:f}),K&&j,w&&b("React").createElement(o,{bootloadPlaceholder:b("React").createElement("div",{className:"_4xyl"}),feedback:f,onClick:m}));return s(g)?b("React").createElement(b("UFI2ScrollHoldingContainer.react"),null,x):x}function z(a){__p&&__p();var c=a.composerPluginProps,d=a.editingCommentID,e=a.feedback,f=a.feedbackSource,g=a.isCommentFresh,h=a.linkedCommentID,j=a.repliesListRenderProps,k=a.setEditingCommentID;j.depth===1||i(0);a=j.Selectors;var l=j.depth,m=j.getCommentEditorProps,n=j.getCommentProps,o=j.getComposerProps,q=j.getPagerPropsForNewerComments,r=j.getPagerPropsForOlderComments,t=j.getRepliesCollapserProps,u=j.getRepliesExpanderProps,v=j.isCommentHidden,w=j.listState,x=j.onCommentsListMouseEnter;j=j.onCommentsListMouseLeave;var y=a.getVisibleCommentIDs({depth:l,state:w}),z=a.isComposerVisible({depth:l,state:w}),A=a.isListExpanded({depth:l,state:w});a=a.isRepliesExpanderLoading({depth:l,state:w});l=[].concat(y).reverse();y=(w=e)!=null?w.viewer_current_actor:w;w=!A||a?b("React").createElement(b("UFI2RepliesExpander.react"),babelHelpers["extends"]({},u(),{className:"_1i3s _293g"})):b("React").createElement(b("React").Fragment,null,b("React").createElement(b("UFI2RepliesCollapser.react"),babelHelpers["extends"]({},t(),{className:"_2kgx"})),b("React").createElement(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},r(),{className:"_1i3s _293g",feedback:e})),l.length>0?b("React").createElement("ul",null,l.map(function(a){if(v(a))return null;var i=n(a),j=b("React").createElement(b("UFI2Comment.react"),babelHelpers["extends"]({},i,{className:"_4efk clearfix",feedback:e,feedbackSource:f,isCommentFresh:g,isHighlighted:h===a,onEdit:function(){return k(a)}}));return b("React").createElement("li",{key:i.key||a},a===d?b("React").createElement(p,babelHelpers["extends"]({},c,m(),{commentId:a,commentProfilePictureSizeDepth0:b("UFI2CommentsConfig").profilePictureSize32,commentProfilePictureSizeDepth1:b("UFI2CommentsConfig").profilePictureSize20,editorPlaceholder:b("React").createElement("div",{"aria-busy":"true",className:"aero"},j),feedbackSource:f,onFinishEdit:function(){return k(null)}})):j)})):null,b("React").createElement(b("UFI2CommentsPager.react"),babelHelpers["extends"]({},q(),{className:"_1i3s _293g",feedback:e})),z&&y!=null?b("React").createElement(b("UFI2Composer.react"),babelHelpers["extends"]({},c,o(),{actor:y,className:"_4efl",commentAction:"ADD",key:"composerForUID"+(y.id||"UNKNOWN")})):null);s(f)&&(w=b("React").createElement(b("UFI2ScrollHoldingContainer.react"),null,w));return b("React").createElement("div",{className:"_2h2j","data-testid":"UFI2CommentsList/root_depth_1",onMouseEnter:x,onMouseLeave:j},w)}e.exports=r}),null);
__d("FeedStoryUFI.react",["FeedStoryUFIRoot.react","React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement(b("FeedStoryUFIRoot.react"),this.props)};function a(){g.apply(this,arguments)}e.exports=a}),null);