if (self.CavalryLogger) { CavalryLogger.start_js(["hcoX+"]); }

__d("KeyframesPerformanceLog",["performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=60;function a(a,b){this.$1=0,this.$2=-1,this.$3=-1,this.$6=a,this.$5=b,this.$6=a,this.reset()}a.prototype.onNextFrame=function(a){this.$7=a};a.prototype.start=function(){if(this.$2<0||this.$3>=0){var a=b("performanceNow")();this.$2<0?this.$2=a:this.$3>=0&&(this.$2+=a-this.$3,this.$3=-1);this.$5&&this.$5("start")}};a.prototype.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=b("performanceNow")(),this.$5&&this.$5("pause"))};a.prototype.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1};a.prototype.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)};a.prototype.addFrameDrop=function(a){a>=8?this.$4.eight+=1:a>=4?this.$4.four+=1:a>=2?this.$4.two+=1:a>=1&&(this.$4.one+=1)};a.prototype.finish=function(){if(this.$2>=0){var a=b("performanceNow")(),c=this.$3>=0?a-this.$3:0;a=Math.max(Math.floor(a-this.$2-c),1);c=this.$1?this.$1/a*1e3:g;this.$6({animation_duration:a,display_refresh_rate:g,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:c,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two});this.reset()}};e.exports=a}),null);
__d("KeyframesVersion",[],(function(a,b,c,d,e,f){"use strict";var g="2.0.0";a={getCurrentVersion:function(){return g}};e.exports=a}),null);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FacebookAppIDs","FunnelLogger","KeyframesEnvironment","KeyframesPerformanceLog","KeyframesVersion","KeyframesWebConfig","once","performanceNow","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=!1;var g="KEYFRAMES_FUNNEL",h="KeyframesFramePerfLoggerConfig",i=2,j=9e18,k={appid:b("FacebookAppIDs").WWW,appversion:null,connection_class:b("KeyframesWebConfig").connectionClass,country:null,deviceid:null,extras:null,isemployee:b("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function l(a){return parseInt(a.match(/[a-f0-9]+$/gi),16)}function m(){var a=b("performanceNow")();return function(){return Math.floor(b("performanceNow")()-a)}}function n(){return{value:Date.now(),phase:b("KeyframesEnvironment").getCurrentWWWSitePhase()}}function o(a,c){__p&&__p();this.$2=!1,this.$3=0,this.$5=1,this.$6=!1,this.$13=b("KeyframesVersion").getCurrentVersion(),this.$17=function(a){this.$15("play_ended");this.$3++;if(this.$3===this.$5){a=Object.assign({},a,k,{animation_duration:String(a.animation_duration),asset_id:this.$7.assetID||null,asset_name:this.$7.assetID?null:this.$7.assetName,display_refresh_rate:String(a.display_refresh_rate),extras:'{"www_phase":"'+b("KeyframesEnvironment").getCurrentWWWSitePhase()+'"}',keyframes_version:this.$13,project_name:this.$7.projectName,session_id:this.$11});o.performanceLoggingMethod(a);this.$5<j&&(this.$5*=i)}}.bind(this),this.$18=function(event){switch(event){case"start":this.$15("play_started");return;case"pause":this.$15("play_ended");return}}.bind(this),this.$12=c||n(),this.$7=a,this.$11=b("uuid")(),this.$4=l(this.$11)}o.performanceLoggingMethod=function(a){b("BanzaiLogger").log(h,a)};o.prototype.startDecode=function(a){var c=this;this.$1||(function(){c.$14();c.$15("asset_decode_started",a);var d=m();c.$1=b("once")(function(a){this.$15("asset_decode_ended",a,{"time_since:asset_decode_started":d()})}.bind(c))})();return this.$1};o.prototype.error=function(a){this.$14(),this.$1?this.$16("asset_decode_failed",a):this.$16("asset_request_failed",a)};o.prototype.markAsPackage=function(){this.$6||(b("FunnelLogger").addFunnelTag(g,this.$4,"package"),this.$6=!0)};o.prototype.getUUID=function(){return this.$11};o.prototype.getInstanceID=function(){return this.$4};o.prototype.getPerformanceLogIfEnabled=function(){__p&&__p();var a=this;if(b("KeyframesWebConfig").enableLogging){this.$8||(function(){var c=a.$14(),d=new(b("KeyframesPerformanceLog"))(a.$17,a.$18);d.onNextFrame(function(){return this.$15("first_frame_rendered",n(),{"time_since:session_started":c()})}.bind(a));a.$8=d})();return this.$8}return null};o.prototype.$14=function(){this.$10||(b("KeyframesWebConfig").enableLogging&&(b("FunnelLogger").startFunnelAtTime(g,this.$12.value,this.$4),this.$15("session_started",this.$12)),this.$10=m());return this.$10};o.prototype.$15=function(a,c,d){c=c||n(),b("KeyframesWebConfig").enableLogging&&(this.$2||b("FunnelLogger").appendActionAtTimeWithPayload(g,c.value,this.$4,a,Object.assign({},this.$19(),d,{www_phase:c.phase})))};o.prototype.$16=function(a,c){c=c||n(),b("KeyframesWebConfig").enableLogging&&(this.$2||(this.$15("session_failed",c,{fail_reason:a}),b("FunnelLogger").endFunnelAtTime(g,c.value,this.$4),this.$2=!0))};o.prototype.$19=function(){return{asset_id:this.$7.assetID||null,asset_name:this.$7.assetID?null:this.$7.assetName,asset_source:"network",keyframes_version:this.$13,project_name:this.$7.projectName,session_id:this.$11,www_phase:b("KeyframesEnvironment").getCurrentWWWSitePhase()}};e.exports=o}),null);