if (self.CavalryLogger) { CavalryLogger.start_js(["qh0bY"]); }

__d("ChromecastScannerEnum",[],(function(a,b,c,d,e,f){e.exports={INIT:"init",CAST:"cast",ERROR:"error",NEW_SESSION:"new_session",RECEIVER_STATUS_CHANGED:"receiver_status_changed",SESSION_REQUESTED:"session_requested",SESSION_CANCELLED:"session_cancelled",SESSION_STARTED:"session_started",SESSION_DISCONNECTING:"session_disconnecting",SESSION_DISCONNECTED:"session_disconnected"}}),null);
__d("ChromecastSessionEnum",[],(function(a,b,c,d,e,f){e.exports={ERROR:"error",DISCONNECTING:"disconnecting",DISCONNECTED:"disconnected",VIDEO_LOADING:"video_loading",VIDEO_LOADED:"video_loaded",VIDEO_PLAYING:"video_playing",VIDEO_PAUSED:"video_paused",VIDEO_SEEK:"video_seek"}}),null);
__d("ChromecastAPI",["Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){__p&&__p();var g=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","boadgeojelhgndaghljhdicfkmllpafd","dliochdbjfkdbacpmhlcpmleaejidimm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],h=null;c={};e.exports=c;c.getSenderAPI=function(){__p&&__p();if(h)return h;if(!a.chrome){h=b("Promise").reject(new Error("Browser not supported"));return h}if(a.chrome.cast&&a.chrome.cast.isAvailable){h=b("Promise").resolve(a.chrome.cast);return h}h=b("Promise").resolve().then(function(){return i()}).then(function(c){return new(b("Promise"))(function(b,d){a.chrome.cast=a.chrome.cast||{};a.chrome.cast.extensionId=c;a.__onGCastApiAvailable=function(c,e){e?d(e):b(a.chrome.cast)};var e=document.createElement("script");e.onerror=d;e.src=k(c);(document.head||document.documentElement).appendChild(e)})});return h};function i(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a=0;case 1:if(!(a<g.length)){e.next=11;break}c=g[a];e.next=5;return b("regeneratorRuntime").awrap(j(c));case 5:d=e.sent;if(!d){e.next=8;break}return e.abrupt("return",c);case 8:a++;e.next=1;break;case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},null,this)}function j(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:return c.abrupt("return",new(b("Promise"))(function(b,c){c=k(a);var d=new XMLHttpRequest();d.onreadystatechange=function(){d.readyState===4&&b(d.status===200)};d.onerror=function(){b(!1)};d.open("GET",c,!0);d.send()}));case 1:case"end":return c.stop()}},null,this)}function k(a){return"chrome-extension://"+a+"/cast_sender.js"}}),null);
__d("ChromecastSession",["invariant","regeneratorRuntime","Promise","ChromecastAPI","ChromecastSessionEnum","EventEmitter"],(function(a,b,c,d,e,f,g){__p&&__p();var h,i=b("ChromecastAPI").getSenderAPI;c=babelHelpers.inherits(a,b("EventEmitter"));h=c&&c.prototype;function a(a,b,c){"use strict";h.constructor.call(this),this.$ChromecastSession1=a,this.$ChromecastSession2=this.$ChromecastSession5.bind(this),this.$ChromecastSession3=b,this.$ChromecastSession4=c,c.addMessageListener(this.$ChromecastSession3,this.$ChromecastSession2)}a.prototype.destroy=function(){"use strict";var a=this.$ChromecastSession4;a&&a.removeMessageListener(this.$ChromecastSession3,this.$ChromecastSession2);this.removeAllListeners()};a.prototype.isCasting=function(){"use strict";return!!this.$ChromecastSession4};a.prototype.isPlaying=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=3;return b("regeneratorRuntime").awrap(i());case 3:a=c.sent;return c.abrupt("return",!!(this.$ChromecastSession4&&this.$ChromecastSession4.media&&this.$ChromecastSession4.media[0]&&this.$ChromecastSession4.media[0].playerState===a.media.PlayerState.PLAYING));case 5:case"end":return c.stop()}},null,this)};a.prototype.hasMedia=function(){"use strict";return!!(this.$ChromecastSession4&&this.$ChromecastSession4.media&&this.$ChromecastSession4.media[0])};a.prototype.disconnect=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:this.emit(b("ChromecastSessionEnum").DISCONNECTING);a.prev=2;a.next=5;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a,b){this.$ChromecastSession4?this.$ChromecastSession4.stop(a,b):a()}.bind(this)));case 5:a.next=11;break;case 7:a.prev=7;a.t0=a["catch"](2);this.emit(b("ChromecastSessionEnum").ERROR,a.t0);throw a.t0;case 11:a.prev=11;this.$ChromecastSession4=null;this.emit(b("ChromecastSessionEnum").DISCONNECTED);this.removeAllListeners();return a.finish(11);case 16:case"end":return a.stop()}},null,this,[[2,7,11,16]])};a.prototype.loadVideo=function(a,c,d){__p&&__p();var e=this;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:f.prev=1;f.next=4;return b("regeneratorRuntime").awrap(function(){__p&&__p();var f,h;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:j.next=2;return b("regeneratorRuntime").awrap(i());case 2:f=j.sent;h=e.$ChromecastSession4;c||(c="video/mp4");j.next=7;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(e,i){__p&&__p();h||g(0);this.emit(b("ChromecastSessionEnum").VIDEO_LOADING);var j=new f.media.MediaInfo(a,c);j.streamType=f.media.StreamType.BUFFERED;j=new f.media.LoadRequest(j);j.autoplay=!0;d&&(j.currentTime=d);h.loadMedia(j,function(a){var c=function(){a.removeUpdateListener(c),this.emit(b("ChromecastSessionEnum").VIDEO_LOADED),e()}.bind(this);a.addUpdateListener(c)}.bind(this),i)}.bind(e)));case 7:e.emit(b("ChromecastSessionEnum").VIDEO_PLAYING);case 8:case"end":return j.stop()}},null,e)}());case 4:f.next=10;break;case 6:f.prev=6;f.t0=f["catch"](1);this.emit(b("ChromecastSessionEnum").ERROR,f.t0);throw f.t0;case 10:case"end":return f.stop()}},null,this,[[1,6]])};a.prototype.playVideo=function(){__p&&__p();var a=this;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:c.prev=1;c.next=4;return b("regeneratorRuntime").awrap(function(){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(i());case 2:c=e.sent;d=a.$ChromecastSession4;e.next=6;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a,b){d||g(0);d.media&&d.media[0]||g(0);var e=new c.media.PlayRequest();d.media[0].play(e,a,b)}));case 6:a.emit(b("ChromecastSessionEnum").VIDEO_PLAYING);case 7:case"end":return e.stop()}},null,a)}());case 4:c.next=10;break;case 6:c.prev=6;c.t0=c["catch"](1);this.emit(b("ChromecastSessionEnum").ERROR,c.t0);throw c.t0;case 10:case"end":return c.stop()}},null,this,[[1,6]])};a.prototype.pauseVideo=function(){__p&&__p();var a=this;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:c.prev=1;c.next=4;return b("regeneratorRuntime").awrap(function(){__p&&__p();var c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(i());case 2:c=e.sent;d=a.$ChromecastSession4;e.next=6;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(a,b){d||g(0);d.media&&d.media[0]||g(0);var e=new c.media.PauseRequest();d.media[0].pause(e,a,b)}));case 6:a.emit(b("ChromecastSessionEnum").VIDEO_PAUSED);case 7:case"end":return e.stop()}},null,a)}());case 4:c.next=10;break;case 6:c.prev=6;c.t0=c["catch"](1);this.emit(b("ChromecastSessionEnum").ERROR,c.t0);throw c.t0;case 10:case"end":return c.stop()}},null,this,[[1,6]])};a.prototype.seekVideo=function(a){__p&&__p();var c=this;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(function(){__p&&__p();var d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(i());case 2:d=f.sent;e=c.$ChromecastSession4;f.next=6;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,c){e||g(0);e.media&&e.media[0]||g(0);var f=new d.media.SeekRequest();f.currentTime=a;e.media[0].seek(f,b,c)}));case 6:c.emit(b("ChromecastSessionEnum").VIDEO_PLAYING);case 7:case"end":return f.stop()}},null,c)}());case 4:d.next=10;break;case 6:d.prev=6;d.t0=d["catch"](1);this.emit(b("ChromecastSessionEnum").ERROR,d.t0);throw d.t0;case 10:case"end":return d.stop()}},null,this,[[1,6]])};a.prototype.getVolume=function(){"use strict";var a=this.$ChromecastSession6();return a?a.level:null};a.prototype.setVolume=function(a){__p&&__p();var c=this;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=c.$ChromecastSession4;e.next=3;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,c){d||g(0),d.setReceiverVolumeLevel(a,b,c)}));case 3:case"end":return e.stop()}},null,c)}());case 4:d.next=10;break;case 6:d.prev=6;d.t0=d["catch"](1);this.emit(b("ChromecastSessionEnum").ERROR,d.t0);throw d.t0;case 10:case"end":return d.stop()}},null,this,[[1,6]])};a.prototype.isMuted=function(){"use strict";var a=this.$ChromecastSession6();return a?a.muted:null};a.prototype.mute=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=3;return b("regeneratorRuntime").awrap(this.$ChromecastSession7(!0));case 3:case"end":return a.stop()}},null,this)};a.prototype.unmute=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=3;return b("regeneratorRuntime").awrap(this.$ChromecastSession7(!1));case 3:case"end":return a.stop()}},null,this)};a.prototype.sendMessage=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:c.prev=1;c.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,c){var d=this.$ChromecastSession4;d||g(0);d.sendMessage(this.$ChromecastSession3,a,b,c)}.bind(this)));case 4:c.next=10;break;case 6:c.prev=6;c.t0=c["catch"](1);this.emit(b("ChromecastSessionEnum").ERROR,c.t0);throw c.t0;case 10:case"end":return c.stop()}},null,this,[[1,6]])};a.prototype.$ChromecastSession6=function(){"use strict";return this.$ChromecastSession4&&this.$ChromecastSession4.receiver&&this.$ChromecastSession4.receiver.volume};a.prototype.$ChromecastSession7=function(a){__p&&__p();var c=this;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.prev=1;d.next=4;return b("regeneratorRuntime").awrap(function(){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=c.$ChromecastSession4;e.next=3;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(b,c){d||g(0),d.setReceiverMuted(a,b,c)}));case 3:case"end":return e.stop()}},null,c)}());case 4:d.next=10;break;case 6:d.prev=6;d.t0=d["catch"](1);this.emit(b("ChromecastSessionEnum").ERROR,d.t0);throw d.t0;case 10:case"end":return d.stop()}},null,this,[[1,6]])};a.prototype.getVideoTime=function(){"use strict";var a=null,b=this.$ChromecastSession4&&this.$ChromecastSession4.media[0];b&&(a=b.getEstimatedTime());return a};a.prototype.$ChromecastSession5=function(a,b){"use strict";a===this.$ChromecastSession3?this.emit("message",b):this.emit("invalid_message",{namespace:a,message:b})};e.exports=a}),null);
__d("ConnectedTVLoggerEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ACTION:"action",APP_BACKGROUNDED:"app_backgrounded",APP_FOREGROUNDED:"app_foregrounded",AUTOPLAY_DISABLED:"autoplay_disabled",AUTOPLAY_ENABLED:"autoplay_enabled",CHANGED_TAB:"changed_tab",CHANGED_SECTION:"changed_section",CHANGED_UNIT:"changed_unit",WATCH_SUMMARY:"watch_summary",PAGE_IMPRESSION:"page_impression",CAST_REQUESTED:"cast_requested",CAST_STARTED:"cast_started",CAST_FAILED:"cast_failed",CAST_ACTIVITY:"cast_activity",CAST_AVAILABILITY:"cast_availability",CAST_BACKGROUNDED:"cast_backgrounded",CASTING_DEVICE_DISCOVERED:"casting_device_discovered",DIAL_DEVICE_DISCOVERED:"dial_device_discovered",CHAINING_DISABLED:"chaining_disabled",CHAINING_ENABLED:"chaining_enabled",GRAPHQL_MUTATION:"graphql_mutation",GRAPHQL_QUERY:"graphql_query",INPUT_HANDLER_TIME:"input_handler_time",INPUT_RENDER_TIME:"input_render_time",ACCIDENTAL_SWIPE:"accidental_swipe",DISPLAYED_FIRST_SCREEN:"displayed_first_screen",EXITED_APP:"exited_app",INLINE_ACTIONS_OPENED:"inline_actions_opened",LAUNCHED_APP:"launched_app",LOGIN_CODE_FETCHED:"login_code_fetched",LOGIN_CODE_FETCH_FAILED:"login_code_fetch_failed",LOGIN_CODE_PAGE_HIT_DESKTOP:"login_code_page_hit_desktop",LOGIN_CODE_PAGE_HIT_MOBILE:"login_code_page_hit_mobile",LOGIN_CODE_PAGE_GDP_APPROVED:"login_code_page_gdp_approved",LOGIN_CODE_PAGE_GDP_CANCELLED:"login_code_page_gdp_cancelled",LOGIN_CODE_PAGE_GDP_SHOWN:"login_code_page_gdp_shown",LOGIN_CODE_PAGE_LWL_APPROVED:"login_code_page_lwl_approved",LOGIN_CODE_PAGE_LWL_CANCELLED:"login_code_page_lwl_cancelled",LOGIN_CODE_PAGE_LWL_SHOWN:"login_code_page_lwl_shown",LOGIN_CODE_SHOWN:"login_code_shown",LOGIN_ERROR_NONCE_INVALID:"login_error_nonce_invalid",LOGIN_OPTION_SELECTED:"login_option_selected",LOGIN_QR_CODE_FETCHED:"login_qr_code_fetched",LOGIN_SUCCESS:"login_success",LOGIN_ERROR:"login_error",LOGIN_TIMEOUT_REFETCH_CODE:"login_timeout_refetch_code",LOGGED_OUT:"logged_out",LOGGED_OUT_PLAYBACK_DISABLED:"logged_out_playback_disabled",SEARCH_RESULTS_DISPLAYED:"search_results_displayed",SEARCH_RESULTS_INTERACTED:"search_results_interacted",SEARCH_TRENDING_TOPIC_SELECTED:"search_trending_topic_selected",SEARCH_TYPEAHEAD_RESULTS_DISPLAYED:"search_typeahead_results_displayed",SEARCH_TYPEAHEAD_SELECTED:"search_typeahead_selected",SECTION_COMPONENT_SELECTED:"section_component_selected",VIEWPORT_DURATION:"viewport_duration",MODAL_OPEN:"modal_open",MODAL_CLOSE:"modal_close",SENDER_SESSION_REQUESTED:"sender_session_requested",SENDER_SESSION_STARTED:"sender_session_started",SENDER_SESSION_FAILED:"sender_session_failed",RECEIVER_PAGE_LOAD:"receiver_page_load",RECEIVER_LOADED:"receiver_loaded",RECEIVER_EXPERIENCE_MANAGER_LOADED:"receiver_experience_manager_loaded",RECEIVER_LAUNCHING_EXPERIENCE:"receiver_launching_experience",RECEIVER_LAUNCHED_EXPERIENCE:"receiver_launched_experience",RECEIVER_EXPERIENCE_JOINED:"receiver_experience_joined",RECEIVER_EXPERIENCE_ENDED:"receiver_experience_ended",RECEIVER_GOT_PAYLOAD:"receiver_got_payload",RECEIVER_GOT_METADATA:"receiver_got_metadata",RECEIVER_PLAYBACK_STARTED:"receiver_playback_started",RECEIVER_PLAYBACK_ENDED:"receiver_playback_ended",RECEIVER_DEVICE_CONNECTED:"receiver_device_connected",RECEIVER_DEVICE_DISCONNECTED:"receiver_device_disconnected",RECEIVER_CONNECTION_ESTABLISHED:"receiver_connection_established",RECEIVER_RECEIVED_MESSAGE:"receiver_received_message",RECEIVER_SENT_MESSAGE:"receiver_sent_message",RECEIVER_FETCHED_NEXT:"receiver_fetched_next",RECEIVER_FETCHED_NEXT_LATE:"receiver_fetched_next_late",RECEIVER_IDLED:"receiver_idled",RECEIVER_LOCALE_CHECK:"receiver_locale_check",RECEIVER_BUG_REPORT_SHOWN:"receiver_bug_report_shown",RECEIVER_REMOTE_CLICK:"receiver_remote_click",RECEIVER_ERROR:"receiver_error",RECEIVER_WARNING:"receiver_warning",RECEIVER_PLAYER_ERROR:"receiver_player_error",SAMSUNG_EDEN_TILES_FETCHED:"samsung_eden_tiles_fetched",SAMSUNG_EDEN_TILE_SELECTED:"samsung_eden_tile_selected",SECTION_MIN_COUNT_CHECK:"section_min_count_check",SERVER_ERROR:"server_error",APK_ERROR:"apk_error",VIDEO_CHANNEL_NAVIGATION_ENDED:"video_channel_navigation_ended",VIDEO_CHANNEL_PLAYBACK_ENDED:"video_channel_playback_ended",TOP_SHELF_REQUESTED:"top_shelf_requested",TOP_SHELF_FINISHED:"top_shelf_finished",TOP_SHELF_OPENED:"top_shelf_opened",OSMETA_AUTH_COPY:"connected_tv_osmeta_auth_copy",SECTION_REORDERING:"section_reordering"})}),null);
__d("ConnectedTVTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.clear()}a.prototype.log=function(){b("GeneratedLoggerUtils").log("ctv_proxy:ConnectedTVLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("ctv_proxy:ConnectedTVLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("ctv_proxy:ConnectedTVLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setAccessToken=function(a){this.$1.access_token=a;return this};a.prototype.setActionMethod=function(a){this.$1.action_method=a;return this};a.prototype.setActionSurface=function(a){this.$1.action_surface=a;return this};a.prototype.setActionTarget=function(a){this.$1.action_target=a;return this};a.prototype.setCampaignID=function(a){this.$1.campaign_id=a;return this};a.prototype.setCastActivityName=function(a){this.$1.cast_activity_name=a;return this};a.prototype.setCastClientAppID=function(a){this.$1.cast_client_app_id=a;return this};a.prototype.setCastClientAppVersion=function(a){this.$1.cast_client_app_version=a;return this};a.prototype.setCastClientSeqNum=function(a){this.$1.cast_client_seq_num=a;return this};a.prototype.setCastClientTimeMs=function(a){this.$1.cast_client_time_ms=a;return this};a.prototype.setCastDeviceCount=function(a){this.$1.cast_device_count=a;return this};a.prototype.setCastSessionID=function(a){this.$1.cast_session_id=a;return this};a.prototype.setCastingDeviceType=function(a){this.$1.casting_device_type=a;return this};a.prototype.setChainingDepthLevel=function(a){this.$1.chaining_depth_level=a;return this};a.prototype.setClientSessionStartTimeMs=function(a){this.$1.client_session_start_time_ms=a;return this};a.prototype.setClientVideoBandwidth=function(a){this.$1.client_video_bandwidth=a;return this};a.prototype.setDeviceUniqueID=function(a){this.$1.device_unique_id=a;return this};a.prototype.setDurationMs=function(a){this.$1.duration_ms=a;return this};a.prototype.setErrorDetails=function(a){this.$1.error_details=a;return this};a.prototype.setErrorMessage=function(a){this.$1.error_message=a;return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventDescription=function(a){this.$1.event_description=a;return this};a.prototype.setExperience=function(a){this.$1.experience=a;return this};a.prototype.setExperienceView=function(a){this.$1.experience_view=a;return this};a.prototype.setExternalLogID=function(a){this.$1.external_log_id=a;return this};a.prototype.setExternalLogType=function(a){this.$1.external_log_type=a;return this};a.prototype.setGraphqlQueryName=function(a){this.$1.graphql_query_name=a;return this};a.prototype.setInitialCast=function(a){this.$1.initial_cast=a;return this};a.prototype.setInitialLogin=function(a){this.$1.initial_login=a;return this};a.prototype.setIsAppVisible=function(a){this.$1.is_app_visible=a;return this};a.prototype.setIsFirstLoadAfterInstall=function(a){this.$1.is_first_load_after_install=a;return this};a.prototype.setIsShowVideo=function(a){this.$1.is_show_video=a;return this};a.prototype.setManufacturer=function(a){this.$1.manufacturer=a;return this};a.prototype.setMemorySize=function(a){this.$1.memory_size=a;return this};a.prototype.setMinCountNumFetched=function(a){this.$1.min_count_num_fetched=a;return this};a.prototype.setModelName=function(a){this.$1.model_name=a;return this};a.prototype.setMostRecentSenderUserAgent=function(a){this.$1.most_recent_sender_user_agent=a;return this};a.prototype.setNumDynamicSections=function(a){this.$1.num_dynamic_sections=a;return this};a.prototype.setOsVersion=function(a){this.$1.os_version=a;return this};a.prototype.setOwnerID=function(a){this.$1.owner_id=a;return this};a.prototype.setOwnerType=function(a){this.$1.owner_type=a;return this};a.prototype.setPerfTimeMs=function(a){this.$1.perf_time_ms=a;return this};a.prototype.setPersonalizedDynamicOrder=function(a){this.$1.personalized_dynamic_order=a;return this};a.prototype.setPlaybackIsLiveStreaming=function(a){this.$1.playback_is_live_streaming=a;return this};a.prototype.setPlayerFormat=function(a){this.$1.player_format=a;return this};a.prototype.setPlayerOrigin=function(a){this.$1.player_origin=a;return this};a.prototype.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};a.prototype.setPlayerVersion=function(a){this.$1.player_version=a;return this};a.prototype.setPositionInChannel=function(a){this.$1.position_in_channel=a;return this};a.prototype.setPreviousState=function(a){this.$1.previous_state=a;return this};a.prototype.setPreviousTvSessionID=function(a){this.$1.previous_tv_session_id=a;return this};a.prototype.setProjection=function(a){this.$1.projection=a;return this};a.prototype.setReferer=function(a){this.$1.referer=a;return this};a.prototype.setRetryCount=function(a){this.$1.retry_count=a;return this};a.prototype.setSectionTypeOverride=function(a){this.$1.section_type_override=a;return this};a.prototype.setSessionFailureCode=function(a){this.$1.session_failure_code=a;return this};a.prototype.setSessionFailureDescription=function(a){this.$1.session_failure_description=a;return this};a.prototype.setShowVideoType=function(a){this.$1.show_video_type=a;return this};a.prototype.setStallCount=function(a){this.$1.stall_count=a;return this};a.prototype.setStallTimeForStartMs=function(a){this.$1.stall_time_for_start_ms=a;return this};a.prototype.setStallTimeMs=function(a){this.$1.stall_time_ms=a;return this};a.prototype.setStoryID=function(a){this.$1.story_id=a;return this};a.prototype.setStreamingFormat=function(a){this.$1.streaming_format=a;return this};a.prototype.setTabType=function(a){this.$1.tab_type=a;return this};a.prototype.setThirdPartyAppID=function(a){this.$1.third_party_app_id=a;return this};a.prototype.setTvAppVersion=function(a){this.$1.tv_app_version=a;return this};a.prototype.setTvSeqNum=function(a){this.$1.tv_seq_num=a;return this};a.prototype.setTvSessionID=function(a){this.$1.tv_session_id=a;return this};a.prototype.setTvTimeMs=function(a){this.$1.tv_time_ms=a;return this};a.prototype.setVC=function(a){this.$1.vc=a;return this};a.prototype.setVideoChannelID=function(a){this.$1.video_channel_id=a;return this};a.prototype.setVideoIDOverride=function(a){this.$1.video_id_override=a;return this};a.prototype.setViewCount=function(a){this.$1.view_count=a;return this};a.prototype.setViewCount100=function(a){this.$1.view_count_100=a;return this};a.prototype.setViewCount10s=function(a){this.$1.view_count_10s=a;return this};a.prototype.setViewCount15s=function(a){this.$1.view_count_15s=a;return this};a.prototype.setViewCount30s=function(a){this.$1.view_count_30s=a;return this};a.prototype.setViewCount75=function(a){this.$1.view_count_75=a;return this};a.prototype.setViewCount95=function(a){this.$1.view_count_95=a;return this};a.prototype.setViewportDuration=function(a){this.$1.viewport_duration=a;return this};a.prototype.setVoiceOverEnabled=function(a){this.$1.voice_over_enabled=a;return this};a.prototype.setWatchTimeChannelMs=function(a){this.$1.watch_time_channel_ms=a;return this};a.prototype.setWatchTimeFullScreenMs=function(a){this.$1.watch_time_full_screen_ms=a;return this};a.prototype.setWatchTimeInlineMs=function(a){this.$1.watch_time_inline_ms=a;return this};a.prototype.setWatchTimeMs=function(a){this.$1.watch_time_ms=a;return this};a.prototype.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};var g={access_token:!0,action_method:!0,action_surface:!0,action_target:!0,campaign_id:!0,cast_activity_name:!0,cast_client_app_id:!0,cast_client_app_version:!0,cast_client_seq_num:!0,cast_client_time_ms:!0,cast_device_count:!0,cast_session_id:!0,casting_device_type:!0,chaining_depth_level:!0,client_session_start_time_ms:!0,client_video_bandwidth:!0,device_unique_id:!0,duration_ms:!0,error_details:!0,error_message:!0,event:!0,event_description:!0,experience:!0,experience_view:!0,external_log_id:!0,external_log_type:!0,graphql_query_name:!0,initial_cast:!0,initial_login:!0,is_app_visible:!0,is_first_load_after_install:!0,is_show_video:!0,manufacturer:!0,memory_size:!0,min_count_num_fetched:!0,model_name:!0,most_recent_sender_user_agent:!0,num_dynamic_sections:!0,os_version:!0,owner_id:!0,owner_type:!0,perf_time_ms:!0,personalized_dynamic_order:!0,playback_is_live_streaming:!0,player_format:!0,player_origin:!0,player_suborigin:!0,player_version:!0,position_in_channel:!0,previous_state:!0,previous_tv_session_id:!0,projection:!0,referer:!0,retry_count:!0,section_type_override:!0,session_failure_code:!0,session_failure_description:!0,show_video_type:!0,stall_count:!0,stall_time_for_start_ms:!0,stall_time_ms:!0,story_id:!0,streaming_format:!0,tab_type:!0,third_party_app_id:!0,tv_app_version:!0,tv_seq_num:!0,tv_session_id:!0,tv_time_ms:!0,vc:!0,video_channel_id:!0,video_id_override:!0,view_count:!0,view_count_100:!0,view_count_10s:!0,view_count_15s:!0,view_count_30s:!0,view_count_75:!0,view_count_95:!0,viewport_duration:!0,voice_over_enabled:!0,watch_time_channel_ms:!0,watch_time_full_screen_ms:!0,watch_time_inline_ms:!0,watch_time_ms:!0};e.exports=a}),null);
__d("ChromecastScanner",["regeneratorRuntime","Promise","ChromecastAPI","ChromecastScannerEnum","ChromecastSession","ChromecastSessionEnum","ConnectedTVLoggerEvents","ConnectedTVTypedLogger","EventEmitter","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){__p&&__p();var g,h=b("ChromecastAPI").getSenderAPI,i=3*60*1e3;a=babelHelpers.inherits(j,b("EventEmitter"));g=a&&a.prototype;j.getInstance=function(a,c,d){var e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:e=new j(a,c,d);f.next=4;return b("regeneratorRuntime").awrap(e.ready());case 4:return f.abrupt("return",e);case 5:case"end":return f.stop()}},null,this)};function j(a,b,c){"use strict";g.constructor.call(this),this.$ChromecastScanner1=a||null,this.$ChromecastScanner2=b||null,this.$ChromecastScanner3=c||!1,this.$ChromecastScanner6=!1,this.$ChromecastScanner4=!1,this.$ChromecastScanner5=!1,this.$ChromecastScanner7=new Set(),this.$ChromecastScanner8=this.$ChromecastScanner9()}j.prototype.$ChromecastScanner9=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:c.next=3;return b("regeneratorRuntime").awrap(h());case 3:a=c.sent;this.$ChromecastScanner5=!0;this.$ChromecastScanner5&&this.$ChromecastScanner1===null&&(this.$ChromecastScanner1=a.media.DEFAULT_MEDIA_RECEIVER_APP_ID);c.prev=6;c.next=9;return b("regeneratorRuntime").awrap(this.$ChromecastScanner10());case 9:this.emit(b("ChromecastScannerEnum").INIT);if(!this.$ChromecastScanner3){c.next=13;break}c.next=13;return b("regeneratorRuntime").awrap(this.scanForReceivers());case 13:c.next=19;break;case 15:c.prev=15;c.t0=c["catch"](6);this.emit(b("ChromecastScannerEnum").ERROR,c.t0);throw c.t0;case 19:case"end":return c.stop()}},null,this,[[6,15]])};j.prototype.ready=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=3;return b("regeneratorRuntime").awrap(this.$ChromecastScanner8);case 3:case"end":return a.stop()}},null,this)};j.prototype.destroy=function(){"use strict";this.removeAllListeners(),this.$ChromecastScanner7.forEach(function(a){return a.destroy()})};j.prototype.hasSupport=function(){"use strict";return this.$ChromecastScanner5};j.prototype.hasFoundReceiver=function(){"use strict";return this.$ChromecastScanner6};j.prototype.scanForReceivers=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(!this.$ChromecastScanner4){d.next=3;break}return d.abrupt("return");case 3:this.$ChromecastScanner4=!0;d.next=6;return b("regeneratorRuntime").awrap(h());case 6:a=d.sent;c=new(b("Promise"))(function(c,d){var e=function(a){a=this.$ChromecastScanner11(a);this.emit(b("ChromecastScannerEnum").SESSION_STARTED,a)}.bind(this),f=function(d){this.$ChromecastScanner6=d===a.ReceiverAvailability.AVAILABLE,this.emit(b("ChromecastScannerEnum").RECEIVER_STATUS_CHANGED,{foundReceiver:this.$ChromecastScanner6}),c()}.bind(this);e=new a.ApiConfig(new a.SessionRequest(this.$ChromecastScanner1),e,f,a.AutoJoinPolicy.ORIGIN_SCOPED,a.DefaultActionPolicy.CAST_THIS_TAB);a.initialize(e,b("emptyFunction"),d)}.bind(this));c=c["catch"](function(a){this.$ChromecastScanner4=!1;this.emit(b("ChromecastScannerEnum").ERROR,a);throw a}.bind(this));d.next=11;return b("regeneratorRuntime").awrap(c);case 11:case"end":return d.stop()}},null,this)};j.prototype.getSession=function(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:if(this.$ChromecastScanner6){e.next=3;break}throw new Error("No receivers found");case 3:this.emit(b("ChromecastScannerEnum").SESSION_REQUESTED);a=this.$ChromecastScanner12();a["catch"](function(a){this.emit(b("ChromecastScannerEnum").SESSION_CANCELLED);this.emit(b("ChromecastScannerEnum").SESSION_DISCONNECTED);throw a}.bind(this));e.next=8;return b("regeneratorRuntime").awrap(a);case 8:c=e.sent;d=this.$ChromecastScanner11(c);this.$ChromecastScanner7.add(d);this.emit(b("ChromecastScannerEnum").SESSION_STARTED,d);return e.abrupt("return",d);case 13:case"end":return e.stop()}},null,this)};j.prototype.$ChromecastScanner12=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=3;return b("regeneratorRuntime").awrap(h());case 3:a=d.sent;d.next=6;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(c,d){new(b("ConnectedTVTypedLogger"))().setEvent(b("ConnectedTVLoggerEvents").SENDER_SESSION_REQUESTED).log();var e=b("performanceAbsoluteNow")(),f=new a.SessionRequest(this.$ChromecastScanner1,[a.Capability.VIDEO_OUT,a.Capability.AUDIO_OUT],i);a.requestSession(function(a){new(b("ConnectedTVTypedLogger"))().setEvent(b("ConnectedTVLoggerEvents").SENDER_SESSION_STARTED).setPerfTimeMs(Math.floor(b("performanceAbsoluteNow")()-e)).log();return c(a)},function(a){new(b("ConnectedTVTypedLogger"))().setEvent(b("ConnectedTVLoggerEvents").SENDER_SESSION_FAILED).setSessionFailureCode(a.code).setSessionFailureDescription(a.description).setPerfTimeMs(Math.floor(b("performanceAbsoluteNow")()-e)).log();return d(a)},f)}.bind(this)));case 6:c=d.sent;return d.abrupt("return",c);case 8:case"end":return d.stop()}},null,this)};j.prototype.$ChromecastScanner11=function(a){"use strict";var c=new(b("ChromecastSession"))(this.$ChromecastScanner1||"",this.$ChromecastScanner2||"",a);c.addListener(b("ChromecastSessionEnum").DISCONNECTING,function(){this.emit(b("ChromecastScannerEnum").SESSION_DISCONNECTING,c)}.bind(this));c.addListener(b("ChromecastSessionEnum").DISCONNECTED,function(){this.emit(b("ChromecastScannerEnum").SESSION_DISCONNECTED,c),this.$ChromecastScanner7["delete"](c)}.bind(this));c.addListener(b("ChromecastSessionEnum").ERROR,function(a){this.emit(b("ChromecastScannerEnum").ERROR,a)}.bind(this));return c};j.prototype.$ChromecastScanner10=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:c.next=3;return b("regeneratorRuntime").awrap(h());case 3:a=c.sent,a.addReceiverActionListener(function(c,d){switch(d){case a.ReceiverAction.CAST:this.emit(b("ChromecastScannerEnum").CAST,c);break;case a.ReceiverAction.STOP:this.$ChromecastScanner7.forEach(function(a){return a.disconnect()});break}}.bind(this));case 5:case"end":return c.stop()}},null,this)};e.exports=j}),null);
__d("CastingExperienceManager",["invariant","regeneratorRuntime","Promise","ChromecastConfig","ChromecastScanner","ChromecastScannerEnum","EventEmitter","Random","SubscriptionsHandler","WebStorage","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("WebStorage").getLocalStorage(),j=null;a=babelHelpers.inherits(k,b("EventEmitter"));h=a&&a.prototype;function k(){__p&&__p();h.constructor.call(this);this.$CastingExperienceManager5=new(b("ChromecastScanner"))(b("ChromecastConfig").APP_ID,b("ChromecastConfig").NAMESPACE,b("ChromecastConfig").AUTO_SCAN);this.$CastingExperienceManager2=null;this.$CastingExperienceManager1=!1;this.$CastingExperienceManager4=0;this.$CastingExperienceManager7=null;this.$CastingExperienceManager10=new Map();var a=new(b("SubscriptionsHandler"))();a.addSubscriptions(this.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").RECEIVER_STATUS_CHANGED,function(a){return this.$CastingExperienceManager11(a)}.bind(this)),this.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").SESSION_DISCONNECTED,function(){return this.$CastingExperienceManager12()}.bind(this)),this.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").SESSION_STARTED,function(a){return this.$CastingExperienceManager13(a)}.bind(this)),this.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").SESSION_DISCONNECTED,function(){return this.$CastingExperienceManager14()}.bind(this)),this.$CastingExperienceManager5.addListener(b("ChromecastScannerEnum").ERROR,function(a){return this.$CastingExperienceManager15(a)}.bind(this)));this.$CastingExperienceManager8=this.$CastingExperienceManager5.ready();b("promiseDone")(this.$CastingExperienceManager8.then(function(){this.$CastingExperienceManager2=!0,this.$CastingExperienceManager1=!0,this.emit(k.READY)}.bind(this),function(b){this.$CastingExperienceManager2=!1,a.release(),this.emit(k.NOT_SUPPORTED,b)}.bind(this)))}k.getInstance=function(){j||(j=new k());return j};k.prototype.ready=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$CastingExperienceManager8);case 2:case"end":return a.stop()}},null,this)};k.prototype.getLastError=function(){return this.$CastingExperienceManager3};k.prototype.hasSupport=function(){return this.$CastingExperienceManager2};k.prototype.hasFoundReceiver=function(){return this.$CastingExperienceManager5.hasFoundReceiver()};k.prototype.getSession=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.ready());case 2:if(!this.$CastingExperienceManager6){c.next=4;break}return c.abrupt("return",this.$CastingExperienceManager6);case 4:this.$CastingExperienceManager9||(this.$CastingExperienceManager9=this.$CastingExperienceManager16());a=null;c.prev=6;c.next=9;return b("regeneratorRuntime").awrap(this.$CastingExperienceManager9);case 9:a=c.sent;c.next=16;break;case 12:c.prev=12;c.t0=c["catch"](6);this.emit(k.ERROR,c.t0);throw c.t0;case 16:c.prev=16;this.$CastingExperienceManager9=null;return c.finish(16);case 19:return c.abrupt("return",a);case 20:case"end":return c.stop()}},null,this,[[6,12,16,19]])};k.prototype.$CastingExperienceManager16=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$CastingExperienceManager5.getSession());case 2:a=c.sent;this.$CastingExperienceManager6||(this.$CastingExperienceManager6=a);return c.abrupt("return",this.$CastingExperienceManager6);case 5:case"end":return c.stop()}},null,this)};k.prototype.isRequestingSession=function(){return!!this.$CastingExperienceManager9};k.prototype.getSessionKey=function(){var a=null;i&&(a=i.getItem("CastingSessionKey"));a||(a=b("Random").uint32().toString(16),i&&i.setItem("CastingSessionKey",a));return a};k.prototype.isCasting=function(a){var b=!!this.$CastingExperienceManager6&&this.$CastingExperienceManager6.isCasting();b&&a&&(b=!!this.$CastingExperienceManager7&&this.$CastingExperienceManager7.indexOf(a)>=0);return b};k.prototype.startCasting=function(a,c,d){__p&&__p();var e,f,g;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:if(this.isCasting(a)){h.next=14;break}e=null;if(!(b("ChromecastConfig").VERSION_LAUNCH_MESSAGE&&d)){h.next=8;break}h.next=5;return b("regeneratorRuntime").awrap(this.sendVersionLaunch(a,c,d));case 5:e=h.sent;h.next=11;break;case 8:h.next=10;return b("regeneratorRuntime").awrap(this.sendLaunch(a));case 10:e=h.sent;case 11:f=e,g=f.target,this.$CastingExperienceManager7=g;case 14:case"end":return h.stop()}},null,this)};k.prototype.stopCasting=function(){__p&&__p();var a;return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!this.isCasting()){c.next=6;break}c.next=3;return b("regeneratorRuntime").awrap(this.getSession());case 3:a=c.sent;c.next=6;return b("regeneratorRuntime").awrap(a.disconnect());case 6:this.$CastingExperienceManager17();case 7:case"end":return c.stop()}},null,this)};k.prototype.$CastingExperienceManager17=function(){this.$CastingExperienceManager6=null,this.$CastingExperienceManager7=null};k.prototype.getTarget=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(this.$CastingExperienceManager7){d.next=10;break}d.next=3;return b("regeneratorRuntime").awrap(this.getSession());case 3:d.next=5;return b("regeneratorRuntime").awrap(this.sendVersion());case 5:a=d.sent;c=a.currently_running_experience;if(c){d.next=9;break}throw new Error("Session has no target");case 9:this.$CastingExperienceManager7=c;case 10:return d.abrupt("return",this.$CastingExperienceManager7);case 11:case"end":return d.stop()}},null,this)};k.prototype.setVolume=function(a){this.isCasting()&&(this.$CastingExperienceManager6&&this.$CastingExperienceManager6.setVolume(a))};k.prototype.mute=function(){this.isCasting()&&(this.$CastingExperienceManager6&&this.$CastingExperienceManager6.mute())};k.prototype.unmute=function(){this.isCasting()&&(this.$CastingExperienceManager6&&this.$CastingExperienceManager6.unmute())};k.prototype.isFeedbackEnabled=function(){__p&&__p();var a,c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.getExperienceState());case 2:a=d.sent;c=a.feedback_disabled;return d.abrupt("return",!!c);case 5:case"end":return d.stop()}},null,this)};k.prototype.setFeedbackEnabled=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(this.isCasting()){d.next=2;break}return d.abrupt("return");case 2:c=a?"turn_on_feedback":"turn_off_feedback";d.next=5;return b("regeneratorRuntime").awrap(this.sendCommand(c));case 5:case"end":return d.stop()}},null,this)};k.prototype.sendMessage=function(a,c,d){__p&&__p();var e,f;return b("regeneratorRuntime").async(function(h){__p&&__p();while(1)switch(h.prev=h.next){case 0:h.next=2;return b("regeneratorRuntime").awrap(this.getSession());case 2:e=h.sent;e||g(0);f={target:a,type:c,data:d,num:this.$CastingExperienceManager4+=2,timestamp:Date.now()};h.next=7;return b("regeneratorRuntime").awrap(e.sendMessage(f));case 7:return h.abrupt("return",{msgNum:f.num});case 8:case"end":return h.stop()}},null,this)};k.prototype.receiveMessage=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.getSession());case 2:c=d.sent;c||g(0);return d.abrupt("return",new(b("Promise"))(function(b,d){var e=c.addListener("message",function(c){try{c=JSON.parse(c);var f=!a||a(c);f&&(e.remove(),b(c))}catch(a){e.remove(),d(a)}})}));case 5:case"end":return d.stop()}},null,this)};k.prototype.sendVersion=function(){__p&&__p();var a,c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:a=this.getSessionKey();f.next=3;return b("regeneratorRuntime").awrap(this.sendMessage("version","version_request",{version:k.VERSION,client_cast_session:a}));case 3:c=f.sent;d=c.msgNum;f.next=7;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===d}));case 7:e=f.sent;e.type==="version_response"||g(0);e.data||g(0);return f.abrupt("return",e.data);case 11:case"end":return f.stop()}},null,this)};k.prototype.sendLaunch=function(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:f.next=2;return b("regeneratorRuntime").awrap(this.sendMessage("experience","launch",{name:a}));case 2:c=f.sent;d=c.msgNum;f.next=6;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===d}));case 6:e=f.sent;e.type==="launch_response"||g(0);return f.abrupt("return",e.data);case 9:case"end":return f.stop()}},null,this)};k.prototype.sendVersionLaunch=function(a,c,d){__p&&__p();var e,f,h,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:e=this.getSessionKey();j.next=3;return b("regeneratorRuntime").awrap(this.sendMessage("version_launch","version_launch",{version:k.VERSION,client_cast_session:e,name:a,params:c,payload:d}));case 3:f=j.sent;h=f.msgNum;j.next=7;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===h}));case 7:i=j.sent;i.type==="version_launch_response"||g(0);return j.abrupt("return",i.data);case 10:case"end":return j.stop()}},null,this)};k.prototype.sendCommand=function(a,c,d){__p&&__p();var e,f,h,i;return b("regeneratorRuntime").async(function(j){__p&&__p();while(1)switch(j.prev=j.next){case 0:j.next=2;return b("regeneratorRuntime").awrap(this.getTarget());case 2:e=j.sent;j.next=5;return b("regeneratorRuntime").awrap(this.sendMessage(e,"experience_command",{cmd:a,params:c,payload:d}));case 5:f=j.sent;h=f.msgNum;j.next=9;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===h}));case 9:i=j.sent;i.type==="command_result"||g(0);a==="stop_showing_photo"&&this.emit(k.STOP_VIEW);return j.abrupt("return",i.data);case 13:case"end":return j.stop()}},null,this)};k.prototype.getExperienceState=function(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){while(1)switch(f.prev=f.next){case 0:c=a||"";d=this.$CastingExperienceManager10.get(c);d||(d=this.$CastingExperienceManager18(a),this.$CastingExperienceManager10.set(c,d),e=function(){return this.$CastingExperienceManager10["delete"](c)}.bind(this),b("promiseDone")(d.then(e,e)));return f.abrupt("return",d);case 4:case"end":return f.stop()}},null,this)};k.prototype.$CastingExperienceManager18=function(a){__p&&__p();var c,d,e;return b("regeneratorRuntime").async(function(f){__p&&__p();while(1)switch(f.prev=f.next){case 0:if(a){f.next=4;break}f.next=3;return b("regeneratorRuntime").awrap(this.getTarget());case 3:a=f.sent;case 4:f.next=6;return b("regeneratorRuntime").awrap(this.sendMessage(a,"get_experience_state",{}));case 6:c=f.sent;d=c.msgNum;f.next=10;return b("regeneratorRuntime").awrap(this.receiveMessage(function(a){return a.response_num===d}));case 10:e=f.sent;e.type==="experience_state"||g(0);return f.abrupt("return",e.data);case 13:case"end":return f.stop()}},null,this)};k.prototype.$CastingExperienceManager11=function(a){a=a.foundReceiver;this.emit(k.RECEIVER_STATUS_CHANGED,!!a)};k.prototype.$CastingExperienceManager12=function(){this.$CastingExperienceManager17(),this.emit(k.RECEIVER_DISCONNECTED)};k.prototype.$CastingExperienceManager13=function(a){__p&&__p();var c,d,e,f;return b("regeneratorRuntime").async(function(g){__p&&__p();while(1)switch(g.prev=g.next){case 0:this.$CastingExperienceManager6=a;c="extension";this.$CastingExperienceManager9&&(c="site");g.next=5;return b("regeneratorRuntime").awrap(this.sendVersion());case 5:d=g.sent;e=d.success;f=d.currently_running_experience;if(e){g.next=10;break}throw new Error("Failed to sync versions with session");case 10:f&&(this.$CastingExperienceManager7=f),this.emit(k.SESSION_STARTED,{session:a,source:c,success:e,target:this.$CastingExperienceManager7}),a.addListener("message",function(a){try{a=JSON.parse(a);this.$CastingExperienceManager19(a)}catch(a){this.emit(k.ERROR,a)}}.bind(this));case 13:case"end":return g.stop()}},null,this)};k.prototype.$CastingExperienceManager14=function(){var a=this.$CastingExperienceManager6;this.$CastingExperienceManager17();this.emit(k.SESSION_DISCONNECTED,a)};k.prototype.$CastingExperienceManager19=function(a){this.emit(k.SESSION_MESSAGE,a),a.type==="experience_ended"&&(this.$CastingExperienceManager7=null,this.emit(k.EXPERIENCE_ENDED))};k.prototype.$CastingExperienceManager15=function(a){this.$CastingExperienceManager3=a,this.emit(k.ERROR,a)};k.VERSION="1.2.0";k.RECEIVER_STATUS_CHANGED="receiverstatuschanged";k.RECEIVER_DISCONNECTED="receiverdisconnected";k.SESSION_STARTED="sessionstarted";k.SESSION_MESSAGE="sessionmessage";k.SESSION_DISCONNECTED="sessiondisconnected";k.EXPERIENCE_ENDED="experienceended";k.ERROR="error";k.NOT_SUPPORTED="notsupported";k.READY="ready";k.STOP_VIEW="stopview";e.exports=k}),null);
__d("XCastingVideoPayloadAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/cast/async/video/payload/",{})}),null);
__d("VideoCastingComponent",["cx","invariant","regeneratorRuntime","Promise","Arbiter","AsyncRequest","CastingExperienceManager","ChromecastConfig","CSS","FunnelLogger","Random","ScriptPath","StreamingReactionsTrayEvents","SubscriptionsHandler","VideoPlayerLoggerEvent","VideoPlayerLoggerEventField","VideoPlayerReason","XCastingVideoPayloadAsyncController","collectDataAttributes","promiseDone"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i="WWW_VIDEOS_CASTING_FUNNEL";function a(a,c){__p&&__p();this.$1=b("ChromecastConfig").EXPERIENCE_NAME,this.$2=b("CastingExperienceManager").getInstance(),this.$3=a,this.$4=!1,this.$5=!1,this.$6=!1,this.$7=null,this.$9=null,this.$13=null,this.$8=c,this.$10=new(b("SubscriptionsHandler"))(),b("CSS").addClass(this.$3.getVideoNode(),"_1_d1"),a.registerOption("casting","isSupported",function(){return this.$2.hasSupport()}.bind(this)),a.registerOption("casting","hasFoundReceiver",function(){return this.$2.hasFoundReceiver()}.bind(this)),a.registerOption("casting","isCasting",function(){return this.$4}.bind(this),function(a){return b("promiseDone")(this.$14(a))}.bind(this)),a.registerOption("casting","isPlaying",function(){return this.$6}.bind(this),function(a){return b("promiseDone")(this.$15(a))}.bind(this)),a.registerOption("casting","lastError",function(){return this.$2.getLastError()}.bind(this)),this.$10.addSubscriptions(this.$2.addListener(b("CastingExperienceManager").RECEIVER_STATUS_CHANGED,function(a){return b("promiseDone")(this.$16(a))}.bind(this)),this.$2.addListener(b("CastingExperienceManager").RECEIVER_DISCONNECTED,function(){return b("promiseDone")(this.$17())}.bind(this)),this.$2.addListener(b("CastingExperienceManager").SESSION_DISCONNECTED,function(){return b("promiseDone")(this.$17())}.bind(this)),this.$2.addListener(b("CastingExperienceManager").EXPERIENCE_ENDED,function(){return b("promiseDone")(this.$17())}.bind(this)),this.$2.addListener(b("CastingExperienceManager").NOT_SUPPORTED,function(){return b("promiseDone")(this.$18())}.bind(this)),this.$2.addListener(b("CastingExperienceManager").READY,function(){return b("promiseDone")(this.$19())}.bind(this)),this.$2.addListener(b("CastingExperienceManager").SESSION_MESSAGE,function(a){return b("promiseDone")(this.$20(a))}.bind(this)),this.$2.addListener(b("CastingExperienceManager").ERROR,function(a){return b("promiseDone")(this.$21(a))}.bind(this)),this.$3.addListener("seekEnd",function(a){a=a.position;this.$3.isLiveVideo()||b("promiseDone")(this.$22(a))}.bind(this)),this.$3.addListener("muteVideo",function(){b("promiseDone")(this.$23())}.bind(this)),this.$3.addListener("unmuteVideo",function(){b("promiseDone")(this.$24())}.bind(this)),this.$3.addListener("changeVolume",function(a){a=a.volume;b("promiseDone")(this.$25(a))}.bind(this)),this.$3.addListener("stateChange",function(){this.$3.isState("destroyed")&&this.destroy(),this.$3.isState("playing")&&b("promiseDone")(this.$26())}.bind(this)),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").HideChannelViewDetails,function(){return b("promiseDone")(this.$27(!0))}.bind(this)),b("Arbiter").subscribe(b("StreamingReactionsTrayEvents").ShowChannelViewDetails,function(){return b("promiseDone")(this.$27(!1))}.bind(this)))}a.prototype.destroy=function(){this.$10.release()};a.prototype.$28=function(a){a in b("FunnelLogger")||h(0);this.$11||(this.$11=b("Random").uint32(),b("FunnelLogger").startFunnel(i,this.$11));for(var c=arguments.length,d=Array(c>1?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];b("FunnelLogger")[a].apply(b("FunnelLogger"),[i,this.$11].concat(d))};a.prototype.$29=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:this.$7||(this.$7=this.$30());a.next=3;return b("regeneratorRuntime").awrap(this.$7);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},null,this)};a.prototype.$30=function(){__p&&__p();var a,c,d;return b("regeneratorRuntime").async(function(e){__p&&__p();while(1)switch(e.prev=e.next){case 0:a=b("XCastingVideoPayloadAsyncController").getURIBuilder().getURI();c=this.$31();e.next=4;return b("regeneratorRuntime").awrap(new(b("Promise"))(function(d,e){new(b("AsyncRequest"))().setURI(a).setMethod("POST").setData(c).setErrorHandler(function(a){return e(new Error(a.errorDescription))}).setHandler(function(a){return d(a.getPayload())}).send()}));case 4:d=e.sent;return e.abrupt("return",d);case 6:case"end":return e.stop()}},null,this)};a.prototype.$31=function(){var a=babelHelpers["extends"]({},this.$8,{video_id:this.$3.getVideoID(),is_ad:this.$3.isAd(),script_path:b("ScriptPath").getScriptPath()}),c=this.$3.getVideoChannelID();c&&(a.video_channel_id=c);c=this.$3.getPlayerOrigin();c&&(a.player_origin=c);c=this.$3.getPlayerSuborigin();c&&(a.player_suborigin=c);c=b("collectDataAttributes")(this.$3.getRootNode(),["ft"]);c&&c.ft&&(a.tracking_codes=[JSON.stringify(c.ft)]);return a};a.prototype.$14=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:this.$3.logEvent(b("VideoPlayerLoggerEvent").CHROMECAST_CAST_CLICKED);if(!a){c.next=19;break}this.$4=!0;this.$3.emit("casting/castingStateChange",this.$4);this.$3.isState("playing")&&this.$3.pause(b("VideoPlayerReason").USER);c.prev=5;this.$28("appendAction","cast_attempted");c.next=9;return b("regeneratorRuntime").awrap(this.$32());case 9:this.$28("appendAction","cast_started");c.next=17;break;case 12:c.prev=12,c.t0=c["catch"](5),this.$28("appendAction","cast_failed"),this.$4=!1,this.$3.emit("casting/castingStateChange",this.$4);case 17:c.next=23;break;case 19:this.$4=!1;this.$3.emit("casting/castingStateChange",this.$4);c.next=23;return b("regeneratorRuntime").awrap(this.$33());case 23:case"end":return c.stop()}},null,this,[[5,12]])};a.prototype.$32=function(){__p&&__p();var a,c,d,e,f,g,h,i,j,k,l,m,n;return b("regeneratorRuntime").async(function(o){__p&&__p();while(1)switch(o.prev=o.next){case 0:this.$3.pause(b("VideoPlayerReason").USER);a=this.$3.getCurrentTimePosition();this.$13=a;c=this.$29();d=this.$2.isCasting(this.$1);if(d){o.next=21;break}this.$28("appendAction","session_requested");if(!b("ChromecastConfig").VERSION_LAUNCH_MESSAGE){o.next=18;break}o.next=10;return b("regeneratorRuntime").awrap(b("Promise").all([c,this.$2.getSession()]));case 10:e=o.sent;f=e[0];o.next=14;return b("regeneratorRuntime").awrap(this.$34(!0));case 14:o.next=16;return b("regeneratorRuntime").awrap(this.$2.startCasting(this.$1,{position:a},f));case 16:o.next=20;break;case 18:o.next=20;return b("regeneratorRuntime").awrap(this.$2.startCasting(this.$1));case 20:this.$28("appendAction","session_started");case 21:o.next=23;return b("regeneratorRuntime").awrap(this.$34(!0));case 23:o.next=25;return b("regeneratorRuntime").awrap(this.$2.getSession());case 25:g=o.sent;h=g.getVolume();!g.isMuted()&&h&&(this.$3.unmute(),this.$3.setVolume(h));if(!(!d&&b("ChromecastConfig").VERSION_LAUNCH_MESSAGE)){o.next=30;break}return o.abrupt("return");case 30:o.next=32;return b("regeneratorRuntime").awrap(this.$35());case 32:i=o.sent;j=!!i.playing_video_id;k=this.$9&&i.playing_video_id===this.$9;if(!(!j||!k)){o.next=42;break}o.next=38;return b("regeneratorRuntime").awrap(c);case 38:l=o.sent;this.$28("appendAction","request_next_video");o.next=42;return b("regeneratorRuntime").awrap(this.$36(l));case 42:if(!(!j||k)){o.next=51;break}this.$28("appendAction","request_playing");o.next=46;return b("regeneratorRuntime").awrap(this.$37(a));case 46:m=o.sent;this.$28("appendAction","playing");this.$9=m.reference_id;o.next=60;break;case 51:this.$9=null;this.$28("appendAction","request_skip");o.next=55;return b("regeneratorRuntime").awrap(this.$38());case 55:o.next=57;return b("regeneratorRuntime").awrap(this.$39(a));case 57:n=o.sent,this.$28("appendAction","playing"),this.$9=n.reference_id;case 60:case"end":return o.stop()}},null,this)};a.prototype.$33=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:if(!this.$6){a.next=4;break}a.next=3;return b("regeneratorRuntime").awrap(this.$40());case 3:this.$6=!1;case 4:a.next=6;return b("regeneratorRuntime").awrap(this.$41());case 6:case"end":return a.stop()}},null,this)};a.prototype.$15=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!a){c.next=5;break}c.next=3;return b("regeneratorRuntime").awrap(this.$37());case 3:c.next=7;break;case 5:c.next=7;return b("regeneratorRuntime").awrap(this.$42());case 7:this.$6=a,this.$3.emit("casting/playStateChange",this.$6);case 9:case"end":return c.stop()}},null,this)};a.prototype.$34=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:b("CSS").conditionClass(this.$3.getVideoNode(),"_1_d3",a);case 1:case"end":return c.stop()}},null,this)};a.prototype.$43=function(a){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:typeof a!=="number"&&(a=this.$13),this.$3.seek(a);case 2:case"end":return b.stop()}},null,this)};a.prototype.$27=function(a){return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.setFeedbackEnabled(!a));case 2:this.$5=a;case 3:case"end":return c.stop()}},null,this)};a.prototype.$41=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:this.$6&&(this.$6=!1,this.$3.emit("casting/playStateChange",this.$6));this.$4&&(this.$4=!1,this.$3.emit("casting/castingStateChange",this.$4));if(!(typeof this.$13==="number")){a.next=5;break}a.next=5;return b("regeneratorRuntime").awrap(this.$43());case 5:a.next=7;return b("regeneratorRuntime").awrap(this.$34(!1));case 7:case"end":return a.stop()}},null,this)};a.prototype.$20=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(!this.$4){c.next=4;break}if(!(a.type==="status_update")){c.next=4;break}c.next=4;return b("regeneratorRuntime").awrap(this.$44(a.data));case 4:case"end":return c.stop()}},null,this)};a.prototype.$44=function(a){__p&&__p();var c;return b("regeneratorRuntime").async(function(d){__p&&__p();while(1)switch(d.prev=d.next){case 0:if(!(this.$9&&this.$9!==a.reference_id)){d.next=4;break}d.next=3;return b("regeneratorRuntime").awrap(this.$41());case 3:return d.abrupt("return");case 4:c=a.state==="play",c!==this.$6&&(this.$6=c,this.$3.emit("casting/playStateChange",this.$6)),a.position>0&&(this.$13=a.position,this.$3.emit("casting/updateStatus",{position:a.position}));case 7:case"end":return d.stop()}},null,this)};a.prototype.$22=function(a){__p&&__p();return b("regeneratorRuntime").async(function(c){__p&&__p();while(1)switch(c.prev=c.next){case 0:if(this.$4){c.next=2;break}return c.abrupt("return");case 2:c.next=4;return b("regeneratorRuntime").awrap(this.$39(a));case 4:if(this.$6){c.next=7;break}c.next=7;return b("regeneratorRuntime").awrap(this.$15(!0));case 7:case"end":return c.stop()}},null,this)};a.prototype.$25=function(a){__p&&__p();return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:if(this.$4){b.next=2;break}return b.abrupt("return");case 2:this.$2.setVolume(a);case 3:case"end":return b.stop()}},null,this)};a.prototype.$23=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(this.$4){a.next=2;break}return a.abrupt("return");case 2:this.$2.mute();case 3:case"end":return a.stop()}},null,this)};a.prototype.$24=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:if(this.$4){a.next=2;break}return a.abrupt("return");case 2:this.$2.unmute();case 3:case"end":return a.stop()}},null,this)};a.prototype.$16=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:a&&this.$28("appendActionIfNew","found_receiver"),this.$3.logEvent(b("VideoPlayerLoggerEvent").CHROMECAST_AVAILABILITY_CHECKED,(c={player:this.$3.getPlayerVersion(),cast_button_visible:a,connection:null,raw_client_time:Date.now()/1e3},c[b("VideoPlayerLoggerEventField").CHROMECAST_RECEIVER_AVAILABLE]=a,c)),this.$3.emit("casting/receiverStateChange",a);case 3:case"end":return d.stop()}},null,this)};a.prototype.$17=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:this.$28("appendAction","session_disconnected");a.next=3;return b("regeneratorRuntime").awrap(this.$41());case 3:case"end":return a.stop()}},null,this)};a.prototype.$19=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:this.$3.emit("casting/supportStateChange");case 1:case"end":return a.stop()}},null,this)};a.prototype.$18=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:this.$3.logEvent(b("VideoPlayerLoggerEvent").CHROMECAST_NOT_SUPPORTED),this.$3.emit("casting/notSupported");case 2:case"end":return a.stop()}},null,this)};a.prototype.$26=function(){__p&&__p();return b("regeneratorRuntime").async(function(a){__p&&__p();while(1)switch(a.prev=a.next){case 0:if(!this.$4){a.next=9;break}this.$3.pause(b("VideoPlayerReason").USER);if(!this.$6){a.next=7;break}a.next=5;return b("regeneratorRuntime").awrap(this.$42());case 5:a.next=9;break;case 7:a.next=9;return b("regeneratorRuntime").awrap(this.$37());case 9:case"end":return a.stop()}},null,this)};a.prototype.$36=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("next_video",{feedback_disabled:this.$5},a));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)};a.prototype.$37=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("play_video",{position:a}));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)};a.prototype.$42=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("pause_video"));case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};a.prototype.$39=function(a){var c;return b("regeneratorRuntime").async(function(d){while(1)switch(d.prev=d.next){case 0:d.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("seek_video",{position:a}));case 2:c=d.sent;return d.abrupt("return",c);case 4:case"end":return d.stop()}},null,this)};a.prototype.$38=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("skip_video"));case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};a.prototype.$40=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.sendCommand("stop_video"));case 2:a=c.sent;return c.abrupt("return",a);case 4:case"end":return c.stop()}},null,this)};a.prototype.$35=function(){var a;return b("regeneratorRuntime").async(function(c){while(1)switch(c.prev=c.next){case 0:c.next=2;return b("regeneratorRuntime").awrap(this.$2.getExperienceState());case 2:a=c.sent;return c.abrupt("return",a.experience_specific_state);case 4:case"end":return c.stop()}},null,this)};a.prototype.$21=function(a){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:this.$12=a,this.$3.emit("casting/error",a);case 2:case"end":return b.stop()}},null,this)};e.exports=a}),null);